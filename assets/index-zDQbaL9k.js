(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function bs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ma={exports:{}},zi={},Da={exports:{}},Ae={};var Mf;function I0(){if(Mf)return Ae;Mf=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,R={};function _(D,q,k){this.props=D,this.context=q,this.refs=R,this.updater=k||w}_.prototype.isReactComponent={},_.prototype.setState=function(D,q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,q,"setState")},_.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function M(){}M.prototype=_.prototype;function G(D,q,k){this.props=D,this.context=q,this.refs=R,this.updater=k||w}var b=G.prototype=new M;b.constructor=G,N(b,_.prototype),b.isPureReactComponent=!0;var O=Array.isArray,B=Object.prototype.hasOwnProperty,I={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function le(D,q,k){var pe,Ce={},me=null,Ne=null;if(q!=null)for(pe in q.ref!==void 0&&(Ne=q.ref),q.key!==void 0&&(me=""+q.key),q)B.call(q,pe)&&!$.hasOwnProperty(pe)&&(Ce[pe]=q[pe]);var Ie=arguments.length-2;if(Ie===1)Ce.children=k;else if(1<Ie){for(var Le=Array(Ie),Qe=0;Qe<Ie;Qe++)Le[Qe]=arguments[Qe+2];Ce.children=Le}if(D&&D.defaultProps)for(pe in Ie=D.defaultProps,Ie)Ce[pe]===void 0&&(Ce[pe]=Ie[pe]);return{$$typeof:t,type:D,key:me,ref:Ne,props:Ce,_owner:I.current}}function K(D,q){return{$$typeof:t,type:D.type,key:q,ref:D.ref,props:D.props,_owner:D._owner}}function re(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function te(D){var q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(k){return q[k]})}var ie=/\/+/g;function ae(D,q){return typeof D=="object"&&D!==null&&D.key!=null?te(""+D.key):q.toString(36)}function Y(D,q,k,pe,Ce){var me=typeof D;(me==="undefined"||me==="boolean")&&(D=null);var Ne=!1;if(D===null)Ne=!0;else switch(me){case"string":case"number":Ne=!0;break;case"object":switch(D.$$typeof){case t:case e:Ne=!0}}if(Ne)return Ne=D,Ce=Ce(Ne),D=pe===""?"."+ae(Ne,0):pe,O(Ce)?(k="",D!=null&&(k=D.replace(ie,"$&/")+"/"),Y(Ce,q,k,"",function(Qe){return Qe})):Ce!=null&&(re(Ce)&&(Ce=K(Ce,k+(!Ce.key||Ne&&Ne.key===Ce.key?"":(""+Ce.key).replace(ie,"$&/")+"/")+D)),q.push(Ce)),1;if(Ne=0,pe=pe===""?".":pe+":",O(D))for(var Ie=0;Ie<D.length;Ie++){me=D[Ie];var Le=pe+ae(me,Ie);Ne+=Y(me,q,k,Le,Ce)}else if(Le=x(D),typeof Le=="function")for(D=Le.call(D),Ie=0;!(me=D.next()).done;)me=me.value,Le=pe+ae(me,Ie++),Ne+=Y(me,q,k,Le,Ce);else if(me==="object")throw q=String(D),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ne}function ee(D,q,k){if(D==null)return D;var pe=[],Ce=0;return Y(D,pe,"","",function(me){return q.call(k,me,Ce++)}),pe}function he(D){if(D._status===-1){var q=D._result;q=q(),q.then(function(k){(D._status===0||D._status===-1)&&(D._status=1,D._result=k)},function(k){(D._status===0||D._status===-1)&&(D._status=2,D._result=k)}),D._status===-1&&(D._status=0,D._result=q)}if(D._status===1)return D._result.default;throw D._result}var xe={current:null},H={transition:null},X={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:H,ReactCurrentOwner:I};function T(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:ee,forEach:function(D,q,k){ee(D,function(){q.apply(this,arguments)},k)},count:function(D){var q=0;return ee(D,function(){q++}),q},toArray:function(D){return ee(D,function(q){return q})||[]},only:function(D){if(!re(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ae.Component=_,Ae.Fragment=n,Ae.Profiler=s,Ae.PureComponent=G,Ae.StrictMode=i,Ae.Suspense=m,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ae.act=T,Ae.cloneElement=function(D,q,k){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var pe=N({},D.props),Ce=D.key,me=D.ref,Ne=D._owner;if(q!=null){if(q.ref!==void 0&&(me=q.ref,Ne=I.current),q.key!==void 0&&(Ce=""+q.key),D.type&&D.type.defaultProps)var Ie=D.type.defaultProps;for(Le in q)B.call(q,Le)&&!$.hasOwnProperty(Le)&&(pe[Le]=q[Le]===void 0&&Ie!==void 0?Ie[Le]:q[Le])}var Le=arguments.length-2;if(Le===1)pe.children=k;else if(1<Le){Ie=Array(Le);for(var Qe=0;Qe<Le;Qe++)Ie[Qe]=arguments[Qe+2];pe.children=Ie}return{$$typeof:t,type:D.type,key:Ce,ref:me,props:pe,_owner:Ne}},Ae.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:l,_context:D},D.Consumer=D},Ae.createElement=le,Ae.createFactory=function(D){var q=le.bind(null,D);return q.type=D,q},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(D){return{$$typeof:d,render:D}},Ae.isValidElement=re,Ae.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:he}},Ae.memo=function(D,q){return{$$typeof:h,type:D,compare:q===void 0?null:q}},Ae.startTransition=function(D){var q=H.transition;H.transition={};try{D()}finally{H.transition=q}},Ae.unstable_act=T,Ae.useCallback=function(D,q){return xe.current.useCallback(D,q)},Ae.useContext=function(D){return xe.current.useContext(D)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(D){return xe.current.useDeferredValue(D)},Ae.useEffect=function(D,q){return xe.current.useEffect(D,q)},Ae.useId=function(){return xe.current.useId()},Ae.useImperativeHandle=function(D,q,k){return xe.current.useImperativeHandle(D,q,k)},Ae.useInsertionEffect=function(D,q){return xe.current.useInsertionEffect(D,q)},Ae.useLayoutEffect=function(D,q){return xe.current.useLayoutEffect(D,q)},Ae.useMemo=function(D,q){return xe.current.useMemo(D,q)},Ae.useReducer=function(D,q,k){return xe.current.useReducer(D,q,k)},Ae.useRef=function(D){return xe.current.useRef(D)},Ae.useState=function(D){return xe.current.useState(D)},Ae.useSyncExternalStore=function(D,q,k){return xe.current.useSyncExternalStore(D,q,k)},Ae.useTransition=function(){return xe.current.useTransition()},Ae.version="18.3.1",Ae}var Df;function Cu(){return Df||(Df=1,Da.exports=I0()),Da.exports}var Lf;function k0(){if(Lf)return zi;Lf=1;var t=Cu(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,m,h){var g,v={},x=null,w=null;h!==void 0&&(x=""+h),m.key!==void 0&&(x=""+m.key),m.ref!==void 0&&(w=m.ref);for(g in m)i.call(m,g)&&!l.hasOwnProperty(g)&&(v[g]=m[g]);if(d&&d.defaultProps)for(g in m=d.defaultProps,m)v[g]===void 0&&(v[g]=m[g]);return{$$typeof:e,type:d,key:x,ref:w,props:v,_owner:s.current}}return zi.Fragment=n,zi.jsx=u,zi.jsxs=u,zi}var Uf;function A0(){return Uf||(Uf=1,Ma.exports=k0()),Ma.exports}var C=A0(),ve=Cu();const N0=bs(ve);var gs={},La={exports:{}},Tt={},Ua={exports:{}},ba={};var bf;function R0(){return bf||(bf=1,(function(t){function e(H,X){var T=H.length;H.push(X);e:for(;0<T;){var D=T-1>>>1,q=H[D];if(0<s(q,X))H[D]=X,H[T]=q,T=D;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var X=H[0],T=H.pop();if(T!==X){H[0]=T;e:for(var D=0,q=H.length,k=q>>>1;D<k;){var pe=2*(D+1)-1,Ce=H[pe],me=pe+1,Ne=H[me];if(0>s(Ce,T))me<q&&0>s(Ne,Ce)?(H[D]=Ne,H[me]=T,D=me):(H[D]=Ce,H[pe]=T,D=pe);else if(me<q&&0>s(Ne,T))H[D]=Ne,H[me]=T,D=me;else break e}}return X}function s(H,X){var T=H.sortIndex-X.sortIndex;return T!==0?T:H.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],h=[],g=1,v=null,x=3,w=!1,N=!1,R=!1,_=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(H){for(var X=n(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=H)i(h),X.sortIndex=X.expirationTime,e(m,X);else break;X=n(h)}}function O(H){if(R=!1,b(H),!N)if(n(m)!==null)N=!0,he(B);else{var X=n(h);X!==null&&xe(O,X.startTime-H)}}function B(H,X){N=!1,R&&(R=!1,M(le),le=-1),w=!0;var T=x;try{for(b(X),v=n(m);v!==null&&(!(v.expirationTime>X)||H&&!te());){var D=v.callback;if(typeof D=="function"){v.callback=null,x=v.priorityLevel;var q=D(v.expirationTime<=X);X=t.unstable_now(),typeof q=="function"?v.callback=q:v===n(m)&&i(m),b(X)}else i(m);v=n(m)}if(v!==null)var k=!0;else{var pe=n(h);pe!==null&&xe(O,pe.startTime-X),k=!1}return k}finally{v=null,x=T,w=!1}}var I=!1,$=null,le=-1,K=5,re=-1;function te(){return!(t.unstable_now()-re<K)}function ie(){if($!==null){var H=t.unstable_now();re=H;var X=!0;try{X=$(!0,H)}finally{X?ae():(I=!1,$=null)}}else I=!1}var ae;if(typeof G=="function")ae=function(){G(ie)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,ee=Y.port2;Y.port1.onmessage=ie,ae=function(){ee.postMessage(null)}}else ae=function(){_(ie,0)};function he(H){$=H,I||(I=!0,ae())}function xe(H,X){le=_(function(){H(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){N||w||(N=!0,he(B))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var T=x;x=X;try{return H()}finally{x=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var T=x;x=H;try{return X()}finally{x=T}},t.unstable_scheduleCallback=function(H,X,T){var D=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?D+T:D):T=D,H){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=T+q,H={id:g++,callback:X,priorityLevel:H,startTime:T,expirationTime:q,sortIndex:-1},T>D?(H.sortIndex=T,e(h,H),n(m)===null&&H===n(h)&&(R?(M(le),le=-1):R=!0,xe(O,T-D))):(H.sortIndex=q,e(m,H),N||w||(N=!0,he(B))),H},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(H){var X=x;return function(){var T=x;x=X;try{return H.apply(this,arguments)}finally{x=T}}}})(ba)),ba}var Ff;function P0(){return Ff||(Ff=1,Ua.exports=R0()),Ua.exports}var Vf;function M0(){if(Vf)return Tt;Vf=1;var t=Cu(),e=P0();function n(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(r,o){u(r,o),u(r+"Capture",o)}function u(r,o){for(s[r]=o,r=0;r<o.length;r++)i.add(o[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function x(r){return m.call(v,r)?!0:m.call(g,r)?!1:h.test(r)?v[r]=!0:(g[r]=!0,!1)}function w(r,o,a,p){if(a!==null&&a.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function N(r,o,a,p){if(o===null||typeof o>"u"||w(r,o,a,p))return!0;if(p)return!1;if(a!==null)switch(a.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function R(r,o,a,p,y,S,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=y,this.mustUseProperty=a,this.propertyName=r,this.type=o,this.sanitizeURL=S,this.removeEmptyString=E}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new R(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];_[o]=new R(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new R(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new R(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new R(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new R(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new R(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new R(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new R(r,5,!1,r.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function G(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(M,G);_[o]=new R(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(M,G);_[o]=new R(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(M,G);_[o]=new R(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new R(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new R(r,1,!1,r.toLowerCase(),null,!0,!0)});function b(r,o,a,p){var y=_.hasOwnProperty(o)?_[o]:null;(y!==null?y.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(N(o,a,y,p)&&(a=null),p||y===null?x(o)&&(a===null?r.removeAttribute(o):r.setAttribute(o,""+a)):y.mustUseProperty?r[y.propertyName]=a===null?y.type===3?!1:"":a:(o=y.attributeName,p=y.attributeNamespace,a===null?r.removeAttribute(o):(y=y.type,a=y===3||y===4&&a===!0?"":""+a,p?r.setAttributeNS(p,o,a):r.setAttribute(o,a))))}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),I=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),te=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),H=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=H&&r[H]||r["@@iterator"],typeof r=="function"?r:null)}var T=Object.assign,D;function q(r){if(D===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);D=o&&o[1]||""}return`
`+D+r}var k=!1;function pe(r,o){if(!r||k)return"";k=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(V){var p=V}Reflect.construct(r,[],o)}else{try{o.call()}catch(V){p=V}r.call(o.prototype)}else{try{throw Error()}catch(V){p=V}r()}}catch(V){if(V&&p&&typeof V.stack=="string"){for(var y=V.stack.split(`
`),S=p.stack.split(`
`),E=y.length-1,A=S.length-1;1<=E&&0<=A&&y[E]!==S[A];)A--;for(;1<=E&&0<=A;E--,A--)if(y[E]!==S[A]){if(E!==1||A!==1)do if(E--,A--,0>A||y[E]!==S[A]){var P=`
`+y[E].replace(" at new "," at ");return r.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",r.displayName)),P}while(1<=E&&0<=A);break}}}finally{k=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?q(r):""}function Ce(r){switch(r.tag){case 5:return q(r.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return r=pe(r.type,!1),r;case 11:return r=pe(r.type.render,!1),r;case 1:return r=pe(r.type,!0),r;default:return""}}function me(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case $:return"Fragment";case I:return"Portal";case K:return"Profiler";case le:return"StrictMode";case ae:return"Suspense";case Y:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case te:return(r.displayName||"Context")+".Consumer";case re:return(r._context.displayName||"Context")+".Provider";case ie:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ee:return o=r.displayName||null,o!==null?o:me(r.type)||"Memo";case he:o=r._payload,r=r._init;try{return me(r(o))}catch{}}return null}function Ne(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(o);case 8:return o===le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ie(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Le(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Qe(r){var o=Le(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),p=""+r[o];if(!r.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var y=a.get,S=a.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return y.call(this)},set:function(E){p=""+E,S.call(this,E)}}),Object.defineProperty(r,o,{enumerable:a.enumerable}),{getValue:function(){return p},setValue:function(E){p=""+E},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function pn(r){r._valueTracker||(r._valueTracker=Qe(r))}function ro(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var a=o.getValue(),p="";return r&&(p=Le(r)?r.checked?"true":"false":r.value),r=p,r!==a?(o.setValue(r),!0):!1}function mr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function ni(r,o){var a=o.checked;return T({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function ri(r,o){var a=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;a=Ie(o.value!=null?o.value:a),r._wrapperState={initialChecked:p,initialValue:a,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ii(r,o){o=o.checked,o!=null&&b(r,"checked",o,!1)}function gr(r,o){ii(r,o);var a=Ie(o.value),p=o.type;if(a!=null)p==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?yr(r,o.type,a):o.hasOwnProperty("defaultValue")&&yr(r,o.type,Ie(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function io(r,o,a){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,a||o===r.value||(r.value=o),r.defaultValue=o}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function yr(r,o,a){(o!=="number"||mr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var In=Array.isArray;function kn(r,o,a,p){if(r=r.options,o){o={};for(var y=0;y<a.length;y++)o["$"+a[y]]=!0;for(a=0;a<r.length;a++)y=o.hasOwnProperty("$"+r[a].value),r[a].selected!==y&&(r[a].selected=y),y&&p&&(r[a].defaultSelected=!0)}else{for(a=""+Ie(a),o=null,y=0;y<r.length;y++){if(r[y].value===a){r[y].selected=!0,p&&(r[y].defaultSelected=!0);return}o!==null||r[y].disabled||(o=r[y])}o!==null&&(o.selected=!0)}}function oi(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return T({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function oo(r,o){var a=o.value;if(a==null){if(a=o.children,o=o.defaultValue,a!=null){if(o!=null)throw Error(n(92));if(In(a)){if(1<a.length)throw Error(n(93));a=a[0]}o=a}o==null&&(o=""),a=o}r._wrapperState={initialValue:Ie(a)}}function so(r,o){var a=Ie(o.value),p=Ie(o.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),o.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),p!=null&&(r.defaultValue=""+p)}function lo(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function z(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ne(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?z(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Se,ke=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,a,p,y){MSApp.execUnsafeLocalFunction(function(){return r(o,a,p,y)})}:r})(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(Se=Se||document.createElement("div"),Se.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Se.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function Re(r,o){if(o){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=o;return}}r.textContent=o}var ot={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hn=["Webkit","ms","Moz","O"];Object.keys(ot).forEach(function(r){hn.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),ot[o]=ot[r]})});function bt(r,o,a){return o==null||typeof o=="boolean"||o===""?"":a||typeof o!="number"||o===0||ot.hasOwnProperty(r)&&ot[r]?(""+o).trim():o+"px"}function An(r,o){r=r.style;for(var a in o)if(o.hasOwnProperty(a)){var p=a.indexOf("--")===0,y=bt(a,o[a],p);a==="float"&&(a="cssFloat"),p?r.setProperty(a,y):r[a]=y}}var Zn=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function st(r,o){if(o){if(Zn[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function rn(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=null;function Ws(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ks=null,vr=null,xr=null;function Ku(r){if(r=ki(r)){if(typeof Ks!="function")throw Error(n(280));var o=r.stateNode;o&&(o=Po(o),Ks(r.stateNode,r.type,o))}}function Yu(r){vr?xr?xr.push(r):xr=[r]:vr=r}function Qu(){if(vr){var r=vr,o=xr;if(xr=vr=null,Ku(r),o)for(r=0;r<o.length;r++)Ku(o[r])}}function Xu(r,o){return r(o)}function Zu(){}var Ys=!1;function ju(r,o,a){if(Ys)return r(o,a);Ys=!0;try{return Xu(r,o,a)}finally{Ys=!1,(vr!==null||xr!==null)&&(Zu(),Qu())}}function si(r,o){var a=r.stateNode;if(a===null)return null;var p=Po(a);if(p===null)return null;a=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,o,typeof a));return a}var Qs=!1;if(d)try{var li={};Object.defineProperty(li,"passive",{get:function(){Qs=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{Qs=!1}function Mg(r,o,a,p,y,S,E,A,P){var V=Array.prototype.slice.call(arguments,3);try{o.apply(a,V)}catch(W){this.onError(W)}}var ai=!1,ao=null,uo=!1,Xs=null,Dg={onError:function(r){ai=!0,ao=r}};function Lg(r,o,a,p,y,S,E,A,P){ai=!1,ao=null,Mg.apply(Dg,arguments)}function Ug(r,o,a,p,y,S,E,A,P){if(Lg.apply(this,arguments),ai){if(ai){var V=ao;ai=!1,ao=null}else throw Error(n(198));uo||(uo=!0,Xs=V)}}function jn(r){var o=r,a=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(a=o.return),r=o.return;while(r)}return o.tag===3?a:null}function ec(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function tc(r){if(jn(r)!==r)throw Error(n(188))}function bg(r){var o=r.alternate;if(!o){if(o=jn(r),o===null)throw Error(n(188));return o!==r?null:r}for(var a=r,p=o;;){var y=a.return;if(y===null)break;var S=y.alternate;if(S===null){if(p=y.return,p!==null){a=p;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===a)return tc(y),r;if(S===p)return tc(y),o;S=S.sibling}throw Error(n(188))}if(a.return!==p.return)a=y,p=S;else{for(var E=!1,A=y.child;A;){if(A===a){E=!0,a=y,p=S;break}if(A===p){E=!0,p=y,a=S;break}A=A.sibling}if(!E){for(A=S.child;A;){if(A===a){E=!0,a=S,p=y;break}if(A===p){E=!0,p=S,a=y;break}A=A.sibling}if(!E)throw Error(n(189))}}if(a.alternate!==p)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:o}function nc(r){return r=bg(r),r!==null?rc(r):null}function rc(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=rc(r);if(o!==null)return o;r=r.sibling}return null}var ic=e.unstable_scheduleCallback,oc=e.unstable_cancelCallback,Fg=e.unstable_shouldYield,Vg=e.unstable_requestPaint,We=e.unstable_now,Bg=e.unstable_getCurrentPriorityLevel,Zs=e.unstable_ImmediatePriority,sc=e.unstable_UserBlockingPriority,co=e.unstable_NormalPriority,Gg=e.unstable_LowPriority,lc=e.unstable_IdlePriority,fo=null,on=null;function Hg(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(fo,r,void 0,(r.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Og,zg=Math.log,qg=Math.LN2;function Og(r){return r>>>=0,r===0?32:31-(zg(r)/qg|0)|0}var po=64,ho=4194304;function ui(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function mo(r,o){var a=r.pendingLanes;if(a===0)return 0;var p=0,y=r.suspendedLanes,S=r.pingedLanes,E=a&268435455;if(E!==0){var A=E&~y;A!==0?p=ui(A):(S&=E,S!==0&&(p=ui(S)))}else E=a&~y,E!==0?p=ui(E):S!==0&&(p=ui(S));if(p===0)return 0;if(o!==0&&o!==p&&(o&y)===0&&(y=p&-p,S=o&-o,y>=S||y===16&&(S&4194240)!==0))return o;if((p&4)!==0&&(p|=a&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=p;0<o;)a=31-Jt(o),y=1<<a,p|=r[a],o&=~y;return p}function $g(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jg(r,o){for(var a=r.suspendedLanes,p=r.pingedLanes,y=r.expirationTimes,S=r.pendingLanes;0<S;){var E=31-Jt(S),A=1<<E,P=y[E];P===-1?((A&a)===0||(A&p)!==0)&&(y[E]=$g(A,o)):P<=o&&(r.expiredLanes|=A),S&=~A}}function js(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ac(){var r=po;return po<<=1,(po&4194240)===0&&(po=64),r}function el(r){for(var o=[],a=0;31>a;a++)o.push(r);return o}function ci(r,o,a){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-Jt(o),r[o]=a}function Wg(r,o){var a=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<a;){var y=31-Jt(a),S=1<<y;o[y]=0,p[y]=-1,r[y]=-1,a&=~S}}function tl(r,o){var a=r.entangledLanes|=o;for(r=r.entanglements;a;){var p=31-Jt(a),y=1<<p;y&o|r[p]&o&&(r[p]|=o),a&=~y}}var Fe=0;function uc(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var cc,nl,dc,fc,pc,rl=!1,go=[],Nn=null,Rn=null,Pn=null,di=new Map,fi=new Map,Mn=[],Kg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hc(r,o){switch(r){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":di.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":fi.delete(o.pointerId)}}function pi(r,o,a,p,y,S){return r===null||r.nativeEvent!==S?(r={blockedOn:o,domEventName:a,eventSystemFlags:p,nativeEvent:S,targetContainers:[y]},o!==null&&(o=ki(o),o!==null&&nl(o)),r):(r.eventSystemFlags|=p,o=r.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),r)}function Yg(r,o,a,p,y){switch(o){case"focusin":return Nn=pi(Nn,r,o,a,p,y),!0;case"dragenter":return Rn=pi(Rn,r,o,a,p,y),!0;case"mouseover":return Pn=pi(Pn,r,o,a,p,y),!0;case"pointerover":var S=y.pointerId;return di.set(S,pi(di.get(S)||null,r,o,a,p,y)),!0;case"gotpointercapture":return S=y.pointerId,fi.set(S,pi(fi.get(S)||null,r,o,a,p,y)),!0}return!1}function mc(r){var o=er(r.target);if(o!==null){var a=jn(o);if(a!==null){if(o=a.tag,o===13){if(o=ec(a),o!==null){r.blockedOn=o,pc(r.priority,function(){dc(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function yo(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var a=ol(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var p=new a.constructor(a.type,a);At=p,a.target.dispatchEvent(p),At=null}else return o=ki(a),o!==null&&nl(o),r.blockedOn=a,!1;o.shift()}return!0}function gc(r,o,a){yo(r)&&a.delete(o)}function Qg(){rl=!1,Nn!==null&&yo(Nn)&&(Nn=null),Rn!==null&&yo(Rn)&&(Rn=null),Pn!==null&&yo(Pn)&&(Pn=null),di.forEach(gc),fi.forEach(gc)}function hi(r,o){r.blockedOn===o&&(r.blockedOn=null,rl||(rl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qg)))}function mi(r){function o(y){return hi(y,r)}if(0<go.length){hi(go[0],r);for(var a=1;a<go.length;a++){var p=go[a];p.blockedOn===r&&(p.blockedOn=null)}}for(Nn!==null&&hi(Nn,r),Rn!==null&&hi(Rn,r),Pn!==null&&hi(Pn,r),di.forEach(o),fi.forEach(o),a=0;a<Mn.length;a++)p=Mn[a],p.blockedOn===r&&(p.blockedOn=null);for(;0<Mn.length&&(a=Mn[0],a.blockedOn===null);)mc(a),a.blockedOn===null&&Mn.shift()}var Sr=O.ReactCurrentBatchConfig,vo=!0;function Xg(r,o,a,p){var y=Fe,S=Sr.transition;Sr.transition=null;try{Fe=1,il(r,o,a,p)}finally{Fe=y,Sr.transition=S}}function Zg(r,o,a,p){var y=Fe,S=Sr.transition;Sr.transition=null;try{Fe=4,il(r,o,a,p)}finally{Fe=y,Sr.transition=S}}function il(r,o,a,p){if(vo){var y=ol(r,o,a,p);if(y===null)El(r,o,p,xo,a),hc(r,p);else if(Yg(y,r,o,a,p))p.stopPropagation();else if(hc(r,p),o&4&&-1<Kg.indexOf(r)){for(;y!==null;){var S=ki(y);if(S!==null&&cc(S),S=ol(r,o,a,p),S===null&&El(r,o,p,xo,a),S===y)break;y=S}y!==null&&p.stopPropagation()}else El(r,o,p,null,a)}}var xo=null;function ol(r,o,a,p){if(xo=null,r=Ws(p),r=er(r),r!==null)if(o=jn(r),o===null)r=null;else if(a=o.tag,a===13){if(r=ec(o),r!==null)return r;r=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return xo=r,null}function yc(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bg()){case Zs:return 1;case sc:return 4;case co:case Gg:return 16;case lc:return 536870912;default:return 16}default:return 16}}var Dn=null,sl=null,So=null;function vc(){if(So)return So;var r,o=sl,a=o.length,p,y="value"in Dn?Dn.value:Dn.textContent,S=y.length;for(r=0;r<a&&o[r]===y[r];r++);var E=a-r;for(p=1;p<=E&&o[a-p]===y[S-p];p++);return So=y.slice(r,1<p?1-p:void 0)}function wo(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Eo(){return!0}function xc(){return!1}function Nt(r){function o(a,p,y,S,E){this._reactName=a,this._targetInst=y,this.type=p,this.nativeEvent=S,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(S):S[A]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Eo:xc,this.isPropagationStopped=xc,this}return T(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Eo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Eo)},persist:function(){},isPersistent:Eo}),o}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=Nt(wr),gi=T({},wr,{view:0,detail:0}),jg=Nt(gi),al,ul,yi,Co=T({},gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==yi&&(yi&&r.type==="mousemove"?(al=r.screenX-yi.screenX,ul=r.screenY-yi.screenY):ul=al=0,yi=r),al)},movementY:function(r){return"movementY"in r?r.movementY:ul}}),Sc=Nt(Co),ey=T({},Co,{dataTransfer:0}),ty=Nt(ey),ny=T({},gi,{relatedTarget:0}),cl=Nt(ny),ry=T({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),iy=Nt(ry),oy=T({},wr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),sy=Nt(oy),ly=T({},wr,{data:0}),wc=Nt(ly),ay={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dy(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=cy[r])?!!o[r]:!1}function dl(){return dy}var fy=T({},gi,{key:function(r){if(r.key){var o=ay[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=wo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?uy[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(r){return r.type==="keypress"?wo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?wo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),py=Nt(fy),hy=T({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ec=Nt(hy),my=T({},gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),gy=Nt(my),yy=T({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),vy=Nt(yy),xy=T({},Co,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Sy=Nt(xy),wy=[9,13,27,32],fl=d&&"CompositionEvent"in window,vi=null;d&&"documentMode"in document&&(vi=document.documentMode);var Ey=d&&"TextEvent"in window&&!vi,Cc=d&&(!fl||vi&&8<vi&&11>=vi),Tc=" ",_c=!1;function Ic(r,o){switch(r){case"keyup":return wy.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kc(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Er=!1;function Cy(r,o){switch(r){case"compositionend":return kc(o);case"keypress":return o.which!==32?null:(_c=!0,Tc);case"textInput":return r=o.data,r===Tc&&_c?null:r;default:return null}}function Ty(r,o){if(Er)return r==="compositionend"||!fl&&Ic(r,o)?(r=vc(),So=sl=Dn=null,Er=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Cc&&o.locale!=="ko"?null:o.data;default:return null}}var _y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ac(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!_y[r.type]:o==="textarea"}function Nc(r,o,a,p){Yu(p),o=Ao(o,"onChange"),0<o.length&&(a=new ll("onChange","change",null,a,p),r.push({event:a,listeners:o}))}var xi=null,Si=null;function Iy(r){Wc(r,0)}function To(r){var o=kr(r);if(ro(o))return r}function ky(r,o){if(r==="change")return o}var Rc=!1;if(d){var pl;if(d){var hl="oninput"in document;if(!hl){var Pc=document.createElement("div");Pc.setAttribute("oninput","return;"),hl=typeof Pc.oninput=="function"}pl=hl}else pl=!1;Rc=pl&&(!document.documentMode||9<document.documentMode)}function Mc(){xi&&(xi.detachEvent("onpropertychange",Dc),Si=xi=null)}function Dc(r){if(r.propertyName==="value"&&To(Si)){var o=[];Nc(o,Si,r,Ws(r)),ju(Iy,o)}}function Ay(r,o,a){r==="focusin"?(Mc(),xi=o,Si=a,xi.attachEvent("onpropertychange",Dc)):r==="focusout"&&Mc()}function Ny(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return To(Si)}function Ry(r,o){if(r==="click")return To(o)}function Py(r,o){if(r==="input"||r==="change")return To(o)}function My(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Wt=typeof Object.is=="function"?Object.is:My;function wi(r,o){if(Wt(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var a=Object.keys(r),p=Object.keys(o);if(a.length!==p.length)return!1;for(p=0;p<a.length;p++){var y=a[p];if(!m.call(o,y)||!Wt(r[y],o[y]))return!1}return!0}function Lc(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Uc(r,o){var a=Lc(r);r=0;for(var p;a;){if(a.nodeType===3){if(p=r+a.textContent.length,r<=o&&p>=o)return{node:a,offset:o-r};r=p}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Lc(a)}}function bc(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?bc(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Fc(){for(var r=window,o=mr();o instanceof r.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)r=o.contentWindow;else break;o=mr(r.document)}return o}function ml(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function Dy(r){var o=Fc(),a=r.focusedElem,p=r.selectionRange;if(o!==a&&a&&a.ownerDocument&&bc(a.ownerDocument.documentElement,a)){if(p!==null&&ml(a)){if(o=p.start,r=p.end,r===void 0&&(r=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(r,a.value.length);else if(r=(o=a.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var y=a.textContent.length,S=Math.min(p.start,y);p=p.end===void 0?S:Math.min(p.end,y),!r.extend&&S>p&&(y=p,p=S,S=y),y=Uc(a,S);var E=Uc(a,p);y&&E&&(r.rangeCount!==1||r.anchorNode!==y.node||r.anchorOffset!==y.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),r.removeAllRanges(),S>p?(r.addRange(o),r.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),r.addRange(o)))}}for(o=[],r=a;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)r=o[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Ly=d&&"documentMode"in document&&11>=document.documentMode,Cr=null,gl=null,Ei=null,yl=!1;function Vc(r,o,a){var p=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yl||Cr==null||Cr!==mr(p)||(p=Cr,"selectionStart"in p&&ml(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ei&&wi(Ei,p)||(Ei=p,p=Ao(gl,"onSelect"),0<p.length&&(o=new ll("onSelect","select",null,o,a),r.push({event:o,listeners:p}),o.target=Cr)))}function _o(r,o){var a={};return a[r.toLowerCase()]=o.toLowerCase(),a["Webkit"+r]="webkit"+o,a["Moz"+r]="moz"+o,a}var Tr={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},vl={},Bc={};d&&(Bc=document.createElement("div").style,"AnimationEvent"in window||(delete Tr.animationend.animation,delete Tr.animationiteration.animation,delete Tr.animationstart.animation),"TransitionEvent"in window||delete Tr.transitionend.transition);function Io(r){if(vl[r])return vl[r];if(!Tr[r])return r;var o=Tr[r],a;for(a in o)if(o.hasOwnProperty(a)&&a in Bc)return vl[r]=o[a];return r}var Gc=Io("animationend"),Hc=Io("animationiteration"),zc=Io("animationstart"),qc=Io("transitionend"),Oc=new Map,$c="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ln(r,o){Oc.set(r,o),l(o,[r])}for(var xl=0;xl<$c.length;xl++){var Sl=$c[xl],Uy=Sl.toLowerCase(),by=Sl[0].toUpperCase()+Sl.slice(1);Ln(Uy,"on"+by)}Ln(Gc,"onAnimationEnd"),Ln(Hc,"onAnimationIteration"),Ln(zc,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(qc,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ci));function Jc(r,o,a){var p=r.type||"unknown-event";r.currentTarget=a,Ug(p,o,void 0,r),r.currentTarget=null}function Wc(r,o){o=(o&4)!==0;for(var a=0;a<r.length;a++){var p=r[a],y=p.event;p=p.listeners;e:{var S=void 0;if(o)for(var E=p.length-1;0<=E;E--){var A=p[E],P=A.instance,V=A.currentTarget;if(A=A.listener,P!==S&&y.isPropagationStopped())break e;Jc(y,A,V),S=P}else for(E=0;E<p.length;E++){if(A=p[E],P=A.instance,V=A.currentTarget,A=A.listener,P!==S&&y.isPropagationStopped())break e;Jc(y,A,V),S=P}}}if(uo)throw r=Xs,uo=!1,Xs=null,r}function He(r,o){var a=o[Al];a===void 0&&(a=o[Al]=new Set);var p=r+"__bubble";a.has(p)||(Kc(o,r,2,!1),a.add(p))}function wl(r,o,a){var p=0;o&&(p|=4),Kc(a,r,p,o)}var ko="_reactListening"+Math.random().toString(36).slice(2);function Ti(r){if(!r[ko]){r[ko]=!0,i.forEach(function(a){a!=="selectionchange"&&(Fy.has(a)||wl(a,!1,r),wl(a,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[ko]||(o[ko]=!0,wl("selectionchange",!1,o))}}function Kc(r,o,a,p){switch(yc(o)){case 1:var y=Xg;break;case 4:y=Zg;break;default:y=il}a=y.bind(null,o,a,r),y=void 0,!Qs||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),p?y!==void 0?r.addEventListener(o,a,{capture:!0,passive:y}):r.addEventListener(o,a,!0):y!==void 0?r.addEventListener(o,a,{passive:y}):r.addEventListener(o,a,!1)}function El(r,o,a,p,y){var S=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var A=p.stateNode.containerInfo;if(A===y||A.nodeType===8&&A.parentNode===y)break;if(E===4)for(E=p.return;E!==null;){var P=E.tag;if((P===3||P===4)&&(P=E.stateNode.containerInfo,P===y||P.nodeType===8&&P.parentNode===y))return;E=E.return}for(;A!==null;){if(E=er(A),E===null)return;if(P=E.tag,P===5||P===6){p=S=E;continue e}A=A.parentNode}}p=p.return}ju(function(){var V=S,W=Ws(a),Q=[];e:{var J=Oc.get(r);if(J!==void 0){var se=ll,ce=r;switch(r){case"keypress":if(wo(a)===0)break e;case"keydown":case"keyup":se=py;break;case"focusin":ce="focus",se=cl;break;case"focusout":ce="blur",se=cl;break;case"beforeblur":case"afterblur":se=cl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=gy;break;case Gc:case Hc:case zc:se=iy;break;case qc:se=vy;break;case"scroll":se=jg;break;case"wheel":se=Sy;break;case"copy":case"cut":case"paste":se=sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Ec}var de=(o&4)!==0,Ke=!de&&r==="scroll",U=de?J!==null?J+"Capture":null:J;de=[];for(var L=V,F;L!==null;){F=L;var j=F.stateNode;if(F.tag===5&&j!==null&&(F=j,U!==null&&(j=si(L,U),j!=null&&de.push(_i(L,j,F)))),Ke)break;L=L.return}0<de.length&&(J=new se(J,ce,null,a,W),Q.push({event:J,listeners:de}))}}if((o&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",se=r==="mouseout"||r==="pointerout",J&&a!==At&&(ce=a.relatedTarget||a.fromElement)&&(er(ce)||ce[mn]))break e;if((se||J)&&(J=W.window===W?W:(J=W.ownerDocument)?J.defaultView||J.parentWindow:window,se?(ce=a.relatedTarget||a.toElement,se=V,ce=ce?er(ce):null,ce!==null&&(Ke=jn(ce),ce!==Ke||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(se=null,ce=V),se!==ce)){if(de=Sc,j="onMouseLeave",U="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(de=Ec,j="onPointerLeave",U="onPointerEnter",L="pointer"),Ke=se==null?J:kr(se),F=ce==null?J:kr(ce),J=new de(j,L+"leave",se,a,W),J.target=Ke,J.relatedTarget=F,j=null,er(W)===V&&(de=new de(U,L+"enter",ce,a,W),de.target=F,de.relatedTarget=Ke,j=de),Ke=j,se&&ce)t:{for(de=se,U=ce,L=0,F=de;F;F=_r(F))L++;for(F=0,j=U;j;j=_r(j))F++;for(;0<L-F;)de=_r(de),L--;for(;0<F-L;)U=_r(U),F--;for(;L--;){if(de===U||U!==null&&de===U.alternate)break t;de=_r(de),U=_r(U)}de=null}else de=null;se!==null&&Yc(Q,J,se,de,!1),ce!==null&&Ke!==null&&Yc(Q,Ke,ce,de,!0)}}e:{if(J=V?kr(V):window,se=J.nodeName&&J.nodeName.toLowerCase(),se==="select"||se==="input"&&J.type==="file")var fe=ky;else if(Ac(J))if(Rc)fe=Py;else{fe=Ny;var ge=Ay}else(se=J.nodeName)&&se.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(fe=Ry);if(fe&&(fe=fe(r,V))){Nc(Q,fe,a,W);break e}ge&&ge(r,J,V),r==="focusout"&&(ge=J._wrapperState)&&ge.controlled&&J.type==="number"&&yr(J,"number",J.value)}switch(ge=V?kr(V):window,r){case"focusin":(Ac(ge)||ge.contentEditable==="true")&&(Cr=ge,gl=V,Ei=null);break;case"focusout":Ei=gl=Cr=null;break;case"mousedown":yl=!0;break;case"contextmenu":case"mouseup":case"dragend":yl=!1,Vc(Q,a,W);break;case"selectionchange":if(Ly)break;case"keydown":case"keyup":Vc(Q,a,W)}var ye;if(fl)e:{switch(r){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Er?Ic(r,a)&&(we="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(we="onCompositionStart");we&&(Cc&&a.locale!=="ko"&&(Er||we!=="onCompositionStart"?we==="onCompositionEnd"&&Er&&(ye=vc()):(Dn=W,sl="value"in Dn?Dn.value:Dn.textContent,Er=!0)),ge=Ao(V,we),0<ge.length&&(we=new wc(we,r,null,a,W),Q.push({event:we,listeners:ge}),ye?we.data=ye:(ye=kc(a),ye!==null&&(we.data=ye)))),(ye=Ey?Cy(r,a):Ty(r,a))&&(V=Ao(V,"onBeforeInput"),0<V.length&&(W=new wc("onBeforeInput","beforeinput",null,a,W),Q.push({event:W,listeners:V}),W.data=ye))}Wc(Q,o)})}function _i(r,o,a){return{instance:r,listener:o,currentTarget:a}}function Ao(r,o){for(var a=o+"Capture",p=[];r!==null;){var y=r,S=y.stateNode;y.tag===5&&S!==null&&(y=S,S=si(r,a),S!=null&&p.unshift(_i(r,S,y)),S=si(r,o),S!=null&&p.push(_i(r,S,y))),r=r.return}return p}function _r(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Yc(r,o,a,p,y){for(var S=o._reactName,E=[];a!==null&&a!==p;){var A=a,P=A.alternate,V=A.stateNode;if(P!==null&&P===p)break;A.tag===5&&V!==null&&(A=V,y?(P=si(a,S),P!=null&&E.unshift(_i(a,P,A))):y||(P=si(a,S),P!=null&&E.push(_i(a,P,A)))),a=a.return}E.length!==0&&r.push({event:o,listeners:E})}var Vy=/\r\n?/g,By=/\u0000|\uFFFD/g;function Qc(r){return(typeof r=="string"?r:""+r).replace(Vy,`
`).replace(By,"")}function No(r,o,a){if(o=Qc(o),Qc(r)!==o&&a)throw Error(n(425))}function Ro(){}var Cl=null,Tl=null;function _l(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Il=typeof setTimeout=="function"?setTimeout:void 0,Gy=typeof clearTimeout=="function"?clearTimeout:void 0,Xc=typeof Promise=="function"?Promise:void 0,Hy=typeof queueMicrotask=="function"?queueMicrotask:typeof Xc<"u"?function(r){return Xc.resolve(null).then(r).catch(zy)}:Il;function zy(r){setTimeout(function(){throw r})}function kl(r,o){var a=o,p=0;do{var y=a.nextSibling;if(r.removeChild(a),y&&y.nodeType===8)if(a=y.data,a==="/$"){if(p===0){r.removeChild(y),mi(o);return}p--}else a!=="$"&&a!=="$?"&&a!=="$!"||p++;a=y}while(a);mi(o)}function Un(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function Zc(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return r;o--}else a==="/$"&&o++}r=r.previousSibling}return null}var Ir=Math.random().toString(36).slice(2),sn="__reactFiber$"+Ir,Ii="__reactProps$"+Ir,mn="__reactContainer$"+Ir,Al="__reactEvents$"+Ir,qy="__reactListeners$"+Ir,Oy="__reactHandles$"+Ir;function er(r){var o=r[sn];if(o)return o;for(var a=r.parentNode;a;){if(o=a[mn]||a[sn]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(r=Zc(r);r!==null;){if(a=r[sn])return a;r=Zc(r)}return o}r=a,a=r.parentNode}return null}function ki(r){return r=r[sn]||r[mn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function kr(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Po(r){return r[Ii]||null}var Nl=[],Ar=-1;function bn(r){return{current:r}}function ze(r){0>Ar||(r.current=Nl[Ar],Nl[Ar]=null,Ar--)}function Ve(r,o){Ar++,Nl[Ar]=r.current,r.current=o}var Fn={},ut=bn(Fn),xt=bn(!1),tr=Fn;function Nr(r,o){var a=r.type.contextTypes;if(!a)return Fn;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in a)y[S]=o[S];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=y),y}function St(r){return r=r.childContextTypes,r!=null}function Mo(){ze(xt),ze(ut)}function jc(r,o,a){if(ut.current!==Fn)throw Error(n(168));Ve(ut,o),Ve(xt,a)}function ed(r,o,a){var p=r.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return a;p=p.getChildContext();for(var y in p)if(!(y in o))throw Error(n(108,Ne(r)||"Unknown",y));return T({},a,p)}function Do(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Fn,tr=ut.current,Ve(ut,r),Ve(xt,xt.current),!0}function td(r,o,a){var p=r.stateNode;if(!p)throw Error(n(169));a?(r=ed(r,o,tr),p.__reactInternalMemoizedMergedChildContext=r,ze(xt),ze(ut),Ve(ut,r)):ze(xt),Ve(xt,a)}var gn=null,Lo=!1,Rl=!1;function nd(r){gn===null?gn=[r]:gn.push(r)}function $y(r){Lo=!0,nd(r)}function Vn(){if(!Rl&&gn!==null){Rl=!0;var r=0,o=Fe;try{var a=gn;for(Fe=1;r<a.length;r++){var p=a[r];do p=p(!0);while(p!==null)}gn=null,Lo=!1}catch(y){throw gn!==null&&(gn=gn.slice(r+1)),ic(Zs,Vn),y}finally{Fe=o,Rl=!1}}return null}var Rr=[],Pr=0,Uo=null,bo=0,Ft=[],Vt=0,nr=null,yn=1,vn="";function rr(r,o){Rr[Pr++]=bo,Rr[Pr++]=Uo,Uo=r,bo=o}function rd(r,o,a){Ft[Vt++]=yn,Ft[Vt++]=vn,Ft[Vt++]=nr,nr=r;var p=yn;r=vn;var y=32-Jt(p)-1;p&=~(1<<y),a+=1;var S=32-Jt(o)+y;if(30<S){var E=y-y%5;S=(p&(1<<E)-1).toString(32),p>>=E,y-=E,yn=1<<32-Jt(o)+y|a<<y|p,vn=S+r}else yn=1<<S|a<<y|p,vn=r}function Pl(r){r.return!==null&&(rr(r,1),rd(r,1,0))}function Ml(r){for(;r===Uo;)Uo=Rr[--Pr],Rr[Pr]=null,bo=Rr[--Pr],Rr[Pr]=null;for(;r===nr;)nr=Ft[--Vt],Ft[Vt]=null,vn=Ft[--Vt],Ft[Vt]=null,yn=Ft[--Vt],Ft[Vt]=null}var Rt=null,Pt=null,qe=!1,Kt=null;function id(r,o){var a=zt(5,null,null,0);a.elementType="DELETED",a.stateNode=o,a.return=r,o=r.deletions,o===null?(r.deletions=[a],r.flags|=16):o.push(a)}function od(r,o){switch(r.tag){case 5:var a=r.type;return o=o.nodeType!==1||a.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,Rt=r,Pt=Un(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,Rt=r,Pt=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(a=nr!==null?{id:yn,overflow:vn}:null,r.memoizedState={dehydrated:o,treeContext:a,retryLane:1073741824},a=zt(18,null,null,0),a.stateNode=o,a.return=r,r.child=a,Rt=r,Pt=null,!0):!1;default:return!1}}function Dl(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ll(r){if(qe){var o=Pt;if(o){var a=o;if(!od(r,o)){if(Dl(r))throw Error(n(418));o=Un(a.nextSibling);var p=Rt;o&&od(r,o)?id(p,a):(r.flags=r.flags&-4097|2,qe=!1,Rt=r)}}else{if(Dl(r))throw Error(n(418));r.flags=r.flags&-4097|2,qe=!1,Rt=r}}}function sd(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Rt=r}function Fo(r){if(r!==Rt)return!1;if(!qe)return sd(r),qe=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!_l(r.type,r.memoizedProps)),o&&(o=Pt)){if(Dl(r))throw ld(),Error(n(418));for(;o;)id(r,o),o=Un(o.nextSibling)}if(sd(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(o===0){Pt=Un(r.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++}r=r.nextSibling}Pt=null}}else Pt=Rt?Un(r.stateNode.nextSibling):null;return!0}function ld(){for(var r=Pt;r;)r=Un(r.nextSibling)}function Mr(){Pt=Rt=null,qe=!1}function Ul(r){Kt===null?Kt=[r]:Kt.push(r)}var Jy=O.ReactCurrentBatchConfig;function Ai(r,o,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var p=a.stateNode}if(!p)throw Error(n(147,r));var y=p,S=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===S?o.ref:(o=function(E){var A=y.refs;E===null?delete A[S]:A[S]=E},o._stringRef=S,o)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function Vo(r,o){throw r=Object.prototype.toString.call(o),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function ad(r){var o=r._init;return o(r._payload)}function ud(r){function o(U,L){if(r){var F=U.deletions;F===null?(U.deletions=[L],U.flags|=16):F.push(L)}}function a(U,L){if(!r)return null;for(;L!==null;)o(U,L),L=L.sibling;return null}function p(U,L){for(U=new Map;L!==null;)L.key!==null?U.set(L.key,L):U.set(L.index,L),L=L.sibling;return U}function y(U,L){return U=Jn(U,L),U.index=0,U.sibling=null,U}function S(U,L,F){return U.index=F,r?(F=U.alternate,F!==null?(F=F.index,F<L?(U.flags|=2,L):F):(U.flags|=2,L)):(U.flags|=1048576,L)}function E(U){return r&&U.alternate===null&&(U.flags|=2),U}function A(U,L,F,j){return L===null||L.tag!==6?(L=Ia(F,U.mode,j),L.return=U,L):(L=y(L,F),L.return=U,L)}function P(U,L,F,j){var fe=F.type;return fe===$?W(U,L,F.props.children,j,F.key):L!==null&&(L.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===he&&ad(fe)===L.type)?(j=y(L,F.props),j.ref=Ai(U,L,F),j.return=U,j):(j=as(F.type,F.key,F.props,null,U.mode,j),j.ref=Ai(U,L,F),j.return=U,j)}function V(U,L,F,j){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=ka(F,U.mode,j),L.return=U,L):(L=y(L,F.children||[]),L.return=U,L)}function W(U,L,F,j,fe){return L===null||L.tag!==7?(L=dr(F,U.mode,j,fe),L.return=U,L):(L=y(L,F),L.return=U,L)}function Q(U,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Ia(""+L,U.mode,F),L.return=U,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return F=as(L.type,L.key,L.props,null,U.mode,F),F.ref=Ai(U,null,L),F.return=U,F;case I:return L=ka(L,U.mode,F),L.return=U,L;case he:var j=L._init;return Q(U,j(L._payload),F)}if(In(L)||X(L))return L=dr(L,U.mode,F,null),L.return=U,L;Vo(U,L)}return null}function J(U,L,F,j){var fe=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return fe!==null?null:A(U,L,""+F,j);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case B:return F.key===fe?P(U,L,F,j):null;case I:return F.key===fe?V(U,L,F,j):null;case he:return fe=F._init,J(U,L,fe(F._payload),j)}if(In(F)||X(F))return fe!==null?null:W(U,L,F,j,null);Vo(U,F)}return null}function se(U,L,F,j,fe){if(typeof j=="string"&&j!==""||typeof j=="number")return U=U.get(F)||null,A(L,U,""+j,fe);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case B:return U=U.get(j.key===null?F:j.key)||null,P(L,U,j,fe);case I:return U=U.get(j.key===null?F:j.key)||null,V(L,U,j,fe);case he:var ge=j._init;return se(U,L,F,ge(j._payload),fe)}if(In(j)||X(j))return U=U.get(F)||null,W(L,U,j,fe,null);Vo(L,j)}return null}function ce(U,L,F,j){for(var fe=null,ge=null,ye=L,we=L=0,rt=null;ye!==null&&we<F.length;we++){ye.index>we?(rt=ye,ye=null):rt=ye.sibling;var Me=J(U,ye,F[we],j);if(Me===null){ye===null&&(ye=rt);break}r&&ye&&Me.alternate===null&&o(U,ye),L=S(Me,L,we),ge===null?fe=Me:ge.sibling=Me,ge=Me,ye=rt}if(we===F.length)return a(U,ye),qe&&rr(U,we),fe;if(ye===null){for(;we<F.length;we++)ye=Q(U,F[we],j),ye!==null&&(L=S(ye,L,we),ge===null?fe=ye:ge.sibling=ye,ge=ye);return qe&&rr(U,we),fe}for(ye=p(U,ye);we<F.length;we++)rt=se(ye,U,we,F[we],j),rt!==null&&(r&&rt.alternate!==null&&ye.delete(rt.key===null?we:rt.key),L=S(rt,L,we),ge===null?fe=rt:ge.sibling=rt,ge=rt);return r&&ye.forEach(function(Wn){return o(U,Wn)}),qe&&rr(U,we),fe}function de(U,L,F,j){var fe=X(F);if(typeof fe!="function")throw Error(n(150));if(F=fe.call(F),F==null)throw Error(n(151));for(var ge=fe=null,ye=L,we=L=0,rt=null,Me=F.next();ye!==null&&!Me.done;we++,Me=F.next()){ye.index>we?(rt=ye,ye=null):rt=ye.sibling;var Wn=J(U,ye,Me.value,j);if(Wn===null){ye===null&&(ye=rt);break}r&&ye&&Wn.alternate===null&&o(U,ye),L=S(Wn,L,we),ge===null?fe=Wn:ge.sibling=Wn,ge=Wn,ye=rt}if(Me.done)return a(U,ye),qe&&rr(U,we),fe;if(ye===null){for(;!Me.done;we++,Me=F.next())Me=Q(U,Me.value,j),Me!==null&&(L=S(Me,L,we),ge===null?fe=Me:ge.sibling=Me,ge=Me);return qe&&rr(U,we),fe}for(ye=p(U,ye);!Me.done;we++,Me=F.next())Me=se(ye,U,we,Me.value,j),Me!==null&&(r&&Me.alternate!==null&&ye.delete(Me.key===null?we:Me.key),L=S(Me,L,we),ge===null?fe=Me:ge.sibling=Me,ge=Me);return r&&ye.forEach(function(_0){return o(U,_0)}),qe&&rr(U,we),fe}function Ke(U,L,F,j){if(typeof F=="object"&&F!==null&&F.type===$&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case B:e:{for(var fe=F.key,ge=L;ge!==null;){if(ge.key===fe){if(fe=F.type,fe===$){if(ge.tag===7){a(U,ge.sibling),L=y(ge,F.props.children),L.return=U,U=L;break e}}else if(ge.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===he&&ad(fe)===ge.type){a(U,ge.sibling),L=y(ge,F.props),L.ref=Ai(U,ge,F),L.return=U,U=L;break e}a(U,ge);break}else o(U,ge);ge=ge.sibling}F.type===$?(L=dr(F.props.children,U.mode,j,F.key),L.return=U,U=L):(j=as(F.type,F.key,F.props,null,U.mode,j),j.ref=Ai(U,L,F),j.return=U,U=j)}return E(U);case I:e:{for(ge=F.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){a(U,L.sibling),L=y(L,F.children||[]),L.return=U,U=L;break e}else{a(U,L);break}else o(U,L);L=L.sibling}L=ka(F,U.mode,j),L.return=U,U=L}return E(U);case he:return ge=F._init,Ke(U,L,ge(F._payload),j)}if(In(F))return ce(U,L,F,j);if(X(F))return de(U,L,F,j);Vo(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,L!==null&&L.tag===6?(a(U,L.sibling),L=y(L,F),L.return=U,U=L):(a(U,L),L=Ia(F,U.mode,j),L.return=U,U=L),E(U)):a(U,L)}return Ke}var Dr=ud(!0),cd=ud(!1),Bo=bn(null),Go=null,Lr=null,bl=null;function Fl(){bl=Lr=Go=null}function Vl(r){var o=Bo.current;ze(Bo),r._currentValue=o}function Bl(r,o,a){for(;r!==null;){var p=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),r===a)break;r=r.return}}function Ur(r,o){Go=r,bl=Lr=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&o)!==0&&(wt=!0),r.firstContext=null)}function Bt(r){var o=r._currentValue;if(bl!==r)if(r={context:r,memoizedValue:o,next:null},Lr===null){if(Go===null)throw Error(n(308));Lr=r,Go.dependencies={lanes:0,firstContext:r}}else Lr=Lr.next=r;return o}var ir=null;function Gl(r){ir===null?ir=[r]:ir.push(r)}function dd(r,o,a,p){var y=o.interleaved;return y===null?(a.next=a,Gl(o)):(a.next=y.next,y.next=a),o.interleaved=a,xn(r,p)}function xn(r,o){r.lanes|=o;var a=r.alternate;for(a!==null&&(a.lanes|=o),a=r,r=r.return;r!==null;)r.childLanes|=o,a=r.alternate,a!==null&&(a.childLanes|=o),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Bn=!1;function Hl(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fd(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Sn(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function Gn(r,o,a){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,(Pe&2)!==0){var y=p.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),p.pending=o,xn(r,a)}return y=p.interleaved,y===null?(o.next=o,Gl(p)):(o.next=y.next,y.next=o),p.interleaved=o,xn(r,a)}function Ho(r,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194240)!==0)){var p=o.lanes;p&=r.pendingLanes,a|=p,o.lanes=a,tl(r,a)}}function pd(r,o){var a=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,a===p)){var y=null,S=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};S===null?y=S=E:S=S.next=E,a=a.next}while(a!==null);S===null?y=S=o:S=S.next=o}else y=S=o;a={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:p.shared,effects:p.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=o:r.next=o,a.lastBaseUpdate=o}function zo(r,o,a,p){var y=r.updateQueue;Bn=!1;var S=y.firstBaseUpdate,E=y.lastBaseUpdate,A=y.shared.pending;if(A!==null){y.shared.pending=null;var P=A,V=P.next;P.next=null,E===null?S=V:E.next=V,E=P;var W=r.alternate;W!==null&&(W=W.updateQueue,A=W.lastBaseUpdate,A!==E&&(A===null?W.firstBaseUpdate=V:A.next=V,W.lastBaseUpdate=P))}if(S!==null){var Q=y.baseState;E=0,W=V=P=null,A=S;do{var J=A.lane,se=A.eventTime;if((p&J)===J){W!==null&&(W=W.next={eventTime:se,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var ce=r,de=A;switch(J=o,se=a,de.tag){case 1:if(ce=de.payload,typeof ce=="function"){Q=ce.call(se,Q,J);break e}Q=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=de.payload,J=typeof ce=="function"?ce.call(se,Q,J):ce,J==null)break e;Q=T({},Q,J);break e;case 2:Bn=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,J=y.effects,J===null?y.effects=[A]:J.push(A))}else se={eventTime:se,lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},W===null?(V=W=se,P=Q):W=W.next=se,E|=J;if(A=A.next,A===null){if(A=y.shared.pending,A===null)break;J=A,A=J.next,J.next=null,y.lastBaseUpdate=J,y.shared.pending=null}}while(!0);if(W===null&&(P=Q),y.baseState=P,y.firstBaseUpdate=V,y.lastBaseUpdate=W,o=y.shared.interleaved,o!==null){y=o;do E|=y.lane,y=y.next;while(y!==o)}else S===null&&(y.shared.lanes=0);lr|=E,r.lanes=E,r.memoizedState=Q}}function hd(r,o,a){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var p=r[o],y=p.callback;if(y!==null){if(p.callback=null,p=a,typeof y!="function")throw Error(n(191,y));y.call(p)}}}var Ni={},ln=bn(Ni),Ri=bn(Ni),Pi=bn(Ni);function or(r){if(r===Ni)throw Error(n(174));return r}function zl(r,o){switch(Ve(Pi,o),Ve(Ri,r),Ve(ln,Ni),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ne(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=ne(o,r)}ze(ln),Ve(ln,o)}function br(){ze(ln),ze(Ri),ze(Pi)}function md(r){or(Pi.current);var o=or(ln.current),a=ne(o,r.type);o!==a&&(Ve(Ri,r),Ve(ln,a))}function ql(r){Ri.current===r&&(ze(ln),ze(Ri))}var Oe=bn(0);function qo(r){for(var o=r;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ol=[];function $l(){for(var r=0;r<Ol.length;r++)Ol[r]._workInProgressVersionPrimary=null;Ol.length=0}var Oo=O.ReactCurrentDispatcher,Jl=O.ReactCurrentBatchConfig,sr=0,$e=null,je=null,tt=null,$o=!1,Mi=!1,Di=0,Wy=0;function ct(){throw Error(n(321))}function Wl(r,o){if(o===null)return!1;for(var a=0;a<o.length&&a<r.length;a++)if(!Wt(r[a],o[a]))return!1;return!0}function Kl(r,o,a,p,y,S){if(sr=S,$e=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Oo.current=r===null||r.memoizedState===null?Xy:Zy,r=a(p,y),Mi){S=0;do{if(Mi=!1,Di=0,25<=S)throw Error(n(301));S+=1,tt=je=null,o.updateQueue=null,Oo.current=jy,r=a(p,y)}while(Mi)}if(Oo.current=Ko,o=je!==null&&je.next!==null,sr=0,tt=je=$e=null,$o=!1,o)throw Error(n(300));return r}function Yl(){var r=Di!==0;return Di=0,r}function an(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?$e.memoizedState=tt=r:tt=tt.next=r,tt}function Gt(){if(je===null){var r=$e.alternate;r=r!==null?r.memoizedState:null}else r=je.next;var o=tt===null?$e.memoizedState:tt.next;if(o!==null)tt=o,je=r;else{if(r===null)throw Error(n(310));je=r,r={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},tt===null?$e.memoizedState=tt=r:tt=tt.next=r}return tt}function Li(r,o){return typeof o=="function"?o(r):o}function Ql(r){var o=Gt(),a=o.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var p=je,y=p.baseQueue,S=a.pending;if(S!==null){if(y!==null){var E=y.next;y.next=S.next,S.next=E}p.baseQueue=y=S,a.pending=null}if(y!==null){S=y.next,p=p.baseState;var A=E=null,P=null,V=S;do{var W=V.lane;if((sr&W)===W)P!==null&&(P=P.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),p=V.hasEagerState?V.eagerState:r(p,V.action);else{var Q={lane:W,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};P===null?(A=P=Q,E=p):P=P.next=Q,$e.lanes|=W,lr|=W}V=V.next}while(V!==null&&V!==S);P===null?E=p:P.next=A,Wt(p,o.memoizedState)||(wt=!0),o.memoizedState=p,o.baseState=E,o.baseQueue=P,a.lastRenderedState=p}if(r=a.interleaved,r!==null){y=r;do S=y.lane,$e.lanes|=S,lr|=S,y=y.next;while(y!==r)}else y===null&&(a.lanes=0);return[o.memoizedState,a.dispatch]}function Xl(r){var o=Gt(),a=o.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var p=a.dispatch,y=a.pending,S=o.memoizedState;if(y!==null){a.pending=null;var E=y=y.next;do S=r(S,E.action),E=E.next;while(E!==y);Wt(S,o.memoizedState)||(wt=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),a.lastRenderedState=S}return[S,p]}function gd(){}function yd(r,o){var a=$e,p=Gt(),y=o(),S=!Wt(p.memoizedState,y);if(S&&(p.memoizedState=y,wt=!0),p=p.queue,Zl(Sd.bind(null,a,p,r),[r]),p.getSnapshot!==o||S||tt!==null&&tt.memoizedState.tag&1){if(a.flags|=2048,Ui(9,xd.bind(null,a,p,y,o),void 0,null),nt===null)throw Error(n(349));(sr&30)!==0||vd(a,o,y)}return y}function vd(r,o,a){r.flags|=16384,r={getSnapshot:o,value:a},o=$e.updateQueue,o===null?(o={lastEffect:null,stores:null},$e.updateQueue=o,o.stores=[r]):(a=o.stores,a===null?o.stores=[r]:a.push(r))}function xd(r,o,a,p){o.value=a,o.getSnapshot=p,wd(o)&&Ed(r)}function Sd(r,o,a){return a(function(){wd(o)&&Ed(r)})}function wd(r){var o=r.getSnapshot;r=r.value;try{var a=o();return!Wt(r,a)}catch{return!0}}function Ed(r){var o=xn(r,1);o!==null&&Zt(o,r,1,-1)}function Cd(r){var o=an();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:r},o.queue=r,r=r.dispatch=Qy.bind(null,$e,r),[o.memoizedState,r]}function Ui(r,o,a,p){return r={tag:r,create:o,destroy:a,deps:p,next:null},o=$e.updateQueue,o===null?(o={lastEffect:null,stores:null},$e.updateQueue=o,o.lastEffect=r.next=r):(a=o.lastEffect,a===null?o.lastEffect=r.next=r:(p=a.next,a.next=r,r.next=p,o.lastEffect=r)),r}function Td(){return Gt().memoizedState}function Jo(r,o,a,p){var y=an();$e.flags|=r,y.memoizedState=Ui(1|o,a,void 0,p===void 0?null:p)}function Wo(r,o,a,p){var y=Gt();p=p===void 0?null:p;var S=void 0;if(je!==null){var E=je.memoizedState;if(S=E.destroy,p!==null&&Wl(p,E.deps)){y.memoizedState=Ui(o,a,S,p);return}}$e.flags|=r,y.memoizedState=Ui(1|o,a,S,p)}function _d(r,o){return Jo(8390656,8,r,o)}function Zl(r,o){return Wo(2048,8,r,o)}function Id(r,o){return Wo(4,2,r,o)}function kd(r,o){return Wo(4,4,r,o)}function Ad(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Nd(r,o,a){return a=a!=null?a.concat([r]):null,Wo(4,4,Ad.bind(null,o,r),a)}function jl(){}function Rd(r,o){var a=Gt();o=o===void 0?null:o;var p=a.memoizedState;return p!==null&&o!==null&&Wl(o,p[1])?p[0]:(a.memoizedState=[r,o],r)}function Pd(r,o){var a=Gt();o=o===void 0?null:o;var p=a.memoizedState;return p!==null&&o!==null&&Wl(o,p[1])?p[0]:(r=r(),a.memoizedState=[r,o],r)}function Md(r,o,a){return(sr&21)===0?(r.baseState&&(r.baseState=!1,wt=!0),r.memoizedState=a):(Wt(a,o)||(a=ac(),$e.lanes|=a,lr|=a,r.baseState=!0),o)}function Ky(r,o){var a=Fe;Fe=a!==0&&4>a?a:4,r(!0);var p=Jl.transition;Jl.transition={};try{r(!1),o()}finally{Fe=a,Jl.transition=p}}function Dd(){return Gt().memoizedState}function Yy(r,o,a){var p=On(r);if(a={lane:p,action:a,hasEagerState:!1,eagerState:null,next:null},Ld(r))Ud(o,a);else if(a=dd(r,o,a,p),a!==null){var y=gt();Zt(a,r,p,y),bd(a,o,p)}}function Qy(r,o,a){var p=On(r),y={lane:p,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ld(r))Ud(o,y);else{var S=r.alternate;if(r.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var E=o.lastRenderedState,A=S(E,a);if(y.hasEagerState=!0,y.eagerState=A,Wt(A,E)){var P=o.interleaved;P===null?(y.next=y,Gl(o)):(y.next=P.next,P.next=y),o.interleaved=y;return}}catch{}a=dd(r,o,y,p),a!==null&&(y=gt(),Zt(a,r,p,y),bd(a,o,p))}}function Ld(r){var o=r.alternate;return r===$e||o!==null&&o===$e}function Ud(r,o){Mi=$o=!0;var a=r.pending;a===null?o.next=o:(o.next=a.next,a.next=o),r.pending=o}function bd(r,o,a){if((a&4194240)!==0){var p=o.lanes;p&=r.pendingLanes,a|=p,o.lanes=a,tl(r,a)}}var Ko={readContext:Bt,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useInsertionEffect:ct,useLayoutEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useMutableSource:ct,useSyncExternalStore:ct,useId:ct,unstable_isNewReconciler:!1},Xy={readContext:Bt,useCallback:function(r,o){return an().memoizedState=[r,o===void 0?null:o],r},useContext:Bt,useEffect:_d,useImperativeHandle:function(r,o,a){return a=a!=null?a.concat([r]):null,Jo(4194308,4,Ad.bind(null,o,r),a)},useLayoutEffect:function(r,o){return Jo(4194308,4,r,o)},useInsertionEffect:function(r,o){return Jo(4,2,r,o)},useMemo:function(r,o){var a=an();return o=o===void 0?null:o,r=r(),a.memoizedState=[r,o],r},useReducer:function(r,o,a){var p=an();return o=a!==void 0?a(o):o,p.memoizedState=p.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},p.queue=r,r=r.dispatch=Yy.bind(null,$e,r),[p.memoizedState,r]},useRef:function(r){var o=an();return r={current:r},o.memoizedState=r},useState:Cd,useDebugValue:jl,useDeferredValue:function(r){return an().memoizedState=r},useTransition:function(){var r=Cd(!1),o=r[0];return r=Ky.bind(null,r[1]),an().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,a){var p=$e,y=an();if(qe){if(a===void 0)throw Error(n(407));a=a()}else{if(a=o(),nt===null)throw Error(n(349));(sr&30)!==0||vd(p,o,a)}y.memoizedState=a;var S={value:a,getSnapshot:o};return y.queue=S,_d(Sd.bind(null,p,S,r),[r]),p.flags|=2048,Ui(9,xd.bind(null,p,S,a,o),void 0,null),a},useId:function(){var r=an(),o=nt.identifierPrefix;if(qe){var a=vn,p=yn;a=(p&~(1<<32-Jt(p)-1)).toString(32)+a,o=":"+o+"R"+a,a=Di++,0<a&&(o+="H"+a.toString(32)),o+=":"}else a=Wy++,o=":"+o+"r"+a.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},Zy={readContext:Bt,useCallback:Rd,useContext:Bt,useEffect:Zl,useImperativeHandle:Nd,useInsertionEffect:Id,useLayoutEffect:kd,useMemo:Pd,useReducer:Ql,useRef:Td,useState:function(){return Ql(Li)},useDebugValue:jl,useDeferredValue:function(r){var o=Gt();return Md(o,je.memoizedState,r)},useTransition:function(){var r=Ql(Li)[0],o=Gt().memoizedState;return[r,o]},useMutableSource:gd,useSyncExternalStore:yd,useId:Dd,unstable_isNewReconciler:!1},jy={readContext:Bt,useCallback:Rd,useContext:Bt,useEffect:Zl,useImperativeHandle:Nd,useInsertionEffect:Id,useLayoutEffect:kd,useMemo:Pd,useReducer:Xl,useRef:Td,useState:function(){return Xl(Li)},useDebugValue:jl,useDeferredValue:function(r){var o=Gt();return je===null?o.memoizedState=r:Md(o,je.memoizedState,r)},useTransition:function(){var r=Xl(Li)[0],o=Gt().memoizedState;return[r,o]},useMutableSource:gd,useSyncExternalStore:yd,useId:Dd,unstable_isNewReconciler:!1};function Yt(r,o){if(r&&r.defaultProps){o=T({},o),r=r.defaultProps;for(var a in r)o[a]===void 0&&(o[a]=r[a]);return o}return o}function ea(r,o,a,p){o=r.memoizedState,a=a(p,o),a=a==null?o:T({},o,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Yo={isMounted:function(r){return(r=r._reactInternals)?jn(r)===r:!1},enqueueSetState:function(r,o,a){r=r._reactInternals;var p=gt(),y=On(r),S=Sn(p,y);S.payload=o,a!=null&&(S.callback=a),o=Gn(r,S,y),o!==null&&(Zt(o,r,y,p),Ho(o,r,y))},enqueueReplaceState:function(r,o,a){r=r._reactInternals;var p=gt(),y=On(r),S=Sn(p,y);S.tag=1,S.payload=o,a!=null&&(S.callback=a),o=Gn(r,S,y),o!==null&&(Zt(o,r,y,p),Ho(o,r,y))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var a=gt(),p=On(r),y=Sn(a,p);y.tag=2,o!=null&&(y.callback=o),o=Gn(r,y,p),o!==null&&(Zt(o,r,p,a),Ho(o,r,p))}};function Fd(r,o,a,p,y,S,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,S,E):o.prototype&&o.prototype.isPureReactComponent?!wi(a,p)||!wi(y,S):!0}function Vd(r,o,a){var p=!1,y=Fn,S=o.contextType;return typeof S=="object"&&S!==null?S=Bt(S):(y=St(o)?tr:ut.current,p=o.contextTypes,S=(p=p!=null)?Nr(r,y):Fn),o=new o(a,S),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Yo,r.stateNode=o,o._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=y,r.__reactInternalMemoizedMaskedChildContext=S),o}function Bd(r,o,a,p){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,p),o.state!==r&&Yo.enqueueReplaceState(o,o.state,null)}function ta(r,o,a,p){var y=r.stateNode;y.props=a,y.state=r.memoizedState,y.refs={},Hl(r);var S=o.contextType;typeof S=="object"&&S!==null?y.context=Bt(S):(S=St(o)?tr:ut.current,y.context=Nr(r,S)),y.state=r.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(ea(r,o,S,a),y.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&Yo.enqueueReplaceState(y,y.state,null),zo(r,a,y,p),y.state=r.memoizedState),typeof y.componentDidMount=="function"&&(r.flags|=4194308)}function Fr(r,o){try{var a="",p=o;do a+=Ce(p),p=p.return;while(p);var y=a}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:r,source:o,stack:y,digest:null}}function na(r,o,a){return{value:r,source:null,stack:a??null,digest:o??null}}function ra(r,o){try{console.error(o.value)}catch(a){setTimeout(function(){throw a})}}var e0=typeof WeakMap=="function"?WeakMap:Map;function Gd(r,o,a){a=Sn(-1,a),a.tag=3,a.payload={element:null};var p=o.value;return a.callback=function(){ns||(ns=!0,va=p),ra(r,o)},a}function Hd(r,o,a){a=Sn(-1,a),a.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var y=o.value;a.payload=function(){return p(y)},a.callback=function(){ra(r,o)}}var S=r.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(a.callback=function(){ra(r,o),typeof p!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),a}function zd(r,o,a){var p=r.pingCache;if(p===null){p=r.pingCache=new e0;var y=new Set;p.set(o,y)}else y=p.get(o),y===void 0&&(y=new Set,p.set(o,y));y.has(a)||(y.add(a),r=h0.bind(null,r,o,a),o.then(r,r))}function qd(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function Od(r,o,a,p,y){return(r.mode&1)===0?(r===o?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(o=Sn(-1,1),o.tag=2,Gn(a,o,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=y,r)}var t0=O.ReactCurrentOwner,wt=!1;function mt(r,o,a,p){o.child=r===null?cd(o,null,a,p):Dr(o,r.child,a,p)}function $d(r,o,a,p,y){a=a.render;var S=o.ref;return Ur(o,y),p=Kl(r,o,a,p,S,y),a=Yl(),r!==null&&!wt?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~y,wn(r,o,y)):(qe&&a&&Pl(o),o.flags|=1,mt(r,o,p,y),o.child)}function Jd(r,o,a,p,y){if(r===null){var S=a.type;return typeof S=="function"&&!_a(S)&&S.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(o.tag=15,o.type=S,Wd(r,o,S,p,y)):(r=as(a.type,null,p,o,o.mode,y),r.ref=o.ref,r.return=o,o.child=r)}if(S=r.child,(r.lanes&y)===0){var E=S.memoizedProps;if(a=a.compare,a=a!==null?a:wi,a(E,p)&&r.ref===o.ref)return wn(r,o,y)}return o.flags|=1,r=Jn(S,p),r.ref=o.ref,r.return=o,o.child=r}function Wd(r,o,a,p,y){if(r!==null){var S=r.memoizedProps;if(wi(S,p)&&r.ref===o.ref)if(wt=!1,o.pendingProps=p=S,(r.lanes&y)!==0)(r.flags&131072)!==0&&(wt=!0);else return o.lanes=r.lanes,wn(r,o,y)}return ia(r,o,a,p,y)}function Kd(r,o,a){var p=o.pendingProps,y=p.children,S=r!==null?r.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Br,Mt),Mt|=a;else{if((a&1073741824)===0)return r=S!==null?S.baseLanes|a:a,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,Ve(Br,Mt),Mt|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=S!==null?S.baseLanes:a,Ve(Br,Mt),Mt|=p}else S!==null?(p=S.baseLanes|a,o.memoizedState=null):p=a,Ve(Br,Mt),Mt|=p;return mt(r,o,y,a),o.child}function Yd(r,o){var a=o.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(o.flags|=512,o.flags|=2097152)}function ia(r,o,a,p,y){var S=St(a)?tr:ut.current;return S=Nr(o,S),Ur(o,y),a=Kl(r,o,a,p,S,y),p=Yl(),r!==null&&!wt?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~y,wn(r,o,y)):(qe&&p&&Pl(o),o.flags|=1,mt(r,o,a,y),o.child)}function Qd(r,o,a,p,y){if(St(a)){var S=!0;Do(o)}else S=!1;if(Ur(o,y),o.stateNode===null)Xo(r,o),Vd(o,a,p),ta(o,a,p,y),p=!0;else if(r===null){var E=o.stateNode,A=o.memoizedProps;E.props=A;var P=E.context,V=a.contextType;typeof V=="object"&&V!==null?V=Bt(V):(V=St(a)?tr:ut.current,V=Nr(o,V));var W=a.getDerivedStateFromProps,Q=typeof W=="function"||typeof E.getSnapshotBeforeUpdate=="function";Q||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==p||P!==V)&&Bd(o,E,p,V),Bn=!1;var J=o.memoizedState;E.state=J,zo(o,p,E,y),P=o.memoizedState,A!==p||J!==P||xt.current||Bn?(typeof W=="function"&&(ea(o,a,W,p),P=o.memoizedState),(A=Bn||Fd(o,a,A,p,J,P,V))?(Q||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=P),E.props=p,E.state=P,E.context=V,p=A):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{E=o.stateNode,fd(r,o),A=o.memoizedProps,V=o.type===o.elementType?A:Yt(o.type,A),E.props=V,Q=o.pendingProps,J=E.context,P=a.contextType,typeof P=="object"&&P!==null?P=Bt(P):(P=St(a)?tr:ut.current,P=Nr(o,P));var se=a.getDerivedStateFromProps;(W=typeof se=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==Q||J!==P)&&Bd(o,E,p,P),Bn=!1,J=o.memoizedState,E.state=J,zo(o,p,E,y);var ce=o.memoizedState;A!==Q||J!==ce||xt.current||Bn?(typeof se=="function"&&(ea(o,a,se,p),ce=o.memoizedState),(V=Bn||Fd(o,a,V,p,J,ce,P)||!1)?(W||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,ce,P),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,ce,P)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ce),E.props=p,E.state=ce,E.context=P,p=V):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&J===r.memoizedState||(o.flags|=1024),p=!1)}return oa(r,o,a,p,S,y)}function oa(r,o,a,p,y,S){Yd(r,o);var E=(o.flags&128)!==0;if(!p&&!E)return y&&td(o,a,!1),wn(r,o,S);p=o.stateNode,t0.current=o;var A=E&&typeof a.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,r!==null&&E?(o.child=Dr(o,r.child,null,S),o.child=Dr(o,null,A,S)):mt(r,o,A,S),o.memoizedState=p.state,y&&td(o,a,!0),o.child}function Xd(r){var o=r.stateNode;o.pendingContext?jc(r,o.pendingContext,o.pendingContext!==o.context):o.context&&jc(r,o.context,!1),zl(r,o.containerInfo)}function Zd(r,o,a,p,y){return Mr(),Ul(y),o.flags|=256,mt(r,o,a,p),o.child}var sa={dehydrated:null,treeContext:null,retryLane:0};function la(r){return{baseLanes:r,cachePool:null,transitions:null}}function jd(r,o,a){var p=o.pendingProps,y=Oe.current,S=!1,E=(o.flags&128)!==0,A;if((A=E)||(A=r!==null&&r.memoizedState===null?!1:(y&2)!==0),A?(S=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(y|=1),Ve(Oe,y&1),r===null)return Ll(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((o.mode&1)===0?o.lanes=1:r.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=p.children,r=p.fallback,S?(p=o.mode,S=o.child,E={mode:"hidden",children:E},(p&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=E):S=us(E,p,0,null),r=dr(r,p,a,null),S.return=o,r.return=o,S.sibling=r,o.child=S,o.child.memoizedState=la(a),o.memoizedState=sa,r):aa(o,E));if(y=r.memoizedState,y!==null&&(A=y.dehydrated,A!==null))return n0(r,o,E,p,A,y,a);if(S){S=p.fallback,E=o.mode,y=r.child,A=y.sibling;var P={mode:"hidden",children:p.children};return(E&1)===0&&o.child!==y?(p=o.child,p.childLanes=0,p.pendingProps=P,o.deletions=null):(p=Jn(y,P),p.subtreeFlags=y.subtreeFlags&14680064),A!==null?S=Jn(A,S):(S=dr(S,E,a,null),S.flags|=2),S.return=o,p.return=o,p.sibling=S,o.child=p,p=S,S=o.child,E=r.child.memoizedState,E=E===null?la(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},S.memoizedState=E,S.childLanes=r.childLanes&~a,o.memoizedState=sa,p}return S=r.child,r=S.sibling,p=Jn(S,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=a),p.return=o,p.sibling=null,r!==null&&(a=o.deletions,a===null?(o.deletions=[r],o.flags|=16):a.push(r)),o.child=p,o.memoizedState=null,p}function aa(r,o){return o=us({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function Qo(r,o,a,p){return p!==null&&Ul(p),Dr(o,r.child,null,a),r=aa(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function n0(r,o,a,p,y,S,E){if(a)return o.flags&256?(o.flags&=-257,p=na(Error(n(422))),Qo(r,o,E,p)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(S=p.fallback,y=o.mode,p=us({mode:"visible",children:p.children},y,0,null),S=dr(S,y,E,null),S.flags|=2,p.return=o,S.return=o,p.sibling=S,o.child=p,(o.mode&1)!==0&&Dr(o,r.child,null,E),o.child.memoizedState=la(E),o.memoizedState=sa,S);if((o.mode&1)===0)return Qo(r,o,E,null);if(y.data==="$!"){if(p=y.nextSibling&&y.nextSibling.dataset,p)var A=p.dgst;return p=A,S=Error(n(419)),p=na(S,p,void 0),Qo(r,o,E,p)}if(A=(E&r.childLanes)!==0,wt||A){if(p=nt,p!==null){switch(E&-E){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=(y&(p.suspendedLanes|E))!==0?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,xn(r,y),Zt(p,r,y,-1))}return Ta(),p=na(Error(n(421))),Qo(r,o,E,p)}return y.data==="$?"?(o.flags|=128,o.child=r.child,o=m0.bind(null,r),y._reactRetry=o,null):(r=S.treeContext,Pt=Un(y.nextSibling),Rt=o,qe=!0,Kt=null,r!==null&&(Ft[Vt++]=yn,Ft[Vt++]=vn,Ft[Vt++]=nr,yn=r.id,vn=r.overflow,nr=o),o=aa(o,p.children),o.flags|=4096,o)}function ef(r,o,a){r.lanes|=o;var p=r.alternate;p!==null&&(p.lanes|=o),Bl(r.return,o,a)}function ua(r,o,a,p,y){var S=r.memoizedState;S===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:a,tailMode:y}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=p,S.tail=a,S.tailMode=y)}function tf(r,o,a){var p=o.pendingProps,y=p.revealOrder,S=p.tail;if(mt(r,o,p.children,a),p=Oe.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ef(r,a,o);else if(r.tag===19)ef(r,a,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(Ve(Oe,p),(o.mode&1)===0)o.memoizedState=null;else switch(y){case"forwards":for(a=o.child,y=null;a!==null;)r=a.alternate,r!==null&&qo(r)===null&&(y=a),a=a.sibling;a=y,a===null?(y=o.child,o.child=null):(y=a.sibling,a.sibling=null),ua(o,!1,y,a,S);break;case"backwards":for(a=null,y=o.child,o.child=null;y!==null;){if(r=y.alternate,r!==null&&qo(r)===null){o.child=y;break}r=y.sibling,y.sibling=a,a=y,y=r}ua(o,!0,a,null,S);break;case"together":ua(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Xo(r,o){(o.mode&1)===0&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function wn(r,o,a){if(r!==null&&(o.dependencies=r.dependencies),lr|=o.lanes,(a&o.childLanes)===0)return null;if(r!==null&&o.child!==r.child)throw Error(n(153));if(o.child!==null){for(r=o.child,a=Jn(r,r.pendingProps),o.child=a,a.return=o;r.sibling!==null;)r=r.sibling,a=a.sibling=Jn(r,r.pendingProps),a.return=o;a.sibling=null}return o.child}function r0(r,o,a){switch(o.tag){case 3:Xd(o),Mr();break;case 5:md(o);break;case 1:St(o.type)&&Do(o);break;case 4:zl(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,y=o.memoizedProps.value;Ve(Bo,p._currentValue),p._currentValue=y;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Ve(Oe,Oe.current&1),o.flags|=128,null):(a&o.child.childLanes)!==0?jd(r,o,a):(Ve(Oe,Oe.current&1),r=wn(r,o,a),r!==null?r.sibling:null);Ve(Oe,Oe.current&1);break;case 19:if(p=(a&o.childLanes)!==0,(r.flags&128)!==0){if(p)return tf(r,o,a);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Ve(Oe,Oe.current),p)break;return null;case 22:case 23:return o.lanes=0,Kd(r,o,a)}return wn(r,o,a)}var nf,ca,rf,of;nf=function(r,o){for(var a=o.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ca=function(){},rf=function(r,o,a,p){var y=r.memoizedProps;if(y!==p){r=o.stateNode,or(ln.current);var S=null;switch(a){case"input":y=ni(r,y),p=ni(r,p),S=[];break;case"select":y=T({},y,{value:void 0}),p=T({},p,{value:void 0}),S=[];break;case"textarea":y=oi(r,y),p=oi(r,p),S=[];break;default:typeof y.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=Ro)}st(a,p);var E;a=null;for(V in y)if(!p.hasOwnProperty(V)&&y.hasOwnProperty(V)&&y[V]!=null)if(V==="style"){var A=y[V];for(E in A)A.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(s.hasOwnProperty(V)?S||(S=[]):(S=S||[]).push(V,null));for(V in p){var P=p[V];if(A=y?.[V],p.hasOwnProperty(V)&&P!==A&&(P!=null||A!=null))if(V==="style")if(A){for(E in A)!A.hasOwnProperty(E)||P&&P.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in P)P.hasOwnProperty(E)&&A[E]!==P[E]&&(a||(a={}),a[E]=P[E])}else a||(S||(S=[]),S.push(V,a)),a=P;else V==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,A=A?A.__html:void 0,P!=null&&A!==P&&(S=S||[]).push(V,P)):V==="children"?typeof P!="string"&&typeof P!="number"||(S=S||[]).push(V,""+P):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(s.hasOwnProperty(V)?(P!=null&&V==="onScroll"&&He("scroll",r),S||A===P||(S=[])):(S=S||[]).push(V,P))}a&&(S=S||[]).push("style",a);var V=S;(o.updateQueue=V)&&(o.flags|=4)}},of=function(r,o,a,p){a!==p&&(o.flags|=4)};function bi(r,o){if(!qe)switch(r.tailMode){case"hidden":o=r.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var p=null;a!==null;)a.alternate!==null&&(p=a),a=a.sibling;p===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function dt(r){var o=r.alternate!==null&&r.alternate.child===r.child,a=0,p=0;if(o)for(var y=r.child;y!==null;)a|=y.lanes|y.childLanes,p|=y.subtreeFlags&14680064,p|=y.flags&14680064,y.return=r,y=y.sibling;else for(y=r.child;y!==null;)a|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=r,y=y.sibling;return r.subtreeFlags|=p,r.childLanes=a,o}function i0(r,o,a){var p=o.pendingProps;switch(Ml(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(o),null;case 1:return St(o.type)&&Mo(),dt(o),null;case 3:return p=o.stateNode,br(),ze(xt),ze(ut),$l(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(Fo(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Kt!==null&&(wa(Kt),Kt=null))),ca(r,o),dt(o),null;case 5:ql(o);var y=or(Pi.current);if(a=o.type,r!==null&&o.stateNode!=null)rf(r,o,a,p,y),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(n(166));return dt(o),null}if(r=or(ln.current),Fo(o)){p=o.stateNode,a=o.type;var S=o.memoizedProps;switch(p[sn]=o,p[Ii]=S,r=(o.mode&1)!==0,a){case"dialog":He("cancel",p),He("close",p);break;case"iframe":case"object":case"embed":He("load",p);break;case"video":case"audio":for(y=0;y<Ci.length;y++)He(Ci[y],p);break;case"source":He("error",p);break;case"img":case"image":case"link":He("error",p),He("load",p);break;case"details":He("toggle",p);break;case"input":ri(p,S),He("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!S.multiple},He("invalid",p);break;case"textarea":oo(p,S),He("invalid",p)}st(a,S),y=null;for(var E in S)if(S.hasOwnProperty(E)){var A=S[E];E==="children"?typeof A=="string"?p.textContent!==A&&(S.suppressHydrationWarning!==!0&&No(p.textContent,A,r),y=["children",A]):typeof A=="number"&&p.textContent!==""+A&&(S.suppressHydrationWarning!==!0&&No(p.textContent,A,r),y=["children",""+A]):s.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&He("scroll",p)}switch(a){case"input":pn(p),io(p,S,!0);break;case"textarea":pn(p),lo(p);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(p.onclick=Ro)}p=y,o.updateQueue=p,p!==null&&(o.flags|=4)}else{E=y.nodeType===9?y:y.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=z(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=E.createElement(a,{is:p.is}):(r=E.createElement(a),a==="select"&&(E=r,p.multiple?E.multiple=!0:p.size&&(E.size=p.size))):r=E.createElementNS(r,a),r[sn]=o,r[Ii]=p,nf(r,o,!1,!1),o.stateNode=r;e:{switch(E=rn(a,p),a){case"dialog":He("cancel",r),He("close",r),y=p;break;case"iframe":case"object":case"embed":He("load",r),y=p;break;case"video":case"audio":for(y=0;y<Ci.length;y++)He(Ci[y],r);y=p;break;case"source":He("error",r),y=p;break;case"img":case"image":case"link":He("error",r),He("load",r),y=p;break;case"details":He("toggle",r),y=p;break;case"input":ri(r,p),y=ni(r,p),He("invalid",r);break;case"option":y=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},y=T({},p,{value:void 0}),He("invalid",r);break;case"textarea":oo(r,p),y=oi(r,p),He("invalid",r);break;default:y=p}st(a,y),A=y;for(S in A)if(A.hasOwnProperty(S)){var P=A[S];S==="style"?An(r,P):S==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&ke(r,P)):S==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Re(r,P):typeof P=="number"&&Re(r,""+P):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(s.hasOwnProperty(S)?P!=null&&S==="onScroll"&&He("scroll",r):P!=null&&b(r,S,P,E))}switch(a){case"input":pn(r),io(r,p,!1);break;case"textarea":pn(r),lo(r);break;case"option":p.value!=null&&r.setAttribute("value",""+Ie(p.value));break;case"select":r.multiple=!!p.multiple,S=p.value,S!=null?kn(r,!!p.multiple,S,!1):p.defaultValue!=null&&kn(r,!!p.multiple,p.defaultValue,!0);break;default:typeof y.onClick=="function"&&(r.onclick=Ro)}switch(a){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return dt(o),null;case 6:if(r&&o.stateNode!=null)of(r,o,r.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(n(166));if(a=or(Pi.current),or(ln.current),Fo(o)){if(p=o.stateNode,a=o.memoizedProps,p[sn]=o,(S=p.nodeValue!==a)&&(r=Rt,r!==null))switch(r.tag){case 3:No(p.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&No(p.nodeValue,a,(r.mode&1)!==0)}S&&(o.flags|=4)}else p=(a.nodeType===9?a:a.ownerDocument).createTextNode(p),p[sn]=o,o.stateNode=p}return dt(o),null;case 13:if(ze(Oe),p=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(qe&&Pt!==null&&(o.mode&1)!==0&&(o.flags&128)===0)ld(),Mr(),o.flags|=98560,S=!1;else if(S=Fo(o),p!==null&&p.dehydrated!==null){if(r===null){if(!S)throw Error(n(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[sn]=o}else Mr(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;dt(o),S=!1}else Kt!==null&&(wa(Kt),Kt=null),S=!0;if(!S)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=a,o):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(r===null||(Oe.current&1)!==0?et===0&&(et=3):Ta())),o.updateQueue!==null&&(o.flags|=4),dt(o),null);case 4:return br(),ca(r,o),r===null&&Ti(o.stateNode.containerInfo),dt(o),null;case 10:return Vl(o.type._context),dt(o),null;case 17:return St(o.type)&&Mo(),dt(o),null;case 19:if(ze(Oe),S=o.memoizedState,S===null)return dt(o),null;if(p=(o.flags&128)!==0,E=S.rendering,E===null)if(p)bi(S,!1);else{if(et!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(E=qo(r),E!==null){for(o.flags|=128,bi(S,!1),p=E.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=a,a=o.child;a!==null;)S=a,r=p,S.flags&=14680066,E=S.alternate,E===null?(S.childLanes=0,S.lanes=r,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=E.childLanes,S.lanes=E.lanes,S.child=E.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=E.memoizedProps,S.memoizedState=E.memoizedState,S.updateQueue=E.updateQueue,S.type=E.type,r=E.dependencies,S.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Ve(Oe,Oe.current&1|2),o.child}r=r.sibling}S.tail!==null&&We()>Gr&&(o.flags|=128,p=!0,bi(S,!1),o.lanes=4194304)}else{if(!p)if(r=qo(E),r!==null){if(o.flags|=128,p=!0,a=r.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),bi(S,!0),S.tail===null&&S.tailMode==="hidden"&&!E.alternate&&!qe)return dt(o),null}else 2*We()-S.renderingStartTime>Gr&&a!==1073741824&&(o.flags|=128,p=!0,bi(S,!1),o.lanes=4194304);S.isBackwards?(E.sibling=o.child,o.child=E):(a=S.last,a!==null?a.sibling=E:o.child=E,S.last=E)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=We(),o.sibling=null,a=Oe.current,Ve(Oe,p?a&1|2:a&1),o):(dt(o),null);case 22:case 23:return Ca(),p=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Mt&1073741824)!==0&&(dt(o),o.subtreeFlags&6&&(o.flags|=8192)):dt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function o0(r,o){switch(Ml(o),o.tag){case 1:return St(o.type)&&Mo(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return br(),ze(xt),ze(ut),$l(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 5:return ql(o),null;case 13:if(ze(Oe),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Mr()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ze(Oe),null;case 4:return br(),null;case 10:return Vl(o.type._context),null;case 22:case 23:return Ca(),null;case 24:return null;default:return null}}var Zo=!1,ft=!1,s0=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Vr(r,o){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(p){Je(r,o,p)}else a.current=null}function da(r,o,a){try{a()}catch(p){Je(r,o,p)}}var sf=!1;function l0(r,o){if(Cl=vo,r=Fc(),ml(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var p=a.getSelection&&a.getSelection();if(p&&p.rangeCount!==0){a=p.anchorNode;var y=p.anchorOffset,S=p.focusNode;p=p.focusOffset;try{a.nodeType,S.nodeType}catch{a=null;break e}var E=0,A=-1,P=-1,V=0,W=0,Q=r,J=null;t:for(;;){for(var se;Q!==a||y!==0&&Q.nodeType!==3||(A=E+y),Q!==S||p!==0&&Q.nodeType!==3||(P=E+p),Q.nodeType===3&&(E+=Q.nodeValue.length),(se=Q.firstChild)!==null;)J=Q,Q=se;for(;;){if(Q===r)break t;if(J===a&&++V===y&&(A=E),J===S&&++W===p&&(P=E),(se=Q.nextSibling)!==null)break;Q=J,J=Q.parentNode}Q=se}a=A===-1||P===-1?null:{start:A,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tl={focusedElem:r,selectionRange:a},vo=!1,ue=o;ue!==null;)if(o=ue,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,ue=r;else for(;ue!==null;){o=ue;try{var ce=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var de=ce.memoizedProps,Ke=ce.memoizedState,U=o.stateNode,L=U.getSnapshotBeforeUpdate(o.elementType===o.type?de:Yt(o.type,de),Ke);U.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var F=o.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(j){Je(o,o.return,j)}if(r=o.sibling,r!==null){r.return=o.return,ue=r;break}ue=o.return}return ce=sf,sf=!1,ce}function Fi(r,o,a){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&r)===r){var S=y.destroy;y.destroy=void 0,S!==void 0&&da(o,a,S)}y=y.next}while(y!==p)}}function jo(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&r)===r){var p=a.create;a.destroy=p()}a=a.next}while(a!==o)}}function fa(r){var o=r.ref;if(o!==null){var a=r.stateNode;r.tag,r=a,typeof o=="function"?o(r):o.current=r}}function lf(r){var o=r.alternate;o!==null&&(r.alternate=null,lf(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[sn],delete o[Ii],delete o[Al],delete o[qy],delete o[Oy])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function af(r){return r.tag===5||r.tag===3||r.tag===4}function uf(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||af(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pa(r,o,a){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?a.nodeType===8?a.parentNode.insertBefore(r,o):a.insertBefore(r,o):(a.nodeType===8?(o=a.parentNode,o.insertBefore(r,a)):(o=a,o.appendChild(r)),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Ro));else if(p!==4&&(r=r.child,r!==null))for(pa(r,o,a),r=r.sibling;r!==null;)pa(r,o,a),r=r.sibling}function ha(r,o,a){var p=r.tag;if(p===5||p===6)r=r.stateNode,o?a.insertBefore(r,o):a.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(ha(r,o,a),r=r.sibling;r!==null;)ha(r,o,a),r=r.sibling}var lt=null,Qt=!1;function Hn(r,o,a){for(a=a.child;a!==null;)cf(r,o,a),a=a.sibling}function cf(r,o,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(fo,a)}catch{}switch(a.tag){case 5:ft||Vr(a,o);case 6:var p=lt,y=Qt;lt=null,Hn(r,o,a),lt=p,Qt=y,lt!==null&&(Qt?(r=lt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):lt.removeChild(a.stateNode));break;case 18:lt!==null&&(Qt?(r=lt,a=a.stateNode,r.nodeType===8?kl(r.parentNode,a):r.nodeType===1&&kl(r,a),mi(r)):kl(lt,a.stateNode));break;case 4:p=lt,y=Qt,lt=a.stateNode.containerInfo,Qt=!0,Hn(r,o,a),lt=p,Qt=y;break;case 0:case 11:case 14:case 15:if(!ft&&(p=a.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){y=p=p.next;do{var S=y,E=S.destroy;S=S.tag,E!==void 0&&((S&2)!==0||(S&4)!==0)&&da(a,o,E),y=y.next}while(y!==p)}Hn(r,o,a);break;case 1:if(!ft&&(Vr(a,o),p=a.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=a.memoizedProps,p.state=a.memoizedState,p.componentWillUnmount()}catch(A){Je(a,o,A)}Hn(r,o,a);break;case 21:Hn(r,o,a);break;case 22:a.mode&1?(ft=(p=ft)||a.memoizedState!==null,Hn(r,o,a),ft=p):Hn(r,o,a);break;default:Hn(r,o,a)}}function df(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new s0),o.forEach(function(p){var y=g0.bind(null,r,p);a.has(p)||(a.add(p),p.then(y,y))})}}function Xt(r,o){var a=o.deletions;if(a!==null)for(var p=0;p<a.length;p++){var y=a[p];try{var S=r,E=o,A=E;e:for(;A!==null;){switch(A.tag){case 5:lt=A.stateNode,Qt=!1;break e;case 3:lt=A.stateNode.containerInfo,Qt=!0;break e;case 4:lt=A.stateNode.containerInfo,Qt=!0;break e}A=A.return}if(lt===null)throw Error(n(160));cf(S,E,y),lt=null,Qt=!1;var P=y.alternate;P!==null&&(P.return=null),y.return=null}catch(V){Je(y,o,V)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)ff(o,r),o=o.sibling}function ff(r,o){var a=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Xt(o,r),un(r),p&4){try{Fi(3,r,r.return),jo(3,r)}catch(de){Je(r,r.return,de)}try{Fi(5,r,r.return)}catch(de){Je(r,r.return,de)}}break;case 1:Xt(o,r),un(r),p&512&&a!==null&&Vr(a,a.return);break;case 5:if(Xt(o,r),un(r),p&512&&a!==null&&Vr(a,a.return),r.flags&32){var y=r.stateNode;try{Re(y,"")}catch(de){Je(r,r.return,de)}}if(p&4&&(y=r.stateNode,y!=null)){var S=r.memoizedProps,E=a!==null?a.memoizedProps:S,A=r.type,P=r.updateQueue;if(r.updateQueue=null,P!==null)try{A==="input"&&S.type==="radio"&&S.name!=null&&ii(y,S),rn(A,E);var V=rn(A,S);for(E=0;E<P.length;E+=2){var W=P[E],Q=P[E+1];W==="style"?An(y,Q):W==="dangerouslySetInnerHTML"?ke(y,Q):W==="children"?Re(y,Q):b(y,W,Q,V)}switch(A){case"input":gr(y,S);break;case"textarea":so(y,S);break;case"select":var J=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!S.multiple;var se=S.value;se!=null?kn(y,!!S.multiple,se,!1):J!==!!S.multiple&&(S.defaultValue!=null?kn(y,!!S.multiple,S.defaultValue,!0):kn(y,!!S.multiple,S.multiple?[]:"",!1))}y[Ii]=S}catch(de){Je(r,r.return,de)}}break;case 6:if(Xt(o,r),un(r),p&4){if(r.stateNode===null)throw Error(n(162));y=r.stateNode,S=r.memoizedProps;try{y.nodeValue=S}catch(de){Je(r,r.return,de)}}break;case 3:if(Xt(o,r),un(r),p&4&&a!==null&&a.memoizedState.isDehydrated)try{mi(o.containerInfo)}catch(de){Je(r,r.return,de)}break;case 4:Xt(o,r),un(r);break;case 13:Xt(o,r),un(r),y=r.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(ya=We())),p&4&&df(r);break;case 22:if(W=a!==null&&a.memoizedState!==null,r.mode&1?(ft=(V=ft)||W,Xt(o,r),ft=V):Xt(o,r),un(r),p&8192){if(V=r.memoizedState!==null,(r.stateNode.isHidden=V)&&!W&&(r.mode&1)!==0)for(ue=r,W=r.child;W!==null;){for(Q=ue=W;ue!==null;){switch(J=ue,se=J.child,J.tag){case 0:case 11:case 14:case 15:Fi(4,J,J.return);break;case 1:Vr(J,J.return);var ce=J.stateNode;if(typeof ce.componentWillUnmount=="function"){p=J,a=J.return;try{o=p,ce.props=o.memoizedProps,ce.state=o.memoizedState,ce.componentWillUnmount()}catch(de){Je(p,a,de)}}break;case 5:Vr(J,J.return);break;case 22:if(J.memoizedState!==null){mf(Q);continue}}se!==null?(se.return=J,ue=se):mf(Q)}W=W.sibling}e:for(W=null,Q=r;;){if(Q.tag===5){if(W===null){W=Q;try{y=Q.stateNode,V?(S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(A=Q.stateNode,P=Q.memoizedProps.style,E=P!=null&&P.hasOwnProperty("display")?P.display:null,A.style.display=bt("display",E))}catch(de){Je(r,r.return,de)}}}else if(Q.tag===6){if(W===null)try{Q.stateNode.nodeValue=V?"":Q.memoizedProps}catch(de){Je(r,r.return,de)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===r)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===r)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===r)break e;W===Q&&(W=null),Q=Q.return}W===Q&&(W=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Xt(o,r),un(r),p&4&&df(r);break;case 21:break;default:Xt(o,r),un(r)}}function un(r){var o=r.flags;if(o&2){try{e:{for(var a=r.return;a!==null;){if(af(a)){var p=a;break e}a=a.return}throw Error(n(160))}switch(p.tag){case 5:var y=p.stateNode;p.flags&32&&(Re(y,""),p.flags&=-33);var S=uf(r);ha(r,S,y);break;case 3:case 4:var E=p.stateNode.containerInfo,A=uf(r);pa(r,A,E);break;default:throw Error(n(161))}}catch(P){Je(r,r.return,P)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function a0(r,o,a){ue=r,pf(r)}function pf(r,o,a){for(var p=(r.mode&1)!==0;ue!==null;){var y=ue,S=y.child;if(y.tag===22&&p){var E=y.memoizedState!==null||Zo;if(!E){var A=y.alternate,P=A!==null&&A.memoizedState!==null||ft;A=Zo;var V=ft;if(Zo=E,(ft=P)&&!V)for(ue=y;ue!==null;)E=ue,P=E.child,E.tag===22&&E.memoizedState!==null?gf(y):P!==null?(P.return=E,ue=P):gf(y);for(;S!==null;)ue=S,pf(S),S=S.sibling;ue=y,Zo=A,ft=V}hf(r)}else(y.subtreeFlags&8772)!==0&&S!==null?(S.return=y,ue=S):hf(r)}}function hf(r){for(;ue!==null;){var o=ue;if((o.flags&8772)!==0){var a=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:ft||jo(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!ft)if(a===null)p.componentDidMount();else{var y=o.elementType===o.type?a.memoizedProps:Yt(o.type,a.memoizedProps);p.componentDidUpdate(y,a.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var S=o.updateQueue;S!==null&&hd(o,S,p);break;case 3:var E=o.updateQueue;if(E!==null){if(a=null,o.child!==null)switch(o.child.tag){case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}hd(o,E,a)}break;case 5:var A=o.stateNode;if(a===null&&o.flags&4){a=A;var P=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var V=o.alternate;if(V!==null){var W=V.memoizedState;if(W!==null){var Q=W.dehydrated;Q!==null&&mi(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ft||o.flags&512&&fa(o)}catch(J){Je(o,o.return,J)}}if(o===r){ue=null;break}if(a=o.sibling,a!==null){a.return=o.return,ue=a;break}ue=o.return}}function mf(r){for(;ue!==null;){var o=ue;if(o===r){ue=null;break}var a=o.sibling;if(a!==null){a.return=o.return,ue=a;break}ue=o.return}}function gf(r){for(;ue!==null;){var o=ue;try{switch(o.tag){case 0:case 11:case 15:var a=o.return;try{jo(4,o)}catch(P){Je(o,a,P)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var y=o.return;try{p.componentDidMount()}catch(P){Je(o,y,P)}}var S=o.return;try{fa(o)}catch(P){Je(o,S,P)}break;case 5:var E=o.return;try{fa(o)}catch(P){Je(o,E,P)}}}catch(P){Je(o,o.return,P)}if(o===r){ue=null;break}var A=o.sibling;if(A!==null){A.return=o.return,ue=A;break}ue=o.return}}var u0=Math.ceil,es=O.ReactCurrentDispatcher,ma=O.ReactCurrentOwner,Ht=O.ReactCurrentBatchConfig,Pe=0,nt=null,Xe=null,at=0,Mt=0,Br=bn(0),et=0,Vi=null,lr=0,ts=0,ga=0,Bi=null,Et=null,ya=0,Gr=1/0,En=null,ns=!1,va=null,zn=null,rs=!1,qn=null,is=0,Gi=0,xa=null,os=-1,ss=0;function gt(){return(Pe&6)!==0?We():os!==-1?os:os=We()}function On(r){return(r.mode&1)===0?1:(Pe&2)!==0&&at!==0?at&-at:Jy.transition!==null?(ss===0&&(ss=ac()),ss):(r=Fe,r!==0||(r=window.event,r=r===void 0?16:yc(r.type)),r)}function Zt(r,o,a,p){if(50<Gi)throw Gi=0,xa=null,Error(n(185));ci(r,a,p),((Pe&2)===0||r!==nt)&&(r===nt&&((Pe&2)===0&&(ts|=a),et===4&&$n(r,at)),Ct(r,p),a===1&&Pe===0&&(o.mode&1)===0&&(Gr=We()+500,Lo&&Vn()))}function Ct(r,o){var a=r.callbackNode;Jg(r,o);var p=mo(r,r===nt?at:0);if(p===0)a!==null&&oc(a),r.callbackNode=null,r.callbackPriority=0;else if(o=p&-p,r.callbackPriority!==o){if(a!=null&&oc(a),o===1)r.tag===0?$y(vf.bind(null,r)):nd(vf.bind(null,r)),Hy(function(){(Pe&6)===0&&Vn()}),a=null;else{switch(uc(p)){case 1:a=Zs;break;case 4:a=sc;break;case 16:a=co;break;case 536870912:a=lc;break;default:a=co}a=If(a,yf.bind(null,r))}r.callbackPriority=o,r.callbackNode=a}}function yf(r,o){if(os=-1,ss=0,(Pe&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Hr()&&r.callbackNode!==a)return null;var p=mo(r,r===nt?at:0);if(p===0)return null;if((p&30)!==0||(p&r.expiredLanes)!==0||o)o=ls(r,p);else{o=p;var y=Pe;Pe|=2;var S=Sf();(nt!==r||at!==o)&&(En=null,Gr=We()+500,ur(r,o));do try{f0();break}catch(A){xf(r,A)}while(!0);Fl(),es.current=S,Pe=y,Xe!==null?o=0:(nt=null,at=0,o=et)}if(o!==0){if(o===2&&(y=js(r),y!==0&&(p=y,o=Sa(r,y))),o===1)throw a=Vi,ur(r,0),$n(r,p),Ct(r,We()),a;if(o===6)$n(r,p);else{if(y=r.current.alternate,(p&30)===0&&!c0(y)&&(o=ls(r,p),o===2&&(S=js(r),S!==0&&(p=S,o=Sa(r,S))),o===1))throw a=Vi,ur(r,0),$n(r,p),Ct(r,We()),a;switch(r.finishedWork=y,r.finishedLanes=p,o){case 0:case 1:throw Error(n(345));case 2:cr(r,Et,En);break;case 3:if($n(r,p),(p&130023424)===p&&(o=ya+500-We(),10<o)){if(mo(r,0)!==0)break;if(y=r.suspendedLanes,(y&p)!==p){gt(),r.pingedLanes|=r.suspendedLanes&y;break}r.timeoutHandle=Il(cr.bind(null,r,Et,En),o);break}cr(r,Et,En);break;case 4:if($n(r,p),(p&4194240)===p)break;for(o=r.eventTimes,y=-1;0<p;){var E=31-Jt(p);S=1<<E,E=o[E],E>y&&(y=E),p&=~S}if(p=y,p=We()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*u0(p/1960))-p,10<p){r.timeoutHandle=Il(cr.bind(null,r,Et,En),p);break}cr(r,Et,En);break;case 5:cr(r,Et,En);break;default:throw Error(n(329))}}}return Ct(r,We()),r.callbackNode===a?yf.bind(null,r):null}function Sa(r,o){var a=Bi;return r.current.memoizedState.isDehydrated&&(ur(r,o).flags|=256),r=ls(r,o),r!==2&&(o=Et,Et=a,o!==null&&wa(o)),r}function wa(r){Et===null?Et=r:Et.push.apply(Et,r)}function c0(r){for(var o=r;;){if(o.flags&16384){var a=o.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var p=0;p<a.length;p++){var y=a[p],S=y.getSnapshot;y=y.value;try{if(!Wt(S(),y))return!1}catch{return!1}}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function $n(r,o){for(o&=~ga,o&=~ts,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var a=31-Jt(o),p=1<<a;r[a]=-1,o&=~p}}function vf(r){if((Pe&6)!==0)throw Error(n(327));Hr();var o=mo(r,0);if((o&1)===0)return Ct(r,We()),null;var a=ls(r,o);if(r.tag!==0&&a===2){var p=js(r);p!==0&&(o=p,a=Sa(r,p))}if(a===1)throw a=Vi,ur(r,0),$n(r,o),Ct(r,We()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,cr(r,Et,En),Ct(r,We()),null}function Ea(r,o){var a=Pe;Pe|=1;try{return r(o)}finally{Pe=a,Pe===0&&(Gr=We()+500,Lo&&Vn())}}function ar(r){qn!==null&&qn.tag===0&&(Pe&6)===0&&Hr();var o=Pe;Pe|=1;var a=Ht.transition,p=Fe;try{if(Ht.transition=null,Fe=1,r)return r()}finally{Fe=p,Ht.transition=a,Pe=o,(Pe&6)===0&&Vn()}}function Ca(){Mt=Br.current,ze(Br)}function ur(r,o){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Gy(a)),Xe!==null)for(a=Xe.return;a!==null;){var p=a;switch(Ml(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Mo();break;case 3:br(),ze(xt),ze(ut),$l();break;case 5:ql(p);break;case 4:br();break;case 13:ze(Oe);break;case 19:ze(Oe);break;case 10:Vl(p.type._context);break;case 22:case 23:Ca()}a=a.return}if(nt=r,Xe=r=Jn(r.current,null),at=Mt=o,et=0,Vi=null,ga=ts=lr=0,Et=Bi=null,ir!==null){for(o=0;o<ir.length;o++)if(a=ir[o],p=a.interleaved,p!==null){a.interleaved=null;var y=p.next,S=a.pending;if(S!==null){var E=S.next;S.next=y,p.next=E}a.pending=p}ir=null}return r}function xf(r,o){do{var a=Xe;try{if(Fl(),Oo.current=Ko,$o){for(var p=$e.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}$o=!1}if(sr=0,tt=je=$e=null,Mi=!1,Di=0,ma.current=null,a===null||a.return===null){et=1,Vi=o,Xe=null;break}e:{var S=r,E=a.return,A=a,P=o;if(o=at,A.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var V=P,W=A,Q=W.tag;if((W.mode&1)===0&&(Q===0||Q===11||Q===15)){var J=W.alternate;J?(W.updateQueue=J.updateQueue,W.memoizedState=J.memoizedState,W.lanes=J.lanes):(W.updateQueue=null,W.memoizedState=null)}var se=qd(E);if(se!==null){se.flags&=-257,Od(se,E,A,S,o),se.mode&1&&zd(S,V,o),o=se,P=V;var ce=o.updateQueue;if(ce===null){var de=new Set;de.add(P),o.updateQueue=de}else ce.add(P);break e}else{if((o&1)===0){zd(S,V,o),Ta();break e}P=Error(n(426))}}else if(qe&&A.mode&1){var Ke=qd(E);if(Ke!==null){(Ke.flags&65536)===0&&(Ke.flags|=256),Od(Ke,E,A,S,o),Ul(Fr(P,A));break e}}S=P=Fr(P,A),et!==4&&(et=2),Bi===null?Bi=[S]:Bi.push(S),S=E;do{switch(S.tag){case 3:S.flags|=65536,o&=-o,S.lanes|=o;var U=Gd(S,P,o);pd(S,U);break e;case 1:A=P;var L=S.type,F=S.stateNode;if((S.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(zn===null||!zn.has(F)))){S.flags|=65536,o&=-o,S.lanes|=o;var j=Hd(S,A,o);pd(S,j);break e}}S=S.return}while(S!==null)}Ef(a)}catch(fe){o=fe,Xe===a&&a!==null&&(Xe=a=a.return);continue}break}while(!0)}function Sf(){var r=es.current;return es.current=Ko,r===null?Ko:r}function Ta(){(et===0||et===3||et===2)&&(et=4),nt===null||(lr&268435455)===0&&(ts&268435455)===0||$n(nt,at)}function ls(r,o){var a=Pe;Pe|=2;var p=Sf();(nt!==r||at!==o)&&(En=null,ur(r,o));do try{d0();break}catch(y){xf(r,y)}while(!0);if(Fl(),Pe=a,es.current=p,Xe!==null)throw Error(n(261));return nt=null,at=0,et}function d0(){for(;Xe!==null;)wf(Xe)}function f0(){for(;Xe!==null&&!Fg();)wf(Xe)}function wf(r){var o=_f(r.alternate,r,Mt);r.memoizedProps=r.pendingProps,o===null?Ef(r):Xe=o,ma.current=null}function Ef(r){var o=r;do{var a=o.alternate;if(r=o.return,(o.flags&32768)===0){if(a=i0(a,o,Mt),a!==null){Xe=a;return}}else{if(a=o0(a,o),a!==null){a.flags&=32767,Xe=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{et=6,Xe=null;return}}if(o=o.sibling,o!==null){Xe=o;return}Xe=o=r}while(o!==null);et===0&&(et=5)}function cr(r,o,a){var p=Fe,y=Ht.transition;try{Ht.transition=null,Fe=1,p0(r,o,a,p)}finally{Ht.transition=y,Fe=p}return null}function p0(r,o,a,p){do Hr();while(qn!==null);if((Pe&6)!==0)throw Error(n(327));a=r.finishedWork;var y=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var S=a.lanes|a.childLanes;if(Wg(r,S),r===nt&&(Xe=nt=null,at=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||rs||(rs=!0,If(co,function(){return Hr(),null})),S=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||S){S=Ht.transition,Ht.transition=null;var E=Fe;Fe=1;var A=Pe;Pe|=4,ma.current=null,l0(r,a),ff(a,r),Dy(Tl),vo=!!Cl,Tl=Cl=null,r.current=a,a0(a),Vg(),Pe=A,Fe=E,Ht.transition=S}else r.current=a;if(rs&&(rs=!1,qn=r,is=y),S=r.pendingLanes,S===0&&(zn=null),Hg(a.stateNode),Ct(r,We()),o!==null)for(p=r.onRecoverableError,a=0;a<o.length;a++)y=o[a],p(y.value,{componentStack:y.stack,digest:y.digest});if(ns)throw ns=!1,r=va,va=null,r;return(is&1)!==0&&r.tag!==0&&Hr(),S=r.pendingLanes,(S&1)!==0?r===xa?Gi++:(Gi=0,xa=r):Gi=0,Vn(),null}function Hr(){if(qn!==null){var r=uc(is),o=Ht.transition,a=Fe;try{if(Ht.transition=null,Fe=16>r?16:r,qn===null)var p=!1;else{if(r=qn,qn=null,is=0,(Pe&6)!==0)throw Error(n(331));var y=Pe;for(Pe|=4,ue=r.current;ue!==null;){var S=ue,E=S.child;if((ue.flags&16)!==0){var A=S.deletions;if(A!==null){for(var P=0;P<A.length;P++){var V=A[P];for(ue=V;ue!==null;){var W=ue;switch(W.tag){case 0:case 11:case 15:Fi(8,W,S)}var Q=W.child;if(Q!==null)Q.return=W,ue=Q;else for(;ue!==null;){W=ue;var J=W.sibling,se=W.return;if(lf(W),W===V){ue=null;break}if(J!==null){J.return=se,ue=J;break}ue=se}}}var ce=S.alternate;if(ce!==null){var de=ce.child;if(de!==null){ce.child=null;do{var Ke=de.sibling;de.sibling=null,de=Ke}while(de!==null)}}ue=S}}if((S.subtreeFlags&2064)!==0&&E!==null)E.return=S,ue=E;else e:for(;ue!==null;){if(S=ue,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Fi(9,S,S.return)}var U=S.sibling;if(U!==null){U.return=S.return,ue=U;break e}ue=S.return}}var L=r.current;for(ue=L;ue!==null;){E=ue;var F=E.child;if((E.subtreeFlags&2064)!==0&&F!==null)F.return=E,ue=F;else e:for(E=L;ue!==null;){if(A=ue,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:jo(9,A)}}catch(fe){Je(A,A.return,fe)}if(A===E){ue=null;break e}var j=A.sibling;if(j!==null){j.return=A.return,ue=j;break e}ue=A.return}}if(Pe=y,Vn(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(fo,r)}catch{}p=!0}return p}finally{Fe=a,Ht.transition=o}}return!1}function Cf(r,o,a){o=Fr(a,o),o=Gd(r,o,1),r=Gn(r,o,1),o=gt(),r!==null&&(ci(r,1,o),Ct(r,o))}function Je(r,o,a){if(r.tag===3)Cf(r,r,a);else for(;o!==null;){if(o.tag===3){Cf(o,r,a);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(zn===null||!zn.has(p))){r=Fr(a,r),r=Hd(o,r,1),o=Gn(o,r,1),r=gt(),o!==null&&(ci(o,1,r),Ct(o,r));break}}o=o.return}}function h0(r,o,a){var p=r.pingCache;p!==null&&p.delete(o),o=gt(),r.pingedLanes|=r.suspendedLanes&a,nt===r&&(at&a)===a&&(et===4||et===3&&(at&130023424)===at&&500>We()-ya?ur(r,0):ga|=a),Ct(r,o)}function Tf(r,o){o===0&&((r.mode&1)===0?o=1:(o=ho,ho<<=1,(ho&130023424)===0&&(ho=4194304)));var a=gt();r=xn(r,o),r!==null&&(ci(r,o,a),Ct(r,a))}function m0(r){var o=r.memoizedState,a=0;o!==null&&(a=o.retryLane),Tf(r,a)}function g0(r,o){var a=0;switch(r.tag){case 13:var p=r.stateNode,y=r.memoizedState;y!==null&&(a=y.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(n(314))}p!==null&&p.delete(o),Tf(r,a)}var _f;_f=function(r,o,a){if(r!==null)if(r.memoizedProps!==o.pendingProps||xt.current)wt=!0;else{if((r.lanes&a)===0&&(o.flags&128)===0)return wt=!1,r0(r,o,a);wt=(r.flags&131072)!==0}else wt=!1,qe&&(o.flags&1048576)!==0&&rd(o,bo,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Xo(r,o),r=o.pendingProps;var y=Nr(o,ut.current);Ur(o,a),y=Kl(null,o,p,r,y,a);var S=Yl();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,St(p)?(S=!0,Do(o)):S=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Hl(o),y.updater=Yo,o.stateNode=y,y._reactInternals=o,ta(o,p,r,a),o=oa(null,o,p,!0,S,a)):(o.tag=0,qe&&S&&Pl(o),mt(null,o,y,a),o=o.child),o;case 16:p=o.elementType;e:{switch(Xo(r,o),r=o.pendingProps,y=p._init,p=y(p._payload),o.type=p,y=o.tag=v0(p),r=Yt(p,r),y){case 0:o=ia(null,o,p,r,a);break e;case 1:o=Qd(null,o,p,r,a);break e;case 11:o=$d(null,o,p,r,a);break e;case 14:o=Jd(null,o,p,Yt(p.type,r),a);break e}throw Error(n(306,p,""))}return o;case 0:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Yt(p,y),ia(r,o,p,y,a);case 1:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Yt(p,y),Qd(r,o,p,y,a);case 3:e:{if(Xd(o),r===null)throw Error(n(387));p=o.pendingProps,S=o.memoizedState,y=S.element,fd(r,o),zo(o,p,null,a);var E=o.memoizedState;if(p=E.element,S.isDehydrated)if(S={element:p,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){y=Fr(Error(n(423)),o),o=Zd(r,o,p,a,y);break e}else if(p!==y){y=Fr(Error(n(424)),o),o=Zd(r,o,p,a,y);break e}else for(Pt=Un(o.stateNode.containerInfo.firstChild),Rt=o,qe=!0,Kt=null,a=cd(o,null,p,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Mr(),p===y){o=wn(r,o,a);break e}mt(r,o,p,a)}o=o.child}return o;case 5:return md(o),r===null&&Ll(o),p=o.type,y=o.pendingProps,S=r!==null?r.memoizedProps:null,E=y.children,_l(p,y)?E=null:S!==null&&_l(p,S)&&(o.flags|=32),Yd(r,o),mt(r,o,E,a),o.child;case 6:return r===null&&Ll(o),null;case 13:return jd(r,o,a);case 4:return zl(o,o.stateNode.containerInfo),p=o.pendingProps,r===null?o.child=Dr(o,null,p,a):mt(r,o,p,a),o.child;case 11:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Yt(p,y),$d(r,o,p,y,a);case 7:return mt(r,o,o.pendingProps,a),o.child;case 8:return mt(r,o,o.pendingProps.children,a),o.child;case 12:return mt(r,o,o.pendingProps.children,a),o.child;case 10:e:{if(p=o.type._context,y=o.pendingProps,S=o.memoizedProps,E=y.value,Ve(Bo,p._currentValue),p._currentValue=E,S!==null)if(Wt(S.value,E)){if(S.children===y.children&&!xt.current){o=wn(r,o,a);break e}}else for(S=o.child,S!==null&&(S.return=o);S!==null;){var A=S.dependencies;if(A!==null){E=S.child;for(var P=A.firstContext;P!==null;){if(P.context===p){if(S.tag===1){P=Sn(-1,a&-a),P.tag=2;var V=S.updateQueue;if(V!==null){V=V.shared;var W=V.pending;W===null?P.next=P:(P.next=W.next,W.next=P),V.pending=P}}S.lanes|=a,P=S.alternate,P!==null&&(P.lanes|=a),Bl(S.return,a,o),A.lanes|=a;break}P=P.next}}else if(S.tag===10)E=S.type===o.type?null:S.child;else if(S.tag===18){if(E=S.return,E===null)throw Error(n(341));E.lanes|=a,A=E.alternate,A!==null&&(A.lanes|=a),Bl(E,a,o),E=S.sibling}else E=S.child;if(E!==null)E.return=S;else for(E=S;E!==null;){if(E===o){E=null;break}if(S=E.sibling,S!==null){S.return=E.return,E=S;break}E=E.return}S=E}mt(r,o,y.children,a),o=o.child}return o;case 9:return y=o.type,p=o.pendingProps.children,Ur(o,a),y=Bt(y),p=p(y),o.flags|=1,mt(r,o,p,a),o.child;case 14:return p=o.type,y=Yt(p,o.pendingProps),y=Yt(p.type,y),Jd(r,o,p,y,a);case 15:return Wd(r,o,o.type,o.pendingProps,a);case 17:return p=o.type,y=o.pendingProps,y=o.elementType===p?y:Yt(p,y),Xo(r,o),o.tag=1,St(p)?(r=!0,Do(o)):r=!1,Ur(o,a),Vd(o,p,y),ta(o,p,y,a),oa(null,o,p,!0,r,a);case 19:return tf(r,o,a);case 22:return Kd(r,o,a)}throw Error(n(156,o.tag))};function If(r,o){return ic(r,o)}function y0(r,o,a,p){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(r,o,a,p){return new y0(r,o,a,p)}function _a(r){return r=r.prototype,!(!r||!r.isReactComponent)}function v0(r){if(typeof r=="function")return _a(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ie)return 11;if(r===ee)return 14}return 2}function Jn(r,o){var a=r.alternate;return a===null?(a=zt(r.tag,o,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=o,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,o=r.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function as(r,o,a,p,y,S){var E=2;if(p=r,typeof r=="function")_a(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case $:return dr(a.children,y,S,o);case le:E=8,y|=8;break;case K:return r=zt(12,a,o,y|2),r.elementType=K,r.lanes=S,r;case ae:return r=zt(13,a,o,y),r.elementType=ae,r.lanes=S,r;case Y:return r=zt(19,a,o,y),r.elementType=Y,r.lanes=S,r;case xe:return us(a,y,S,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case re:E=10;break e;case te:E=9;break e;case ie:E=11;break e;case ee:E=14;break e;case he:E=16,p=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return o=zt(E,a,o,y),o.elementType=r,o.type=p,o.lanes=S,o}function dr(r,o,a,p){return r=zt(7,r,p,o),r.lanes=a,r}function us(r,o,a,p){return r=zt(22,r,p,o),r.elementType=xe,r.lanes=a,r.stateNode={isHidden:!1},r}function Ia(r,o,a){return r=zt(6,r,null,o),r.lanes=a,r}function ka(r,o,a){return o=zt(4,r.children!==null?r.children:[],r.key,o),o.lanes=a,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function x0(r,o,a,p,y){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=p,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function Aa(r,o,a,p,y,S,E,A,P){return r=new x0(r,o,a,A,P),o===1?(o=1,S===!0&&(o|=8)):o=0,S=zt(3,null,null,o),r.current=S,S.stateNode=r,S.memoizedState={element:p,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hl(S),r}function S0(r,o,a){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:p==null?null:""+p,children:r,containerInfo:o,implementation:a}}function kf(r){if(!r)return Fn;r=r._reactInternals;e:{if(jn(r)!==r||r.tag!==1)throw Error(n(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(St(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(St(a))return ed(r,a,o)}return o}function Af(r,o,a,p,y,S,E,A,P){return r=Aa(a,p,!0,r,y,S,E,A,P),r.context=kf(null),a=r.current,p=gt(),y=On(a),S=Sn(p,y),S.callback=o??null,Gn(a,S,y),r.current.lanes=y,ci(r,y,p),Ct(r,p),r}function cs(r,o,a,p){var y=o.current,S=gt(),E=On(y);return a=kf(a),o.context===null?o.context=a:o.pendingContext=a,o=Sn(S,E),o.payload={element:r},p=p===void 0?null:p,p!==null&&(o.callback=p),r=Gn(y,o,E),r!==null&&(Zt(r,y,E,S),Ho(r,y,E)),E}function ds(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function Nf(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<o?a:o}}function Na(r,o){Nf(r,o),(r=r.alternate)&&Nf(r,o)}function w0(){return null}var Rf=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ra(r){this._internalRoot=r}fs.prototype.render=Ra.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(n(409));cs(r,o,null,null)},fs.prototype.unmount=Ra.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;ar(function(){cs(null,r,null,null)}),o[mn]=null}};function fs(r){this._internalRoot=r}fs.prototype.unstable_scheduleHydration=function(r){if(r){var o=fc();r={blockedOn:null,target:r,priority:o};for(var a=0;a<Mn.length&&o!==0&&o<Mn[a].priority;a++);Mn.splice(a,0,r),a===0&&mc(r)}};function Pa(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ps(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Pf(){}function E0(r,o,a,p,y){if(y){if(typeof p=="function"){var S=p;p=function(){var V=ds(E);S.call(V)}}var E=Af(o,p,r,0,null,!1,!1,"",Pf);return r._reactRootContainer=E,r[mn]=E.current,Ti(r.nodeType===8?r.parentNode:r),ar(),E}for(;y=r.lastChild;)r.removeChild(y);if(typeof p=="function"){var A=p;p=function(){var V=ds(P);A.call(V)}}var P=Aa(r,0,!1,null,null,!1,!1,"",Pf);return r._reactRootContainer=P,r[mn]=P.current,Ti(r.nodeType===8?r.parentNode:r),ar(function(){cs(o,P,a,p)}),P}function hs(r,o,a,p,y){var S=a._reactRootContainer;if(S){var E=S;if(typeof y=="function"){var A=y;y=function(){var P=ds(E);A.call(P)}}cs(o,E,r,y)}else E=E0(a,o,r,y,p);return ds(E)}cc=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var a=ui(o.pendingLanes);a!==0&&(tl(o,a|1),Ct(o,We()),(Pe&6)===0&&(Gr=We()+500,Vn()))}break;case 13:ar(function(){var p=xn(r,1);if(p!==null){var y=gt();Zt(p,r,1,y)}}),Na(r,1)}},nl=function(r){if(r.tag===13){var o=xn(r,134217728);if(o!==null){var a=gt();Zt(o,r,134217728,a)}Na(r,134217728)}},dc=function(r){if(r.tag===13){var o=On(r),a=xn(r,o);if(a!==null){var p=gt();Zt(a,r,o,p)}Na(r,o)}},fc=function(){return Fe},pc=function(r,o){var a=Fe;try{return Fe=r,o()}finally{Fe=a}},Ks=function(r,o,a){switch(o){case"input":if(gr(r,a),o=a.name,a.type==="radio"&&o!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<a.length;o++){var p=a[o];if(p!==r&&p.form===r.form){var y=Po(p);if(!y)throw Error(n(90));ro(p),gr(p,y)}}}break;case"textarea":so(r,a);break;case"select":o=a.value,o!=null&&kn(r,!!a.multiple,o,!1)}},Xu=Ea,Zu=ar;var C0={usingClientEntryPoint:!1,Events:[ki,kr,Po,Yu,Qu,Ea]},Hi={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T0={bundleType:Hi.bundleType,version:Hi.version,rendererPackageName:Hi.rendererPackageName,rendererConfig:Hi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=nc(r),r===null?null:r.stateNode},findFiberByHostInstance:Hi.findFiberByHostInstance||w0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{fo=ms.inject(T0),on=ms}catch{}}return Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C0,Tt.createPortal=function(r,o){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pa(o))throw Error(n(200));return S0(r,o,null,a)},Tt.createRoot=function(r,o){if(!Pa(r))throw Error(n(299));var a=!1,p="",y=Rf;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=Aa(r,1,!1,null,null,a,!1,p,y),r[mn]=o.current,Ti(r.nodeType===8?r.parentNode:r),new Ra(o)},Tt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=nc(o),r=r===null?null:r.stateNode,r},Tt.flushSync=function(r){return ar(r)},Tt.hydrate=function(r,o,a){if(!ps(o))throw Error(n(200));return hs(null,r,o,!0,a)},Tt.hydrateRoot=function(r,o,a){if(!Pa(r))throw Error(n(405));var p=a!=null&&a.hydratedSources||null,y=!1,S="",E=Rf;if(a!=null&&(a.unstable_strictMode===!0&&(y=!0),a.identifierPrefix!==void 0&&(S=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),o=Af(o,null,r,1,a??null,y,!1,S,E),r[mn]=o.current,Ti(r),p)for(r=0;r<p.length;r++)a=p[r],y=a._getVersion,y=y(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,y]:o.mutableSourceEagerHydrationData.push(a,y);return new fs(o)},Tt.render=function(r,o,a){if(!ps(o))throw Error(n(200));return hs(null,r,o,!1,a)},Tt.unmountComponentAtNode=function(r){if(!ps(r))throw Error(n(40));return r._reactRootContainer?(ar(function(){hs(null,null,r,!1,function(){r._reactRootContainer=null,r[mn]=null})}),!0):!1},Tt.unstable_batchedUpdates=Ea,Tt.unstable_renderSubtreeIntoContainer=function(r,o,a,p){if(!ps(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return hs(r,o,a,!1,p)},Tt.version="18.3.1-next-f1338f8080-20240426",Tt}var Bf;function D0(){if(Bf)return La.exports;Bf=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),La.exports=M0(),La.exports}var Gf;function L0(){if(Gf)return gs;Gf=1;var t=D0();return gs.createRoot=t.createRoot,gs.hydrateRoot=t.hydrateRoot,gs}var U0=L0();const b0=bs(U0),be={Send:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:C.jsx("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})}),Plus:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Trash:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})}),ChatBubble:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})}),Menu:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),Sparkles:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:C.jsx("path",{fillRule:"evenodd",d:"M9 4.5a.75.75 0 01.721.544l.813 2.846a3.75 3.75 0 002.576 2.576l2.846.813a.75.75 0 010 1.442l-2.846.813a3.75 3.75 0 00-2.576 2.576l-.813 2.846a.75.75 0 01-1.442 0l-.813-2.846a3.75 3.75 0 00-2.576-2.576l-2.846-.813a.75.75 0 010-1.442l2.846-.813a3.75 3.75 0 002.576-2.576l.813-2.846A.75.75 0 019 4.5zM9 15a.75.75 0 01.75.75v1.5h1.5a.75.75 0 010 1.5h-1.5v1.5a.75.75 0 01-1.5 0v-1.5h-1.5a.75.75 0 010-1.5h1.5v-1.5A.75.75 0 019 15z",clipRule:"evenodd"})}),Globe:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S12 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S12 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})}),UserGroup:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"})}),Logout:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})}),UserCircle:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),Rocket:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.24 2.39a4.493 4.493 0 00-1.757 4.306 4.493 4.493 0 004.306-1.758M16.5 9a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"})}),Search:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})}),Check:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),XMark:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Robot:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12h1.5m12 0h1.5m-15 3.75h1.5m12 0h1.5M8.25 21v-1.5m7.5 1.5v-1.5m-9-13.5h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9a2.25 2.25 0 0 1 2.25-2.25Z"})})},F0=({currentUser:t,activeTab:e,sessions:n,currentSessionId:i,onTabChange:s,onSelectSession:l,onNewChat:u,onDeleteSession:d,onLogout:m,isOpen:h,toggleSidebar:g})=>{const v=_=>n.filter(M=>M.category===_),x=v("Semesta"),w=v("Sekolah"),N=v("Kelas"),R=v("Mapel");return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:`fixed inset-0 z-40 bg-slate-900/60 backdrop-blur-sm transition-opacity duration-300 md:hidden ${h?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:g}),C.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-80 bg-[#0b1121] text-slate-300 transform transition-transform duration-300 cubic-bezier(0.16, 1, 0.3, 1) md:translate-x-0 md:static md:inset-auto flex flex-col border-r border-slate-800 ${h?"translate-x-0":"-translate-x-full"}`,children:[C.jsxs("div",{className:"p-5 flex items-center justify-between border-b border-slate-800/50 shrink-0",children:[C.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[t.avatarUrl?C.jsx("img",{src:t.avatarUrl,alt:"Avatar",className:"w-10 h-10 rounded-xl object-cover shadow-lg shadow-indigo-500/20 bg-slate-800"}):C.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-tr from-indigo-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shrink-0 shadow-lg shadow-indigo-500/20",children:t.name.charAt(0).toUpperCase()}),C.jsxs("div",{className:"flex flex-col overflow-hidden",children:[C.jsx("span",{className:"font-bold text-slate-100 text-sm truncate",children:t.name}),C.jsx("span",{className:"text-[10px] text-indigo-400 truncate font-semibold uppercase tracking-wider",children:t.institutionId})]})]}),C.jsx("button",{onClick:m,className:"text-slate-500 hover:text-red-400 p-2 rounded-lg hover:bg-slate-800 transition-colors",title:"Keluar",children:be.Logout})]}),C.jsx("div",{className:"p-3 shrink-0",children:C.jsx("div",{className:"flex bg-slate-800/50 p-1 rounded-xl",children:[{id:"global",icon:be.Globe,label:"Global"},{id:"private",icon:be.UserGroup,label:"Chat"}].map(_=>C.jsxs("button",{onClick:()=>s(_.id),className:`flex-1 py-2 text-xs font-bold uppercase tracking-wide rounded-lg flex justify-center items-center gap-2 transition-all duration-200 ${e===_.id?"bg-indigo-600 text-white shadow-md":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:[C.jsx("span",{children:_.icon}),_.label]},_.id))})}),e==="private"&&C.jsx("div",{className:"px-3 pb-2 shrink-0",children:C.jsxs("button",{onClick:u,className:"w-full flex items-center justify-center gap-2 px-4 py-3 text-sm font-semibold text-white bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-xl transition-all group",children:[C.jsx("span",{className:"text-indigo-400 group-hover:scale-110 transition-transform",children:be.Plus})," Cari Teman"]})}),C.jsx("div",{className:"flex-1 overflow-y-auto px-3 py-2 space-y-4 custom-scrollbar",children:e==="global"?C.jsxs(C.Fragment,{children:[x.length>0&&C.jsxs("div",{className:"space-y-1",children:[C.jsx("h3",{className:"text-[10px] font-bold text-indigo-400 uppercase tracking-wider px-2 mb-1",children:"Level 1: Semesta"}),x.map(_=>C.jsxs("div",{onClick:()=>{l(_.id),window.innerWidth<768&&g()},className:`p-3 rounded-xl cursor-pointer flex items-center gap-3 transition-all ${i===_.id?"bg-gradient-to-r from-purple-900/60 to-purple-900/20 border border-purple-500/30 shadow-sm":"hover:bg-slate-800/50 border border-transparent"}`,children:[C.jsx("div",{className:"bg-purple-500/20 p-2 rounded-lg text-purple-400",children:be.Globe}),C.jsxs("div",{className:"overflow-hidden",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-200 truncate",children:_.title}),C.jsx("div",{className:"text-[10px] text-slate-500 truncate",children:_.snippet})]})]},_.id))]}),w.length>0&&C.jsxs("div",{className:"space-y-1",children:[C.jsx("h3",{className:"text-[10px] font-bold text-blue-400 uppercase tracking-wider px-2 mb-1 mt-3",children:"Level 2: Sekolah"}),w.map(_=>C.jsxs("div",{onClick:()=>{l(_.id),window.innerWidth<768&&g()},className:`p-3 rounded-xl cursor-pointer flex items-center gap-3 transition-all ${i===_.id?"bg-gradient-to-r from-blue-900/60 to-blue-900/20 border border-blue-500/30 shadow-sm":"hover:bg-slate-800/50 border border-transparent"}`,children:[C.jsx("div",{className:"bg-blue-500/20 p-2 rounded-lg text-blue-400",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:C.jsx("path",{d:"M11.25 4.533A9.707 9.707 0 006 3.75a9.753 9.753 0 00-3.25.555.75.75 0 00-.5.707v14.25a.75.75 0 001 .707A8.237 8.237 0 016 18.75c1.995 0 3.823.707 5.25 1.886V4.533zM12.75 20.636A8.214 8.214 0 0118 18.75c.966 0 1.89.166 2.75.47a.75.75 0 001-.708V4.262a.75.75 0 00-.5-.707A9.735 9.735 0 0018 3c-2.305 0-4.408.867-6 2.292m0-14.25a9.714 9.714 0 013.25-4.534m0 0a9.714 9.714 0 01-3.25 4.534"})})}),C.jsxs("div",{className:"overflow-hidden",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-200 truncate",children:_.title}),C.jsx("div",{className:"text-[10px] text-slate-500 truncate",children:_.snippet})]})]},_.id))]}),N.length>0&&C.jsxs("div",{className:"space-y-1",children:[C.jsx("h3",{className:"text-[10px] font-bold text-teal-400 uppercase tracking-wider px-2 mb-1 mt-3",children:"Level 3: Kelas"}),N.map(_=>C.jsxs("div",{onClick:()=>{l(_.id),window.innerWidth<768&&g()},className:`p-3 rounded-xl cursor-pointer flex items-center gap-3 transition-all ${i===_.id?"bg-gradient-to-r from-teal-900/60 to-teal-900/20 border border-teal-500/30 shadow-sm":"hover:bg-slate-800/50 border border-transparent"}`,children:[C.jsx("div",{className:"bg-teal-500/20 p-2 rounded-lg text-teal-400",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:C.jsx("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 011.5 18.375V5.625zM21 9.375A.375.375 0 0020.625 9h-7.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 00.375-.375v-1.5zm0 3.75a.375.375 0 00-.375-.375h-7.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h7.5a.375.375 0 00.375-.375v-1.5zm-12-5.25a.375.375 0 00-.375-.375h-4.5a.375.375 0 00-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 00.375-.375v-4.5zm0 6a.375.375 0 00-.375-.375h-4.5a.375.375 0 00-.375.375v4.5c0 .207.168.375.375.375h4.5a.375.375 0 00.375-.375v-4.5z",clipRule:"evenodd"})})}),C.jsxs("div",{className:"overflow-hidden",children:[C.jsx("div",{className:"text-sm font-semibold text-slate-200 truncate",children:_.title}),C.jsx("div",{className:"text-[10px] text-slate-500 truncate",children:_.snippet})]})]},_.id))]}),R.length>0&&C.jsxs("div",{className:"space-y-1",children:[C.jsx("h3",{className:"text-[10px] font-bold text-orange-400 uppercase tracking-wider px-2 mb-1 mt-3",children:"Level 4: Mata Pelajaran"}),R.map(_=>C.jsxs("div",{onClick:()=>{l(_.id),window.innerWidth<768&&g()},className:`p-2.5 rounded-lg cursor-pointer flex items-center gap-3 transition-all ${i===_.id?"bg-orange-900/20 text-orange-300":"text-slate-400 hover:bg-slate-800/50 hover:text-slate-200"}`,children:[C.jsx("span",{className:"text-xs",children:""}),C.jsx("div",{className:"text-sm font-medium truncate",children:_.title})]},_.id))]})]}):C.jsxs("div",{className:"space-y-1",children:[n.length===0&&C.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-slate-600 gap-2",children:[C.jsx("div",{className:"opacity-20 scale-150",children:be.UserGroup}),C.jsx("span",{className:"text-xs font-medium",children:"Belum ada chat."})]}),n.map(_=>C.jsxs("div",{onClick:()=>{l(_.id),window.innerWidth<768&&g()},className:`group relative flex items-center gap-3 px-3 py-3 text-sm transition-all duration-200 rounded-xl cursor-pointer border ${i===_.id?"bg-indigo-900/20 border-indigo-500/30":"hover:bg-slate-800/40 border-transparent text-slate-400"}`,children:[C.jsx("div",{className:"flex-shrink-0",children:_.icon?C.jsx("img",{src:_.icon,alt:"",className:"w-9 h-9 rounded-full object-cover bg-slate-800"}):C.jsx("div",{className:`w-9 h-9 flex items-center justify-center rounded-full ${i===_.id?"text-indigo-400 bg-indigo-900/30":"text-slate-500 bg-slate-800/50"}`,children:be.UserCircle})}),C.jsxs("div",{className:"flex-1 truncate pr-6",children:[C.jsx("div",{className:`font-semibold truncate ${i===_.id?"text-slate-200":"text-slate-300"}`,children:_.title}),C.jsx("div",{className:"text-xs text-slate-500 truncate opacity-80",children:_.snippet||"Mulai percakapan..."})]}),C.jsx("button",{onClick:M=>d(_.id,M),className:"absolute right-2 p-1.5 rounded-md text-slate-500 hover:text-red-400 hover:bg-red-400/10 opacity-0 group-hover:opacity-100 transition-all",title:"Hapus",children:be.Trash})]},_.id))]})}),C.jsx("div",{className:"p-3 border-t border-slate-800 shrink-0 bg-[#0b1121]",children:C.jsxs("button",{onClick:()=>s("ai"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 group ${e==="ai"?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg shadow-purple-900/20":"bg-slate-800/50 text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[C.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${e==="ai"?"bg-white/20":"bg-slate-700 group-hover:bg-slate-600"}`,children:be.Robot}),C.jsxs("div",{className:"text-left flex-1",children:[C.jsx("div",{className:"font-bold text-sm",children:"ChatQu AI"}),C.jsx("div",{className:`text-[10px] ${e==="ai"?"text-purple-100":"text-slate-500"}`,children:"Local Storage Only"})]})]})})]})]})};function V0(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const B0=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,G0=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,H0={};function Hf(t,e){return(H0.jsx?G0:B0).test(t)}const z0=/[ \t\n\f\r]/g;function q0(t){return typeof t=="object"?t.type==="text"?zf(t.value):!1:zf(t)}function zf(t){return t.replace(z0,"")===""}class to{constructor(e,n,i){this.normal=n,this.property=e,i&&(this.space=i)}}to.prototype.normal={};to.prototype.property={};to.prototype.space=void 0;function im(t,e){const n={},i={};for(const s of t)Object.assign(n,s.property),Object.assign(i,s.normal);return new to(n,i,e)}function ja(t){return t.toLowerCase()}class kt{constructor(e,n){this.attribute=n,this.property=e}}kt.prototype.attribute="";kt.prototype.booleanish=!1;kt.prototype.boolean=!1;kt.prototype.commaOrSpaceSeparated=!1;kt.prototype.commaSeparated=!1;kt.prototype.defined=!1;kt.prototype.mustUseProperty=!1;kt.prototype.number=!1;kt.prototype.overloadedBoolean=!1;kt.prototype.property="";kt.prototype.spaceSeparated=!1;kt.prototype.space=void 0;let O0=0;const _e=pr(),Ze=pr(),eu=pr(),Z=pr(),Be=pr(),Wr=pr(),Lt=pr();function pr(){return 2**++O0}const tu=Object.freeze(Object.defineProperty({__proto__:null,boolean:_e,booleanish:Ze,commaOrSpaceSeparated:Lt,commaSeparated:Wr,number:Z,overloadedBoolean:eu,spaceSeparated:Be},Symbol.toStringTag,{value:"Module"})),Fa=Object.keys(tu);class Tu extends kt{constructor(e,n,i,s){let l=-1;if(super(e,n),qf(this,"space",s),typeof i=="number")for(;++l<Fa.length;){const u=Fa[l];qf(this,Fa[l],(i&tu[u])===tu[u])}}}Tu.prototype.defined=!0;function qf(t,e,n){n&&(t[e]=n)}function Xr(t){const e={},n={};for(const[i,s]of Object.entries(t.properties)){const l=new Tu(i,t.transform(t.attributes||{},i),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(l.mustUseProperty=!0),e[i]=l,n[ja(i)]=i,n[ja(l.attribute)]=i}return new to(e,n,t.space)}const om=Xr({properties:{ariaActiveDescendant:null,ariaAtomic:Ze,ariaAutoComplete:null,ariaBusy:Ze,ariaChecked:Ze,ariaColCount:Z,ariaColIndex:Z,ariaColSpan:Z,ariaControls:Be,ariaCurrent:null,ariaDescribedBy:Be,ariaDetails:null,ariaDisabled:Ze,ariaDropEffect:Be,ariaErrorMessage:null,ariaExpanded:Ze,ariaFlowTo:Be,ariaGrabbed:Ze,ariaHasPopup:null,ariaHidden:Ze,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Be,ariaLevel:Z,ariaLive:null,ariaModal:Ze,ariaMultiLine:Ze,ariaMultiSelectable:Ze,ariaOrientation:null,ariaOwns:Be,ariaPlaceholder:null,ariaPosInSet:Z,ariaPressed:Ze,ariaReadOnly:Ze,ariaRelevant:null,ariaRequired:Ze,ariaRoleDescription:Be,ariaRowCount:Z,ariaRowIndex:Z,ariaRowSpan:Z,ariaSelected:Ze,ariaSetSize:Z,ariaSort:null,ariaValueMax:Z,ariaValueMin:Z,ariaValueNow:Z,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function sm(t,e){return e in t?t[e]:e}function lm(t,e){return sm(t,e.toLowerCase())}const $0=Xr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Wr,acceptCharset:Be,accessKey:Be,action:null,allow:null,allowFullScreen:_e,allowPaymentRequest:_e,allowUserMedia:_e,alt:null,as:null,async:_e,autoCapitalize:null,autoComplete:Be,autoFocus:_e,autoPlay:_e,blocking:Be,capture:null,charSet:null,checked:_e,cite:null,className:Be,cols:Z,colSpan:null,content:null,contentEditable:Ze,controls:_e,controlsList:Be,coords:Z|Wr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_e,defer:_e,dir:null,dirName:null,disabled:_e,download:eu,draggable:Ze,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_e,formTarget:null,headers:Be,height:Z,hidden:eu,high:Z,href:null,hrefLang:null,htmlFor:Be,httpEquiv:Be,id:null,imageSizes:null,imageSrcSet:null,inert:_e,inputMode:null,integrity:null,is:null,isMap:_e,itemId:null,itemProp:Be,itemRef:Be,itemScope:_e,itemType:Be,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_e,low:Z,manifest:null,max:null,maxLength:Z,media:null,method:null,min:null,minLength:Z,multiple:_e,muted:_e,name:null,nonce:null,noModule:_e,noValidate:_e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_e,optimum:Z,pattern:null,ping:Be,placeholder:null,playsInline:_e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_e,referrerPolicy:null,rel:Be,required:_e,reversed:_e,rows:Z,rowSpan:Z,sandbox:Be,scope:null,scoped:_e,seamless:_e,selected:_e,shadowRootClonable:_e,shadowRootDelegatesFocus:_e,shadowRootMode:null,shape:null,size:Z,sizes:null,slot:null,span:Z,spellCheck:Ze,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Z,step:null,style:null,tabIndex:Z,target:null,title:null,translate:null,type:null,typeMustMatch:_e,useMap:null,value:Ze,width:Z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Be,axis:null,background:null,bgColor:null,border:Z,borderColor:null,bottomMargin:Z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_e,declare:_e,event:null,face:null,frame:null,frameBorder:null,hSpace:Z,leftMargin:Z,link:null,longDesc:null,lowSrc:null,marginHeight:Z,marginWidth:Z,noResize:_e,noHref:_e,noShade:_e,noWrap:_e,object:null,profile:null,prompt:null,rev:null,rightMargin:Z,rules:null,scheme:null,scrolling:Ze,standby:null,summary:null,text:null,topMargin:Z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_e,disableRemotePlayback:_e,prefix:null,property:null,results:Z,security:null,unselectable:null},space:"html",transform:lm}),J0=Xr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Lt,accentHeight:Z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Z,amplitude:Z,arabicForm:null,ascent:Z,attributeName:null,attributeType:null,azimuth:Z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Z,by:null,calcMode:null,capHeight:Z,className:Be,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Z,diffuseConstant:Z,direction:null,display:null,dur:null,divisor:Z,dominantBaseline:null,download:_e,dx:null,dy:null,edgeMode:null,editable:null,elevation:Z,enableBackground:null,end:null,event:null,exponent:Z,externalResourcesRequired:null,fill:null,fillOpacity:Z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Wr,g2:Wr,glyphName:Wr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Z,horizOriginX:Z,horizOriginY:Z,id:null,ideographic:Z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Z,k:Z,k1:Z,k2:Z,k3:Z,k4:Z,kernelMatrix:Lt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Z,overlineThickness:Z,paintOrder:null,panose1:null,path:null,pathLength:Z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Be,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Z,pointsAtY:Z,pointsAtZ:Z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Lt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Lt,rev:Lt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Lt,requiredFeatures:Lt,requiredFonts:Lt,requiredFormats:Lt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Z,specularExponent:Z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Z,strikethroughThickness:Z,string:null,stroke:null,strokeDashArray:Lt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Z,strokeOpacity:Z,strokeWidth:null,style:null,surfaceScale:Z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Lt,tabIndex:Z,tableValues:null,target:null,targetX:Z,targetY:Z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Lt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Z,underlineThickness:Z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Z,values:null,vAlphabetic:Z,vMathematical:Z,vectorEffect:null,vHanging:Z,vIdeographic:Z,version:null,vertAdvY:Z,vertOriginX:Z,vertOriginY:Z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:sm}),am=Xr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),um=Xr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:lm}),cm=Xr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),W0={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},K0=/[A-Z]/g,Of=/-[a-z]/g,Y0=/^data[-\w.:]+$/i;function Q0(t,e){const n=ja(e);let i=e,s=kt;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Y0.test(e)){if(e.charAt(4)==="-"){const l=e.slice(5).replace(Of,Z0);i="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=e.slice(4);if(!Of.test(l)){let u=l.replace(K0,X0);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}s=Tu}return new s(i,e)}function X0(t){return"-"+t.toLowerCase()}function Z0(t){return t.charAt(1).toUpperCase()}const j0=im([om,$0,am,um,cm],"html"),_u=im([om,J0,am,um,cm],"svg");function ev(t){return t.join(" ").trim()}var zr={},Va,$f;function tv(){if($f)return Va;$f=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,s=/^:\s*/,l=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,d=/^\s+|\s+$/g,m=`
`,h="/",g="*",v="",x="comment",w="declaration";function N(_,M){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];M=M||{};var G=1,b=1;function O(Y){var ee=Y.match(e);ee&&(G+=ee.length);var he=Y.lastIndexOf(m);b=~he?Y.length-he:b+Y.length}function B(){var Y={line:G,column:b};return function(ee){return ee.position=new I(Y),K(),ee}}function I(Y){this.start=Y,this.end={line:G,column:b},this.source=M.source}I.prototype.content=_;function $(Y){var ee=new Error(M.source+":"+G+":"+b+": "+Y);if(ee.reason=Y,ee.filename=M.source,ee.line=G,ee.column=b,ee.source=_,!M.silent)throw ee}function le(Y){var ee=Y.exec(_);if(ee){var he=ee[0];return O(he),_=_.slice(he.length),ee}}function K(){le(n)}function re(Y){var ee;for(Y=Y||[];ee=te();)ee!==!1&&Y.push(ee);return Y}function te(){var Y=B();if(!(h!=_.charAt(0)||g!=_.charAt(1))){for(var ee=2;v!=_.charAt(ee)&&(g!=_.charAt(ee)||h!=_.charAt(ee+1));)++ee;if(ee+=2,v===_.charAt(ee-1))return $("End of comment missing");var he=_.slice(2,ee-2);return b+=2,O(he),_=_.slice(ee),b+=2,Y({type:x,comment:he})}}function ie(){var Y=B(),ee=le(i);if(ee){if(te(),!le(s))return $("property missing ':'");var he=le(l),xe=Y({type:w,property:R(ee[0].replace(t,v)),value:he?R(he[0].replace(t,v)):v});return le(u),xe}}function ae(){var Y=[];re(Y);for(var ee;ee=ie();)ee!==!1&&(Y.push(ee),re(Y));return Y}return K(),ae()}function R(_){return _?_.replace(d,v):v}return Va=N,Va}var Jf;function nv(){if(Jf)return zr;Jf=1;var t=zr&&zr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(zr,"__esModule",{value:!0}),zr.default=n;const e=t(tv());function n(i,s){let l=null;if(!i||typeof i!="string")return l;const u=(0,e.default)(i),d=typeof s=="function";return u.forEach(m=>{if(m.type!=="declaration")return;const{property:h,value:g}=m;d?s(h,g,m):g&&(l=l||{},l[h]=g)}),l}return zr}var qi={},Wf;function rv(){if(Wf)return qi;Wf=1,Object.defineProperty(qi,"__esModule",{value:!0}),qi.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,l=function(h){return!h||n.test(h)||t.test(h)},u=function(h,g){return g.toUpperCase()},d=function(h,g){return"".concat(g,"-")},m=function(h,g){return g===void 0&&(g={}),l(h)?h:(h=h.toLowerCase(),g.reactCompat?h=h.replace(s,d):h=h.replace(i,d),h.replace(e,u))};return qi.camelCase=m,qi}var Oi,Kf;function iv(){if(Kf)return Oi;Kf=1;var t=Oi&&Oi.__importDefault||function(s){return s&&s.__esModule?s:{default:s}},e=t(nv()),n=rv();function i(s,l){var u={};return!s||typeof s!="string"||(0,e.default)(s,function(d,m){d&&m&&(u[(0,n.camelCase)(d,l)]=m)}),u}return i.default=i,Oi=i,Oi}var ov=iv();const sv=bs(ov),dm=fm("end"),Iu=fm("start");function fm(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function lv(t){const e=Iu(t),n=dm(t);if(e&&n)return{start:e,end:n}}function Qi(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Yf(t.position):"start"in t||"end"in t?Yf(t):"line"in t||"column"in t?nu(t):""}function nu(t){return Qf(t&&t.line)+":"+Qf(t&&t.column)}function Yf(t){return nu(t&&t.start)+"-"+nu(t&&t.end)}function Qf(t){return t&&typeof t=="number"?t:1}class ht extends Error{constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let s="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof e=="string"?s=e:!l.cause&&e&&(u=!0,s=e.message,l.cause=e),!l.ruleId&&!l.source&&typeof i=="string"){const m=i.indexOf(":");m===-1?l.ruleId=i:(l.source=i.slice(0,m),l.ruleId=i.slice(m+1))}if(!l.place&&l.ancestors&&l.ancestors){const m=l.ancestors[l.ancestors.length-1];m&&(l.place=m.position)}const d=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=d?d.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=d?d.line:void 0,this.name=Qi(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}ht.prototype.file="";ht.prototype.name="";ht.prototype.reason="";ht.prototype.message="";ht.prototype.stack="";ht.prototype.column=void 0;ht.prototype.line=void 0;ht.prototype.ancestors=void 0;ht.prototype.cause=void 0;ht.prototype.fatal=void 0;ht.prototype.place=void 0;ht.prototype.ruleId=void 0;ht.prototype.source=void 0;const ku={}.hasOwnProperty,av=new Map,uv=/[A-Z]/g,cv=new Set(["table","tbody","thead","tfoot","tr"]),dv=new Set(["td","th"]),pm="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function fv(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=Sv(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=xv(n,e.jsx,e.jsxs)}const s={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?_u:j0,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},l=hm(s,t,void 0);return l&&typeof l!="string"?l:s.create(t,s.Fragment,{children:l||void 0},void 0)}function hm(t,e,n){if(e.type==="element")return pv(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return hv(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return gv(t,e,n);if(e.type==="mdxjsEsm")return mv(t,e);if(e.type==="root")return yv(t,e,n);if(e.type==="text")return vv(t,e)}function pv(t,e,n){const i=t.schema;let s=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(s=_u,t.schema=s),t.ancestors.push(e);const l=gm(t,e.tagName,!1),u=wv(t,e);let d=Nu(t,e);return cv.has(e.tagName)&&(d=d.filter(function(m){return typeof m=="string"?!q0(m):!0})),mm(t,u,l,e),Au(u,d),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function hv(t,e){if(e.data&&e.data.estree&&t.evaluater){const i=e.data.estree.body[0];return i.type,t.evaluater.evaluateExpression(i.expression)}ji(t,e.position)}function mv(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);ji(t,e.position)}function gv(t,e,n){const i=t.schema;let s=i;e.name==="svg"&&i.space==="html"&&(s=_u,t.schema=s),t.ancestors.push(e);const l=e.name===null?t.Fragment:gm(t,e.name,!0),u=Ev(t,e),d=Nu(t,e);return mm(t,u,l,e),Au(u,d),t.ancestors.pop(),t.schema=i,t.create(e,l,u,n)}function yv(t,e,n){const i={};return Au(i,Nu(t,e)),t.create(e,t.Fragment,i,n)}function vv(t,e){return e.value}function mm(t,e,n,i){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=i)}function Au(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function xv(t,e,n){return i;function i(s,l,u,d){const h=Array.isArray(u.children)?n:e;return d?h(l,u,d):h(l,u)}}function Sv(t,e){return n;function n(i,s,l,u){const d=Array.isArray(l.children),m=Iu(i);return e(s,l,u,d,{columnNumber:m?m.column-1:void 0,fileName:t,lineNumber:m?m.line:void 0},void 0)}}function wv(t,e){const n={};let i,s;for(s in e.properties)if(s!=="children"&&ku.call(e.properties,s)){const l=Cv(t,s,e.properties[s]);if(l){const[u,d]=l;t.tableCellAlignToStyle&&u==="align"&&typeof d=="string"&&dv.has(e.tagName)?i=d:n[u]=d}}if(i){const l=n.style||(n.style={});l[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return n}function Ev(t,e){const n={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&t.evaluater){const l=i.data.estree.body[0];l.type;const u=l.expression;u.type;const d=u.properties[0];d.type,Object.assign(n,t.evaluater.evaluateExpression(d.argument))}else ji(t,e.position);else{const s=i.name;let l;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&t.evaluater){const d=i.value.data.estree.body[0];d.type,l=t.evaluater.evaluateExpression(d.expression)}else ji(t,e.position);else l=i.value===null?!0:i.value;n[s]=l}return n}function Nu(t,e){const n=[];let i=-1;const s=t.passKeys?new Map:av;for(;++i<e.children.length;){const l=e.children[i];let u;if(t.passKeys){const m=l.type==="element"?l.tagName:l.type==="mdxJsxFlowElement"||l.type==="mdxJsxTextElement"?l.name:void 0;if(m){const h=s.get(m)||0;u=m+"-"+h,s.set(m,h+1)}}const d=hm(t,l,u);d!==void 0&&n.push(d)}return n}function Cv(t,e,n){const i=Q0(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?V0(n):ev(n)),i.property==="style"){let s=typeof n=="object"?n:Tv(t,String(n));return t.stylePropertyNameCase==="css"&&(s=_v(s)),["style",s]}return[t.elementAttributeNameCase==="react"&&i.space?W0[i.property]||i.property:i.attribute,n]}}function Tv(t,e){try{return sv(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const i=n,s=new ht("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=t.filePath||void 0,s.url=pm+"#cannot-parse-style-attribute",s}}function gm(t,e,n){let i;if(!n)i={type:"Literal",value:e};else if(e.includes(".")){const s=e.split(".");let l=-1,u;for(;++l<s.length;){const d=Hf(s[l])?{type:"Identifier",name:s[l]}:{type:"Literal",value:s[l]};u=u?{type:"MemberExpression",object:u,property:d,computed:!!(l&&d.type==="Literal"),optional:!1}:d}i=u}else i=Hf(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const s=i.value;return ku.call(t.components,s)?t.components[s]:s}if(t.evaluater)return t.evaluater.evaluateExpression(i);ji(t)}function ji(t,e){const n=new ht("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=pm+"#cannot-handle-mdx-estrees-without-createevaluater",n}function _v(t){const e={};let n;for(n in t)ku.call(t,n)&&(e[Iv(n)]=t[n]);return e}function Iv(t){let e=t.replace(uv,kv);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function kv(t){return"-"+t.toLowerCase()}const Ba={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Av={};function Nv(t,e){const n=Av,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ym(t,i,s)}function ym(t,e,n){if(Rv(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Xf(t.children,e,n)}return Array.isArray(t)?Xf(t,e,n):""}function Xf(t,e,n){const i=[];let s=-1;for(;++s<t.length;)i[s]=ym(t[s],e,n);return i.join("")}function Rv(t){return!!(t&&typeof t=="object")}const Zf=document.createElement("i");function Ru(t){const e="&"+t+";";Zf.innerHTML=e;const n=Zf.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function fn(t,e,n,i){const s=t.length;let l=0,u;if(e<0?e=-e>s?0:s+e:e=e>s?s:e,n=n>0?n:0,i.length<1e4)u=Array.from(i),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);l<i.length;)u=i.slice(l,l+1e4),u.unshift(e,0),t.splice(...u),l+=1e4,e+=1e4}function qt(t,e){return t.length>0?(fn(t,t.length,0,e),t):e}const jf={}.hasOwnProperty;function Pv(t){const e={};let n=-1;for(;++n<t.length;)Mv(e,t[n]);return e}function Mv(t,e){let n;for(n in e){const s=(jf.call(t,n)?t[n]:void 0)||(t[n]={}),l=e[n];let u;if(l)for(u in l){jf.call(s,u)||(s[u]=[]);const d=l[u];Dv(s[u],Array.isArray(d)?d:d?[d]:[])}}}function Dv(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);fn(t,0,0,i)}function vm(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Kr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const dn=Qn(/[A-Za-z]/),Ut=Qn(/[\dA-Za-z]/),Lv=Qn(/[#-'*+\--9=?A-Z^-~]/);function ru(t){return t!==null&&(t<32||t===127)}const iu=Qn(/\d/),Uv=Qn(/[\dA-Fa-f]/),bv=Qn(/[!-/:-@[-`{-~]/);function Ee(t){return t!==null&&t<-2}function It(t){return t!==null&&(t<0||t===32)}function Ue(t){return t===-2||t===-1||t===32}const Fv=Qn(new RegExp("\\p{P}|\\p{S}","u")),Vv=Qn(/\s/);function Qn(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Zr(t){const e=[];let n=-1,i=0,s=0;for(;++n<t.length;){const l=t.charCodeAt(n);let u="";if(l===37&&Ut(t.charCodeAt(n+1))&&Ut(t.charCodeAt(n+2)))s=2;else if(l<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(l))||(u=String.fromCharCode(l));else if(l>55295&&l<57344){const d=t.charCodeAt(n+1);l<56320&&d>56319&&d<57344?(u=String.fromCharCode(l,d),s=1):u=""}else u=String.fromCharCode(l);u&&(e.push(t.slice(i,n),encodeURIComponent(u)),i=n+s+1,u=""),s&&(n+=s,s=0)}return e.join("")+t.slice(i)}function Ge(t,e,n,i){const s=i?i-1:Number.POSITIVE_INFINITY;let l=0;return u;function u(m){return Ue(m)?(t.enter(n),d(m)):e(m)}function d(m){return Ue(m)&&l++<s?(t.consume(m),d):(t.exit(n),e(m))}}const Bv={tokenize:Gv};function Gv(t){const e=t.attempt(this.parser.constructs.contentInitial,i,s);let n;return e;function i(d){if(d===null){t.consume(d);return}return t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),Ge(t,e,"linePrefix")}function s(d){return t.enter("paragraph"),l(d)}function l(d){const m=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=m),n=m,u(d)}function u(d){if(d===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(d);return}return Ee(d)?(t.consume(d),t.exit("chunkText"),l):(t.consume(d),u)}}const Hv={tokenize:zv},ep={tokenize:qv};function zv(t){const e=this,n=[];let i=0,s,l,u;return d;function d(b){if(i<n.length){const O=n[i];return e.containerState=O[1],t.attempt(O[0].continuation,m,h)(b)}return h(b)}function m(b){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,s&&G();const O=e.events.length;let B=O,I;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){I=e.events[B][1].end;break}M(i);let $=O;for(;$<e.events.length;)e.events[$][1].end={...I},$++;return fn(e.events,B+1,0,e.events.slice(O)),e.events.length=$,h(b)}return d(b)}function h(b){if(i===n.length){if(!s)return x(b);if(s.currentConstruct&&s.currentConstruct.concrete)return N(b);e.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(ep,g,v)(b)}function g(b){return s&&G(),M(i),x(b)}function v(b){return e.parser.lazy[e.now().line]=i!==n.length,u=e.now().offset,N(b)}function x(b){return e.containerState={},t.attempt(ep,w,N)(b)}function w(b){return i++,n.push([e.currentConstruct,e.containerState]),x(b)}function N(b){if(b===null){s&&G(),M(0),t.consume(b);return}return s=s||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:l}),R(b)}function R(b){if(b===null){_(t.exit("chunkFlow"),!0),M(0),t.consume(b);return}return Ee(b)?(t.consume(b),_(t.exit("chunkFlow")),i=0,e.interrupt=void 0,d):(t.consume(b),R)}function _(b,O){const B=e.sliceStream(b);if(O&&B.push(null),b.previous=l,l&&(l.next=b),l=b,s.defineSkip(b.start),s.write(B),e.parser.lazy[b.start.line]){let I=s.events.length;for(;I--;)if(s.events[I][1].start.offset<u&&(!s.events[I][1].end||s.events[I][1].end.offset>u))return;const $=e.events.length;let le=$,K,re;for(;le--;)if(e.events[le][0]==="exit"&&e.events[le][1].type==="chunkFlow"){if(K){re=e.events[le][1].end;break}K=!0}for(M(i),I=$;I<e.events.length;)e.events[I][1].end={...re},I++;fn(e.events,le+1,0,e.events.slice($)),e.events.length=I}}function M(b){let O=n.length;for(;O-- >b;){const B=n[O];e.containerState=B[1],B[0].exit.call(e,t)}n.length=b}function G(){s.write([null]),l=void 0,s=void 0,e.containerState._closeFlow=void 0}}function qv(t,e,n){return Ge(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function tp(t){if(t===null||It(t)||Vv(t))return 1;if(Fv(t))return 2}function Pu(t,e,n){const i=[];let s=-1;for(;++s<t.length;){const l=t[s].resolveAll;l&&!i.includes(l)&&(e=l(e,n),i.push(l))}return e}const ou={name:"attention",resolveAll:Ov,tokenize:$v};function Ov(t,e){let n=-1,i,s,l,u,d,m,h,g;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;m=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const v={...t[i][1].end},x={...t[n][1].start};np(v,-m),np(x,m),u={type:m>1?"strongSequence":"emphasisSequence",start:v,end:{...t[i][1].end}},d={type:m>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:x},l={type:m>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},s={type:m>1?"strong":"emphasis",start:{...u.start},end:{...d.end}},t[i][1].end={...u.start},t[n][1].start={...d.end},h=[],t[i][1].end.offset-t[i][1].start.offset&&(h=qt(h,[["enter",t[i][1],e],["exit",t[i][1],e]])),h=qt(h,[["enter",s,e],["enter",u,e],["exit",u,e],["enter",l,e]]),h=qt(h,Pu(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),h=qt(h,[["exit",l,e],["enter",d,e],["exit",d,e],["exit",s,e]]),t[n][1].end.offset-t[n][1].start.offset?(g=2,h=qt(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):g=0,fn(t,i-1,n-i+3,h),n=i+h.length-g-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function $v(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,s=tp(i);let l;return u;function u(m){return l=m,t.enter("attentionSequence"),d(m)}function d(m){if(m===l)return t.consume(m),d;const h=t.exit("attentionSequence"),g=tp(m),v=!g||g===2&&s||n.includes(m),x=!s||s===2&&g||n.includes(i);return h._open=!!(l===42?v:v&&(s||!x)),h._close=!!(l===42?x:x&&(g||!v)),e(m)}}function np(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Jv={name:"autolink",tokenize:Wv};function Wv(t,e,n){let i=0;return s;function s(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),l}function l(w){return dn(w)?(t.consume(w),u):w===64?n(w):h(w)}function u(w){return w===43||w===45||w===46||Ut(w)?(i=1,d(w)):h(w)}function d(w){return w===58?(t.consume(w),i=0,m):(w===43||w===45||w===46||Ut(w))&&i++<32?(t.consume(w),d):(i=0,h(w))}function m(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||ru(w)?n(w):(t.consume(w),m)}function h(w){return w===64?(t.consume(w),g):Lv(w)?(t.consume(w),h):n(w)}function g(w){return Ut(w)?v(w):n(w)}function v(w){return w===46?(t.consume(w),i=0,g):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):x(w)}function x(w){if((w===45||Ut(w))&&i++<63){const N=w===45?x:v;return t.consume(w),N}return n(w)}}const Fs={partial:!0,tokenize:Kv};function Kv(t,e,n){return i;function i(l){return Ue(l)?Ge(t,s,"linePrefix")(l):s(l)}function s(l){return l===null||Ee(l)?e(l):n(l)}}const xm={continuation:{tokenize:Qv},exit:Xv,name:"blockQuote",tokenize:Yv};function Yv(t,e,n){const i=this;return s;function s(u){if(u===62){const d=i.containerState;return d.open||(t.enter("blockQuote",{_container:!0}),d.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),l}return n(u)}function l(u){return Ue(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function Qv(t,e,n){const i=this;return s;function s(u){return Ue(u)?Ge(t,l,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):l(u)}function l(u){return t.attempt(xm,e,n)(u)}}function Xv(t){t.exit("blockQuote")}const Sm={name:"characterEscape",tokenize:Zv};function Zv(t,e,n){return i;function i(l){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(l),t.exit("escapeMarker"),s}function s(l){return bv(l)?(t.enter("characterEscapeValue"),t.consume(l),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(l)}}const wm={name:"characterReference",tokenize:jv};function jv(t,e,n){const i=this;let s=0,l,u;return d;function d(v){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),m}function m(v){return v===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(v),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),l=31,u=Ut,g(v))}function h(v){return v===88||v===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(v),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),l=6,u=Uv,g):(t.enter("characterReferenceValue"),l=7,u=iu,g(v))}function g(v){if(v===59&&s){const x=t.exit("characterReferenceValue");return u===Ut&&!Ru(i.sliceSerialize(x))?n(v):(t.enter("characterReferenceMarker"),t.consume(v),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(v)&&s++<l?(t.consume(v),g):n(v)}}const rp={partial:!0,tokenize:tx},ip={concrete:!0,name:"codeFenced",tokenize:ex};function ex(t,e,n){const i=this,s={partial:!0,tokenize:B};let l=0,u=0,d;return m;function m(I){return h(I)}function h(I){const $=i.events[i.events.length-1];return l=$&&$[1].type==="linePrefix"?$[2].sliceSerialize($[1],!0).length:0,d=I,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),g(I)}function g(I){return I===d?(u++,t.consume(I),g):u<3?n(I):(t.exit("codeFencedFenceSequence"),Ue(I)?Ge(t,v,"whitespace")(I):v(I))}function v(I){return I===null||Ee(I)?(t.exit("codeFencedFence"),i.interrupt?e(I):t.check(rp,R,O)(I)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),x(I))}function x(I){return I===null||Ee(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),v(I)):Ue(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Ge(t,w,"whitespace")(I)):I===96&&I===d?n(I):(t.consume(I),x)}function w(I){return I===null||Ee(I)?v(I):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),N(I))}function N(I){return I===null||Ee(I)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),v(I)):I===96&&I===d?n(I):(t.consume(I),N)}function R(I){return t.attempt(s,O,_)(I)}function _(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),M}function M(I){return l>0&&Ue(I)?Ge(t,G,"linePrefix",l+1)(I):G(I)}function G(I){return I===null||Ee(I)?t.check(rp,R,O)(I):(t.enter("codeFlowValue"),b(I))}function b(I){return I===null||Ee(I)?(t.exit("codeFlowValue"),G(I)):(t.consume(I),b)}function O(I){return t.exit("codeFenced"),e(I)}function B(I,$,le){let K=0;return re;function re(ee){return I.enter("lineEnding"),I.consume(ee),I.exit("lineEnding"),te}function te(ee){return I.enter("codeFencedFence"),Ue(ee)?Ge(I,ie,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ee):ie(ee)}function ie(ee){return ee===d?(I.enter("codeFencedFenceSequence"),ae(ee)):le(ee)}function ae(ee){return ee===d?(K++,I.consume(ee),ae):K>=u?(I.exit("codeFencedFenceSequence"),Ue(ee)?Ge(I,Y,"whitespace")(ee):Y(ee)):le(ee)}function Y(ee){return ee===null||Ee(ee)?(I.exit("codeFencedFence"),$(ee)):le(ee)}}}function tx(t,e,n){const i=this;return s;function s(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}const Ga={name:"codeIndented",tokenize:rx},nx={partial:!0,tokenize:ix};function rx(t,e,n){const i=this;return s;function s(h){return t.enter("codeIndented"),Ge(t,l,"linePrefix",5)(h)}function l(h){const g=i.events[i.events.length-1];return g&&g[1].type==="linePrefix"&&g[2].sliceSerialize(g[1],!0).length>=4?u(h):n(h)}function u(h){return h===null?m(h):Ee(h)?t.attempt(nx,u,m)(h):(t.enter("codeFlowValue"),d(h))}function d(h){return h===null||Ee(h)?(t.exit("codeFlowValue"),u(h)):(t.consume(h),d)}function m(h){return t.exit("codeIndented"),e(h)}}function ix(t,e,n){const i=this;return s;function s(u){return i.parser.lazy[i.now().line]?n(u):Ee(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),s):Ge(t,l,"linePrefix",5)(u)}function l(u){const d=i.events[i.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(u):Ee(u)?s(u):n(u)}}const ox={name:"codeText",previous:lx,resolve:sx,tokenize:ax};function sx(t){let e=t.length-4,n=3,i,s;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)s===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(s=i):(i===e||t[i][1].type==="lineEnding")&&(t[s][1].type="codeTextData",i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),e-=i-s-2,i=s+2),s=void 0);return t}function lx(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function ax(t,e,n){let i=0,s,l;return u;function u(v){return t.enter("codeText"),t.enter("codeTextSequence"),d(v)}function d(v){return v===96?(t.consume(v),i++,d):(t.exit("codeTextSequence"),m(v))}function m(v){return v===null?n(v):v===32?(t.enter("space"),t.consume(v),t.exit("space"),m):v===96?(l=t.enter("codeTextSequence"),s=0,g(v)):Ee(v)?(t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),m):(t.enter("codeTextData"),h(v))}function h(v){return v===null||v===32||v===96||Ee(v)?(t.exit("codeTextData"),m(v)):(t.consume(v),h)}function g(v){return v===96?(t.consume(v),s++,g):s===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(v)):(l.type="codeTextData",h(v))}}class ux{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){const s=n||0;this.setCursor(Math.trunc(e));const l=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return i&&$i(this.left,i),l.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),$i(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),$i(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);$i(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);$i(this.left,n.reverse())}}}function $i(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Em(t){const e={};let n=-1,i,s,l,u,d,m,h;const g=new ux(t);for(;++n<g.length;){for(;n in e;)n=e[n];if(i=g.get(n),n&&i[1].type==="chunkFlow"&&g.get(n-1)[1].type==="listItemPrefix"&&(m=i[1]._tokenizer.events,l=0,l<m.length&&m[l][1].type==="lineEndingBlank"&&(l+=2),l<m.length&&m[l][1].type==="content"))for(;++l<m.length&&m[l][1].type!=="content";)m[l][1].type==="chunkText"&&(m[l][1]._isInFirstContentOfListItem=!0,l++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,cx(g,n)),n=e[n],h=!0);else if(i[1]._container){for(l=n,s=void 0;l--;)if(u=g.get(l),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(s&&(g.get(s)[1].type="lineEndingBlank"),u[1].type="lineEnding",s=l);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;s&&(i[1].end={...g.get(s)[1].start},d=g.slice(s,n),d.unshift(i),g.splice(s,n-s+1,d))}}return fn(t,0,Number.POSITIVE_INFINITY,g.slice(0)),!h}function cx(t,e){const n=t.get(e)[1],i=t.get(e)[2];let s=e-1;const l=[];let u=n._tokenizer;u||(u=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const d=u.events,m=[],h={};let g,v,x=-1,w=n,N=0,R=0;const _=[R];for(;w;){for(;t.get(++s)[1]!==w;);l.push(s),w._tokenizer||(g=i.sliceStream(w),w.next||g.push(null),v&&u.defineSkip(w.start),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(g),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),v=w,w=w.next}for(w=n;++x<d.length;)d[x][0]==="exit"&&d[x-1][0]==="enter"&&d[x][1].type===d[x-1][1].type&&d[x][1].start.line!==d[x][1].end.line&&(R=x+1,_.push(R),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(u.events=[],w?(w._tokenizer=void 0,w.previous=void 0):_.pop(),x=_.length;x--;){const M=d.slice(_[x],_[x+1]),G=l.pop();m.push([G,G+M.length-1]),t.splice(G,2,M)}for(m.reverse(),x=-1;++x<m.length;)h[N+m[x][0]]=N+m[x][1],N+=m[x][1]-m[x][0]-1;return h}const dx={resolve:px,tokenize:hx},fx={partial:!0,tokenize:mx};function px(t){return Em(t),t}function hx(t,e){let n;return i;function i(d){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),s(d)}function s(d){return d===null?l(d):Ee(d)?t.check(fx,u,l)(d):(t.consume(d),s)}function l(d){return t.exit("chunkContent"),t.exit("content"),e(d)}function u(d){return t.consume(d),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function mx(t,e,n){const i=this;return s;function s(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),Ge(t,l,"linePrefix")}function l(u){if(u===null||Ee(u))return n(u);const d=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?e(u):t.interrupt(i.parser.constructs.flow,n,e)(u)}}function Cm(t,e,n,i,s,l,u,d,m){const h=m||Number.POSITIVE_INFINITY;let g=0;return v;function v(M){return M===60?(t.enter(i),t.enter(s),t.enter(l),t.consume(M),t.exit(l),x):M===null||M===32||M===41||ru(M)?n(M):(t.enter(i),t.enter(u),t.enter(d),t.enter("chunkString",{contentType:"string"}),R(M))}function x(M){return M===62?(t.enter(l),t.consume(M),t.exit(l),t.exit(s),t.exit(i),e):(t.enter(d),t.enter("chunkString",{contentType:"string"}),w(M))}function w(M){return M===62?(t.exit("chunkString"),t.exit(d),x(M)):M===null||M===60||Ee(M)?n(M):(t.consume(M),M===92?N:w)}function N(M){return M===60||M===62||M===92?(t.consume(M),w):w(M)}function R(M){return!g&&(M===null||M===41||It(M))?(t.exit("chunkString"),t.exit(d),t.exit(u),t.exit(i),e(M)):g<h&&M===40?(t.consume(M),g++,R):M===41?(t.consume(M),g--,R):M===null||M===32||M===40||ru(M)?n(M):(t.consume(M),M===92?_:R)}function _(M){return M===40||M===41||M===92?(t.consume(M),R):R(M)}}function Tm(t,e,n,i,s,l){const u=this;let d=0,m;return h;function h(w){return t.enter(i),t.enter(s),t.consume(w),t.exit(s),t.enter(l),g}function g(w){return d>999||w===null||w===91||w===93&&!m||w===94&&!d&&"_hiddenFootnoteSupport"in u.parser.constructs?n(w):w===93?(t.exit(l),t.enter(s),t.consume(w),t.exit(s),t.exit(i),e):Ee(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),g):(t.enter("chunkString",{contentType:"string"}),v(w))}function v(w){return w===null||w===91||w===93||Ee(w)||d++>999?(t.exit("chunkString"),g(w)):(t.consume(w),m||(m=!Ue(w)),w===92?x:v)}function x(w){return w===91||w===92||w===93?(t.consume(w),d++,v):v(w)}}function _m(t,e,n,i,s,l){let u;return d;function d(x){return x===34||x===39||x===40?(t.enter(i),t.enter(s),t.consume(x),t.exit(s),u=x===40?41:x,m):n(x)}function m(x){return x===u?(t.enter(s),t.consume(x),t.exit(s),t.exit(i),e):(t.enter(l),h(x))}function h(x){return x===u?(t.exit(l),m(u)):x===null?n(x):Ee(x)?(t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),Ge(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===u||x===null||Ee(x)?(t.exit("chunkString"),h(x)):(t.consume(x),x===92?v:g)}function v(x){return x===u||x===92?(t.consume(x),g):g(x)}}function Xi(t,e){let n;return i;function i(s){return Ee(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),n=!0,i):Ue(s)?Ge(t,i,n?"linePrefix":"lineSuffix")(s):e(s)}}const gx={name:"definition",tokenize:vx},yx={partial:!0,tokenize:xx};function vx(t,e,n){const i=this;let s;return l;function l(w){return t.enter("definition"),u(w)}function u(w){return Tm.call(i,t,d,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function d(w){return s=Kr(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),m):n(w)}function m(w){return It(w)?Xi(t,h)(w):h(w)}function h(w){return Cm(t,g,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function g(w){return t.attempt(yx,v,v)(w)}function v(w){return Ue(w)?Ge(t,x,"whitespace")(w):x(w)}function x(w){return w===null||Ee(w)?(t.exit("definition"),i.parser.defined.push(s),e(w)):n(w)}}function xx(t,e,n){return i;function i(d){return It(d)?Xi(t,s)(d):n(d)}function s(d){return _m(t,l,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(d)}function l(d){return Ue(d)?Ge(t,u,"whitespace")(d):u(d)}function u(d){return d===null||Ee(d)?e(d):n(d)}}const Sx={name:"hardBreakEscape",tokenize:wx};function wx(t,e,n){return i;function i(l){return t.enter("hardBreakEscape"),t.consume(l),s}function s(l){return Ee(l)?(t.exit("hardBreakEscape"),e(l)):n(l)}}const Ex={name:"headingAtx",resolve:Cx,tokenize:Tx};function Cx(t,e){let n=t.length-2,i=3,s,l;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(s={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},l={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},fn(t,i,n-i+1,[["enter",s,e],["enter",l,e],["exit",l,e],["exit",s,e]])),t}function Tx(t,e,n){let i=0;return s;function s(g){return t.enter("atxHeading"),l(g)}function l(g){return t.enter("atxHeadingSequence"),u(g)}function u(g){return g===35&&i++<6?(t.consume(g),u):g===null||It(g)?(t.exit("atxHeadingSequence"),d(g)):n(g)}function d(g){return g===35?(t.enter("atxHeadingSequence"),m(g)):g===null||Ee(g)?(t.exit("atxHeading"),e(g)):Ue(g)?Ge(t,d,"whitespace")(g):(t.enter("atxHeadingText"),h(g))}function m(g){return g===35?(t.consume(g),m):(t.exit("atxHeadingSequence"),d(g))}function h(g){return g===null||g===35||It(g)?(t.exit("atxHeadingText"),d(g)):(t.consume(g),h)}}const _x=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],op=["pre","script","style","textarea"],Ix={concrete:!0,name:"htmlFlow",resolveTo:Nx,tokenize:Rx},kx={partial:!0,tokenize:Mx},Ax={partial:!0,tokenize:Px};function Nx(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Rx(t,e,n){const i=this;let s,l,u,d,m;return h;function h(k){return g(k)}function g(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),v}function v(k){return k===33?(t.consume(k),x):k===47?(t.consume(k),l=!0,R):k===63?(t.consume(k),s=3,i.interrupt?e:T):dn(k)?(t.consume(k),u=String.fromCharCode(k),_):n(k)}function x(k){return k===45?(t.consume(k),s=2,w):k===91?(t.consume(k),s=5,d=0,N):dn(k)?(t.consume(k),s=4,i.interrupt?e:T):n(k)}function w(k){return k===45?(t.consume(k),i.interrupt?e:T):n(k)}function N(k){const pe="CDATA[";return k===pe.charCodeAt(d++)?(t.consume(k),d===pe.length?i.interrupt?e:ie:N):n(k)}function R(k){return dn(k)?(t.consume(k),u=String.fromCharCode(k),_):n(k)}function _(k){if(k===null||k===47||k===62||It(k)){const pe=k===47,Ce=u.toLowerCase();return!pe&&!l&&op.includes(Ce)?(s=1,i.interrupt?e(k):ie(k)):_x.includes(u.toLowerCase())?(s=6,pe?(t.consume(k),M):i.interrupt?e(k):ie(k)):(s=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(k):l?G(k):b(k))}return k===45||Ut(k)?(t.consume(k),u+=String.fromCharCode(k),_):n(k)}function M(k){return k===62?(t.consume(k),i.interrupt?e:ie):n(k)}function G(k){return Ue(k)?(t.consume(k),G):re(k)}function b(k){return k===47?(t.consume(k),re):k===58||k===95||dn(k)?(t.consume(k),O):Ue(k)?(t.consume(k),b):re(k)}function O(k){return k===45||k===46||k===58||k===95||Ut(k)?(t.consume(k),O):B(k)}function B(k){return k===61?(t.consume(k),I):Ue(k)?(t.consume(k),B):b(k)}function I(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),m=k,$):Ue(k)?(t.consume(k),I):le(k)}function $(k){return k===m?(t.consume(k),m=null,K):k===null||Ee(k)?n(k):(t.consume(k),$)}function le(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||It(k)?B(k):(t.consume(k),le)}function K(k){return k===47||k===62||Ue(k)?b(k):n(k)}function re(k){return k===62?(t.consume(k),te):n(k)}function te(k){return k===null||Ee(k)?ie(k):Ue(k)?(t.consume(k),te):n(k)}function ie(k){return k===45&&s===2?(t.consume(k),he):k===60&&s===1?(t.consume(k),xe):k===62&&s===4?(t.consume(k),D):k===63&&s===3?(t.consume(k),T):k===93&&s===5?(t.consume(k),X):Ee(k)&&(s===6||s===7)?(t.exit("htmlFlowData"),t.check(kx,q,ae)(k)):k===null||Ee(k)?(t.exit("htmlFlowData"),ae(k)):(t.consume(k),ie)}function ae(k){return t.check(Ax,Y,q)(k)}function Y(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),ee}function ee(k){return k===null||Ee(k)?ae(k):(t.enter("htmlFlowData"),ie(k))}function he(k){return k===45?(t.consume(k),T):ie(k)}function xe(k){return k===47?(t.consume(k),u="",H):ie(k)}function H(k){if(k===62){const pe=u.toLowerCase();return op.includes(pe)?(t.consume(k),D):ie(k)}return dn(k)&&u.length<8?(t.consume(k),u+=String.fromCharCode(k),H):ie(k)}function X(k){return k===93?(t.consume(k),T):ie(k)}function T(k){return k===62?(t.consume(k),D):k===45&&s===2?(t.consume(k),T):ie(k)}function D(k){return k===null||Ee(k)?(t.exit("htmlFlowData"),q(k)):(t.consume(k),D)}function q(k){return t.exit("htmlFlow"),e(k)}}function Px(t,e,n){const i=this;return s;function s(u){return Ee(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):n(u)}function l(u){return i.parser.lazy[i.now().line]?n(u):e(u)}}function Mx(t,e,n){return i;function i(s){return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),t.attempt(Fs,e,n)}}const Dx={name:"htmlText",tokenize:Lx};function Lx(t,e,n){const i=this;let s,l,u;return d;function d(T){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(T),m}function m(T){return T===33?(t.consume(T),h):T===47?(t.consume(T),B):T===63?(t.consume(T),b):dn(T)?(t.consume(T),le):n(T)}function h(T){return T===45?(t.consume(T),g):T===91?(t.consume(T),l=0,N):dn(T)?(t.consume(T),G):n(T)}function g(T){return T===45?(t.consume(T),w):n(T)}function v(T){return T===null?n(T):T===45?(t.consume(T),x):Ee(T)?(u=v,xe(T)):(t.consume(T),v)}function x(T){return T===45?(t.consume(T),w):v(T)}function w(T){return T===62?he(T):T===45?x(T):v(T)}function N(T){const D="CDATA[";return T===D.charCodeAt(l++)?(t.consume(T),l===D.length?R:N):n(T)}function R(T){return T===null?n(T):T===93?(t.consume(T),_):Ee(T)?(u=R,xe(T)):(t.consume(T),R)}function _(T){return T===93?(t.consume(T),M):R(T)}function M(T){return T===62?he(T):T===93?(t.consume(T),M):R(T)}function G(T){return T===null||T===62?he(T):Ee(T)?(u=G,xe(T)):(t.consume(T),G)}function b(T){return T===null?n(T):T===63?(t.consume(T),O):Ee(T)?(u=b,xe(T)):(t.consume(T),b)}function O(T){return T===62?he(T):b(T)}function B(T){return dn(T)?(t.consume(T),I):n(T)}function I(T){return T===45||Ut(T)?(t.consume(T),I):$(T)}function $(T){return Ee(T)?(u=$,xe(T)):Ue(T)?(t.consume(T),$):he(T)}function le(T){return T===45||Ut(T)?(t.consume(T),le):T===47||T===62||It(T)?K(T):n(T)}function K(T){return T===47?(t.consume(T),he):T===58||T===95||dn(T)?(t.consume(T),re):Ee(T)?(u=K,xe(T)):Ue(T)?(t.consume(T),K):he(T)}function re(T){return T===45||T===46||T===58||T===95||Ut(T)?(t.consume(T),re):te(T)}function te(T){return T===61?(t.consume(T),ie):Ee(T)?(u=te,xe(T)):Ue(T)?(t.consume(T),te):K(T)}function ie(T){return T===null||T===60||T===61||T===62||T===96?n(T):T===34||T===39?(t.consume(T),s=T,ae):Ee(T)?(u=ie,xe(T)):Ue(T)?(t.consume(T),ie):(t.consume(T),Y)}function ae(T){return T===s?(t.consume(T),s=void 0,ee):T===null?n(T):Ee(T)?(u=ae,xe(T)):(t.consume(T),ae)}function Y(T){return T===null||T===34||T===39||T===60||T===61||T===96?n(T):T===47||T===62||It(T)?K(T):(t.consume(T),Y)}function ee(T){return T===47||T===62||It(T)?K(T):n(T)}function he(T){return T===62?(t.consume(T),t.exit("htmlTextData"),t.exit("htmlText"),e):n(T)}function xe(T){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),H}function H(T){return Ue(T)?Ge(t,X,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):X(T)}function X(T){return t.enter("htmlTextData"),u(T)}}const Mu={name:"labelEnd",resolveAll:Vx,resolveTo:Bx,tokenize:Gx},Ux={tokenize:Hx},bx={tokenize:zx},Fx={tokenize:qx};function Vx(t){let e=-1;const n=[];for(;++e<t.length;){const i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const s=i.type==="labelImage"?4:2;i.type="data",e+=s}}return t.length!==n.length&&fn(t,0,t.length,n),t}function Bx(t,e){let n=t.length,i=0,s,l,u,d;for(;n--;)if(s=t[n][1],l){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;t[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(l=n,s.type!=="labelLink")){i=2;break}}else s.type==="labelEnd"&&(u=n);const m={type:t[l][1].type==="labelLink"?"link":"image",start:{...t[l][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[l][1].start},end:{...t[u][1].end}},g={type:"labelText",start:{...t[l+i+2][1].end},end:{...t[u-2][1].start}};return d=[["enter",m,e],["enter",h,e]],d=qt(d,t.slice(l+1,l+i+3)),d=qt(d,[["enter",g,e]]),d=qt(d,Pu(e.parser.constructs.insideSpan.null,t.slice(l+i+4,u-3),e)),d=qt(d,[["exit",g,e],t[u-2],t[u-1],["exit",h,e]]),d=qt(d,t.slice(u+1)),d=qt(d,[["exit",m,e]]),fn(t,l,t.length,d),t}function Gx(t,e,n){const i=this;let s=i.events.length,l,u;for(;s--;)if((i.events[s][1].type==="labelImage"||i.events[s][1].type==="labelLink")&&!i.events[s][1]._balanced){l=i.events[s][1];break}return d;function d(x){return l?l._inactive?v(x):(u=i.parser.defined.includes(Kr(i.sliceSerialize({start:l.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(x),t.exit("labelMarker"),t.exit("labelEnd"),m):n(x)}function m(x){return x===40?t.attempt(Ux,g,u?g:v)(x):x===91?t.attempt(bx,g,u?h:v)(x):u?g(x):v(x)}function h(x){return t.attempt(Fx,g,v)(x)}function g(x){return e(x)}function v(x){return l._balanced=!0,n(x)}}function Hx(t,e,n){return i;function i(v){return t.enter("resource"),t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),s}function s(v){return It(v)?Xi(t,l)(v):l(v)}function l(v){return v===41?g(v):Cm(t,u,d,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(v)}function u(v){return It(v)?Xi(t,m)(v):g(v)}function d(v){return n(v)}function m(v){return v===34||v===39||v===40?_m(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(v):g(v)}function h(v){return It(v)?Xi(t,g)(v):g(v)}function g(v){return v===41?(t.enter("resourceMarker"),t.consume(v),t.exit("resourceMarker"),t.exit("resource"),e):n(v)}}function zx(t,e,n){const i=this;return s;function s(d){return Tm.call(i,t,l,u,"reference","referenceMarker","referenceString")(d)}function l(d){return i.parser.defined.includes(Kr(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(d):n(d)}function u(d){return n(d)}}function qx(t,e,n){return i;function i(l){return t.enter("reference"),t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),s}function s(l){return l===93?(t.enter("referenceMarker"),t.consume(l),t.exit("referenceMarker"),t.exit("reference"),e):n(l)}}const Ox={name:"labelStartImage",resolveAll:Mu.resolveAll,tokenize:$x};function $x(t,e,n){const i=this;return s;function s(d){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(d),t.exit("labelImageMarker"),l}function l(d){return d===91?(t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelImage"),u):n(d)}function u(d){return d===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(d):e(d)}}const Jx={name:"labelStartLink",resolveAll:Mu.resolveAll,tokenize:Wx};function Wx(t,e,n){const i=this;return s;function s(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),l}function l(u){return u===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(u):e(u)}}const Ha={name:"lineEnding",tokenize:Kx};function Kx(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),Ge(t,e,"linePrefix")}}const _s={name:"thematicBreak",tokenize:Yx};function Yx(t,e,n){let i=0,s;return l;function l(h){return t.enter("thematicBreak"),u(h)}function u(h){return s=h,d(h)}function d(h){return h===s?(t.enter("thematicBreakSequence"),m(h)):i>=3&&(h===null||Ee(h))?(t.exit("thematicBreak"),e(h)):n(h)}function m(h){return h===s?(t.consume(h),i++,m):(t.exit("thematicBreakSequence"),Ue(h)?Ge(t,d,"whitespace")(h):d(h))}}const _t={continuation:{tokenize:jx},exit:tS,name:"list",tokenize:Zx},Qx={partial:!0,tokenize:nS},Xx={partial:!0,tokenize:eS};function Zx(t,e,n){const i=this,s=i.events[i.events.length-1];let l=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,u=0;return d;function d(w){const N=i.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(N==="listUnordered"?!i.containerState.marker||w===i.containerState.marker:iu(w)){if(i.containerState.type||(i.containerState.type=N,t.enter(N,{_container:!0})),N==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(_s,n,h)(w):h(w);if(!i.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),m(w)}return n(w)}function m(w){return iu(w)&&++u<10?(t.consume(w),m):(!i.interrupt||u<2)&&(i.containerState.marker?w===i.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),h(w)):n(w)}function h(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||w,t.check(Fs,i.interrupt?n:g,t.attempt(Qx,x,v))}function g(w){return i.containerState.initialBlankLine=!0,l++,x(w)}function v(w){return Ue(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),x):n(w)}function x(w){return i.containerState.size=l+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function jx(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(Fs,s,l);function s(d){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ge(t,e,"listItemIndent",i.containerState.size+1)(d)}function l(d){return i.containerState.furtherBlankLines||!Ue(d)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,u(d)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(Xx,e,u)(d))}function u(d){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ge(t,t.attempt(_t,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(d)}}function eS(t,e,n){const i=this;return Ge(t,s,"listItemIndent",i.containerState.size+1);function s(l){const u=i.events[i.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===i.containerState.size?e(l):n(l)}}function tS(t){t.exit(this.containerState.type)}function nS(t,e,n){const i=this;return Ge(t,s,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(l){const u=i.events[i.events.length-1];return!Ue(l)&&u&&u[1].type==="listItemPrefixWhitespace"?e(l):n(l)}}const sp={name:"setextUnderline",resolveTo:rS,tokenize:iS};function rS(t,e){let n=t.length,i,s,l;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(s=n)}else t[n][1].type==="content"&&t.splice(n,1),!l&&t[n][1].type==="definition"&&(l=n);const u={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[s][1].type="setextHeadingText",l?(t.splice(s,0,["enter",u,e]),t.splice(l+1,0,["exit",t[i][1],e]),t[i][1].end={...t[l][1].end}):t[i][1]=u,t.push(["exit",u,e]),t}function iS(t,e,n){const i=this;let s;return l;function l(h){let g=i.events.length,v;for(;g--;)if(i.events[g][1].type!=="lineEnding"&&i.events[g][1].type!=="linePrefix"&&i.events[g][1].type!=="content"){v=i.events[g][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||v)?(t.enter("setextHeadingLine"),s=h,u(h)):n(h)}function u(h){return t.enter("setextHeadingLineSequence"),d(h)}function d(h){return h===s?(t.consume(h),d):(t.exit("setextHeadingLineSequence"),Ue(h)?Ge(t,m,"lineSuffix")(h):m(h))}function m(h){return h===null||Ee(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const oS={tokenize:sS};function sS(t){const e=this,n=t.attempt(Fs,i,t.attempt(this.parser.constructs.flowInitial,s,Ge(t,t.attempt(this.parser.constructs.flow,s,t.attempt(dx,s)),"linePrefix")));return n;function i(l){if(l===null){t.consume(l);return}return t.enter("lineEndingBlank"),t.consume(l),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function s(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const lS={resolveAll:km()},aS=Im("string"),uS=Im("text");function Im(t){return{resolveAll:km(t==="text"?cS:void 0),tokenize:e};function e(n){const i=this,s=this.parser.constructs[t],l=n.attempt(s,u,d);return u;function u(g){return h(g)?l(g):d(g)}function d(g){if(g===null){n.consume(g);return}return n.enter("data"),n.consume(g),m}function m(g){return h(g)?(n.exit("data"),l(g)):(n.consume(g),m)}function h(g){if(g===null)return!0;const v=s[g];let x=-1;if(v)for(;++x<v.length;){const w=v[x];if(!w.previous||w.previous.call(i,i.previous))return!0}return!1}}}function km(t){return e;function e(n,i){let s=-1,l;for(;++s<=n.length;)l===void 0?n[s]&&n[s][1].type==="data"&&(l=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==l+2&&(n[l][1].end=n[s-1][1].end,n.splice(l+2,s-l-2),s=l+2),l=void 0);return t?t(n,i):n}}function cS(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],s=e.sliceStream(i);let l=s.length,u=-1,d=0,m;for(;l--;){const h=s[l];if(typeof h=="string"){for(u=h.length;h.charCodeAt(u-1)===32;)d++,u--;if(u)break;u=-1}else if(h===-2)m=!0,d++;else if(h!==-1){l++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(d=0),d){const h={type:n===t.length||m||d<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:l?u:i.start._bufferIndex+u,_index:i.start._index+l,line:i.end.line,column:i.end.column-d,offset:i.end.offset-d},end:{...i.end}};i.end={...h.start},i.start.offset===i.end.offset?Object.assign(i,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const dS={42:_t,43:_t,45:_t,48:_t,49:_t,50:_t,51:_t,52:_t,53:_t,54:_t,55:_t,56:_t,57:_t,62:xm},fS={91:gx},pS={[-2]:Ga,[-1]:Ga,32:Ga},hS={35:Ex,42:_s,45:[sp,_s],60:Ix,61:sp,95:_s,96:ip,126:ip},mS={38:wm,92:Sm},gS={[-5]:Ha,[-4]:Ha,[-3]:Ha,33:Ox,38:wm,42:ou,60:[Jv,Dx],91:Jx,92:[Sx,Sm],93:Mu,95:ou,96:ox},yS={null:[ou,lS]},vS={null:[42,95]},xS={null:[]},SS=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:vS,contentInitial:fS,disable:xS,document:dS,flow:hS,flowInitial:pS,insideSpan:yS,string:mS,text:gS},Symbol.toStringTag,{value:"Module"}));function wS(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},l=[];let u=[],d=[];const m={attempt:$(B),check:$(I),consume:G,enter:b,exit:O,interrupt:$(I,{interrupt:!0})},h={code:null,containerState:{},defineSkip:R,events:[],now:N,parser:t,previous:null,sliceSerialize:x,sliceStream:w,write:v};let g=e.tokenize.call(h,m);return e.resolveAll&&l.push(e),h;function v(te){return u=qt(u,te),_(),u[u.length-1]!==null?[]:(le(e,0),h.events=Pu(l,h.events,h),h.events)}function x(te,ie){return CS(w(te),ie)}function w(te){return ES(u,te)}function N(){const{_bufferIndex:te,_index:ie,line:ae,column:Y,offset:ee}=i;return{_bufferIndex:te,_index:ie,line:ae,column:Y,offset:ee}}function R(te){s[te.line]=te.column,re()}function _(){let te;for(;i._index<u.length;){const ie=u[i._index];if(typeof ie=="string")for(te=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===te&&i._bufferIndex<ie.length;)M(ie.charCodeAt(i._bufferIndex));else M(ie)}}function M(te){g=g(te)}function G(te){Ee(te)?(i.line++,i.column=1,i.offset+=te===-3?2:1,re()):te!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===u[i._index].length&&(i._bufferIndex=-1,i._index++)),h.previous=te}function b(te,ie){const ae=ie||{};return ae.type=te,ae.start=N(),h.events.push(["enter",ae,h]),d.push(ae),ae}function O(te){const ie=d.pop();return ie.end=N(),h.events.push(["exit",ie,h]),ie}function B(te,ie){le(te,ie.from)}function I(te,ie){ie.restore()}function $(te,ie){return ae;function ae(Y,ee,he){let xe,H,X,T;return Array.isArray(Y)?q(Y):"tokenize"in Y?q([Y]):D(Y);function D(me){return Ne;function Ne(Ie){const Le=Ie!==null&&me[Ie],Qe=Ie!==null&&me.null,pn=[...Array.isArray(Le)?Le:Le?[Le]:[],...Array.isArray(Qe)?Qe:Qe?[Qe]:[]];return q(pn)(Ie)}}function q(me){return xe=me,H=0,me.length===0?he:k(me[H])}function k(me){return Ne;function Ne(Ie){return T=K(),X=me,me.partial||(h.currentConstruct=me),me.name&&h.parser.constructs.disable.null.includes(me.name)?Ce():me.tokenize.call(ie?Object.assign(Object.create(h),ie):h,m,pe,Ce)(Ie)}}function pe(me){return te(X,T),ee}function Ce(me){return T.restore(),++H<xe.length?k(xe[H]):he}}}function le(te,ie){te.resolveAll&&!l.includes(te)&&l.push(te),te.resolve&&fn(h.events,ie,h.events.length-ie,te.resolve(h.events.slice(ie),h)),te.resolveTo&&(h.events=te.resolveTo(h.events,h))}function K(){const te=N(),ie=h.previous,ae=h.currentConstruct,Y=h.events.length,ee=Array.from(d);return{from:Y,restore:he};function he(){i=te,h.previous=ie,h.currentConstruct=ae,h.events.length=Y,d=ee,re()}}function re(){i.line in s&&i.column<2&&(i.column=s[i.line],i.offset+=s[i.line]-1)}}function ES(t,e){const n=e.start._index,i=e.start._bufferIndex,s=e.end._index,l=e.end._bufferIndex;let u;if(n===s)u=[t[n].slice(i,l)];else{if(u=t.slice(n,s),i>-1){const d=u[0];typeof d=="string"?u[0]=d.slice(i):u.shift()}l>0&&u.push(t[s].slice(0,l))}return u}function CS(t,e){let n=-1;const i=[];let s;for(;++n<t.length;){const l=t[n];let u;if(typeof l=="string")u=l;else switch(l){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&s)continue;u=" ";break}default:u=String.fromCharCode(l)}s=l===-2,i.push(u)}return i.join("")}function TS(t){const i={constructs:Pv([SS,...(t||{}).extensions||[]]),content:s(Bv),defined:[],document:s(Hv),flow:s(oS),lazy:{},string:s(aS),text:s(uS)};return i;function s(l){return u;function u(d){return wS(i,l,d)}}}function _S(t){for(;!Em(t););return t}const lp=/[\0\t\n\r]/g;function IS(){let t=1,e="",n=!0,i;return s;function s(l,u,d){const m=[];let h,g,v,x,w;for(l=e+(typeof l=="string"?l.toString():new TextDecoder(u||void 0).decode(l)),v=0,e="",n&&(l.charCodeAt(0)===65279&&v++,n=void 0);v<l.length;){if(lp.lastIndex=v,h=lp.exec(l),x=h&&h.index!==void 0?h.index:l.length,w=l.charCodeAt(x),!h){e=l.slice(v);break}if(w===10&&v===x&&i)m.push(-3),i=void 0;else switch(i&&(m.push(-5),i=void 0),v<x&&(m.push(l.slice(v,x)),t+=x-v),w){case 0:{m.push(65533),t++;break}case 9:{for(g=Math.ceil(t/4)*4,m.push(-2);t++<g;)m.push(-1);break}case 10:{m.push(-4),t=1;break}default:i=!0,t=1}v=x+1}return d&&(i&&m.push(-5),e&&m.push(e),m.push(null)),m}}const kS=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function AS(t){return t.replace(kS,NS)}function NS(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),l=s===120||s===88;return vm(n.slice(l?2:1),l?16:10)}return Ru(n)||t}const Am={}.hasOwnProperty;function RS(t,e,n){return typeof e!="string"&&(n=e,e=void 0),PS(n)(_S(TS(n).document().write(IS()(t,e,!0))))}function PS(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(yr),autolinkProtocol:K,autolinkEmail:K,atxHeading:l(ri),blockQuote:l(Qe),characterEscape:K,characterReference:K,codeFenced:l(pn),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:l(pn,u),codeText:l(ro,u),codeTextData:K,data:K,codeFlowValue:K,definition:l(mr),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:l(ni),hardBreakEscape:l(ii),hardBreakTrailing:l(ii),htmlFlow:l(gr,u),htmlFlowData:K,htmlText:l(gr,u),htmlTextData:K,image:l(io),label:u,link:l(yr),listItem:l(kn),listItemValue:x,listOrdered:l(In,v),listUnordered:l(In),paragraph:l(oi),reference:k,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:l(ri),strong:l(oo),thematicBreak:l(lo)},exit:{atxHeading:m(),atxHeadingSequence:B,autolink:m(),autolinkEmail:Le,autolinkProtocol:Ie,blockQuote:m(),characterEscapeValue:re,characterReferenceMarkerHexadecimal:Ce,characterReferenceMarkerNumeric:Ce,characterReferenceValue:me,characterReference:Ne,codeFenced:m(_),codeFencedFence:R,codeFencedFenceInfo:w,codeFencedFenceMeta:N,codeFlowValue:re,codeIndented:m(M),codeText:m(ee),codeTextData:re,data:re,definition:m(),definitionDestinationString:O,definitionLabelString:G,definitionTitleString:b,emphasis:m(),hardBreakEscape:m(ie),hardBreakTrailing:m(ie),htmlFlow:m(ae),htmlFlowData:re,htmlText:m(Y),htmlTextData:re,image:m(xe),label:X,labelText:H,lineEnding:te,link:m(he),listItem:m(),listOrdered:m(),listUnordered:m(),paragraph:m(),referenceString:pe,resourceDestinationString:T,resourceTitleString:D,resource:q,setextHeading:m(le),setextHeadingLineSequence:$,setextHeadingText:I,strong:m(),thematicBreak:m()}};Nm(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(z){let ne={type:"root",children:[]};const Se={stack:[ne],tokenStack:[],config:e,enter:d,exit:h,buffer:u,resume:g,data:n},ke=[];let Re=-1;for(;++Re<z.length;)if(z[Re][1].type==="listOrdered"||z[Re][1].type==="listUnordered")if(z[Re][0]==="enter")ke.push(Re);else{const ot=ke.pop();Re=s(z,ot,Re)}for(Re=-1;++Re<z.length;){const ot=e[z[Re][0]];Am.call(ot,z[Re][1].type)&&ot[z[Re][1].type].call(Object.assign({sliceSerialize:z[Re][2].sliceSerialize},Se),z[Re][1])}if(Se.tokenStack.length>0){const ot=Se.tokenStack[Se.tokenStack.length-1];(ot[1]||ap).call(Se,void 0,ot[0])}for(ne.position={start:Kn(z.length>0?z[0][1].start:{line:1,column:1,offset:0}),end:Kn(z.length>0?z[z.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<e.transforms.length;)ne=e.transforms[Re](ne)||ne;return ne}function s(z,ne,Se){let ke=ne-1,Re=-1,ot=!1,hn,bt,An,Zn;for(;++ke<=Se;){const st=z[ke];switch(st[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{st[0]==="enter"?Re++:Re--,Zn=void 0;break}case"lineEndingBlank":{st[0]==="enter"&&(hn&&!Zn&&!Re&&!An&&(An=ke),Zn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Zn=void 0}if(!Re&&st[0]==="enter"&&st[1].type==="listItemPrefix"||Re===-1&&st[0]==="exit"&&(st[1].type==="listUnordered"||st[1].type==="listOrdered")){if(hn){let rn=ke;for(bt=void 0;rn--;){const At=z[rn];if(At[1].type==="lineEnding"||At[1].type==="lineEndingBlank"){if(At[0]==="exit")continue;bt&&(z[bt][1].type="lineEndingBlank",ot=!0),At[1].type="lineEnding",bt=rn}else if(!(At[1].type==="linePrefix"||At[1].type==="blockQuotePrefix"||At[1].type==="blockQuotePrefixWhitespace"||At[1].type==="blockQuoteMarker"||At[1].type==="listItemIndent"))break}An&&(!bt||An<bt)&&(hn._spread=!0),hn.end=Object.assign({},bt?z[bt][1].start:st[1].end),z.splice(bt||ke,0,["exit",hn,st[2]]),ke++,Se++}if(st[1].type==="listItemPrefix"){const rn={type:"listItem",_spread:!1,start:Object.assign({},st[1].start),end:void 0};hn=rn,z.splice(ke,0,["enter",rn,st[2]]),ke++,Se++,An=void 0,Zn=!0}}}return z[ne][1]._spread=ot,Se}function l(z,ne){return Se;function Se(ke){d.call(this,z(ke),ke),ne&&ne.call(this,ke)}}function u(){this.stack.push({type:"fragment",children:[]})}function d(z,ne,Se){this.stack[this.stack.length-1].children.push(z),this.stack.push(z),this.tokenStack.push([ne,Se||void 0]),z.position={start:Kn(ne.start),end:void 0}}function m(z){return ne;function ne(Se){z&&z.call(this,Se),h.call(this,Se)}}function h(z,ne){const Se=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==z.type&&(ne?ne.call(this,z,ke[0]):(ke[1]||ap).call(this,z,ke[0]));else throw new Error("Cannot close `"+z.type+"` ("+Qi({start:z.start,end:z.end})+"): its not open");Se.position.end=Kn(z.end)}function g(){return Nv(this.stack.pop())}function v(){this.data.expectingFirstListItemValue=!0}function x(z){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(z),10),this.data.expectingFirstListItemValue=void 0}}function w(){const z=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=z}function N(){const z=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=z}function R(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const z=this.resume(),ne=this.stack[this.stack.length-1];ne.value=z.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function M(){const z=this.resume(),ne=this.stack[this.stack.length-1];ne.value=z.replace(/(\r?\n|\r)$/g,"")}function G(z){const ne=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ne,Se.identifier=Kr(this.sliceSerialize(z)).toLowerCase()}function b(){const z=this.resume(),ne=this.stack[this.stack.length-1];ne.title=z}function O(){const z=this.resume(),ne=this.stack[this.stack.length-1];ne.url=z}function B(z){const ne=this.stack[this.stack.length-1];if(!ne.depth){const Se=this.sliceSerialize(z).length;ne.depth=Se}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function $(z){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(z).codePointAt(0)===61?1:2}function le(){this.data.setextHeadingSlurpLineEnding=void 0}function K(z){const Se=this.stack[this.stack.length-1].children;let ke=Se[Se.length-1];(!ke||ke.type!=="text")&&(ke=so(),ke.position={start:Kn(z.start),end:void 0},Se.push(ke)),this.stack.push(ke)}function re(z){const ne=this.stack.pop();ne.value+=this.sliceSerialize(z),ne.position.end=Kn(z.end)}function te(z){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Se=ne.children[ne.children.length-1];Se.position.end=Kn(z.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ne.type)&&(K.call(this,z),re.call(this,z))}function ie(){this.data.atHardBreak=!0}function ae(){const z=this.resume(),ne=this.stack[this.stack.length-1];ne.value=z}function Y(){const z=this.resume(),ne=this.stack[this.stack.length-1];ne.value=z}function ee(){const z=this.resume(),ne=this.stack[this.stack.length-1];ne.value=z}function he(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=ne,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function xe(){const z=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";z.type+="Reference",z.referenceType=ne,delete z.url,delete z.title}else delete z.identifier,delete z.label;this.data.referenceType=void 0}function H(z){const ne=this.sliceSerialize(z),Se=this.stack[this.stack.length-2];Se.label=AS(ne),Se.identifier=Kr(ne).toLowerCase()}function X(){const z=this.stack[this.stack.length-1],ne=this.resume(),Se=this.stack[this.stack.length-1];if(this.data.inReference=!0,Se.type==="link"){const ke=z.children;Se.children=ke}else Se.alt=ne}function T(){const z=this.resume(),ne=this.stack[this.stack.length-1];ne.url=z}function D(){const z=this.resume(),ne=this.stack[this.stack.length-1];ne.title=z}function q(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function pe(z){const ne=this.resume(),Se=this.stack[this.stack.length-1];Se.label=ne,Se.identifier=Kr(this.sliceSerialize(z)).toLowerCase(),this.data.referenceType="full"}function Ce(z){this.data.characterReferenceType=z.type}function me(z){const ne=this.sliceSerialize(z),Se=this.data.characterReferenceType;let ke;Se?(ke=vm(ne,Se==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=Ru(ne);const Re=this.stack[this.stack.length-1];Re.value+=ke}function Ne(z){const ne=this.stack.pop();ne.position.end=Kn(z.end)}function Ie(z){re.call(this,z);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(z)}function Le(z){re.call(this,z);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(z)}function Qe(){return{type:"blockquote",children:[]}}function pn(){return{type:"code",lang:null,meta:null,value:""}}function ro(){return{type:"inlineCode",value:""}}function mr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ni(){return{type:"emphasis",children:[]}}function ri(){return{type:"heading",depth:0,children:[]}}function ii(){return{type:"break"}}function gr(){return{type:"html",value:""}}function io(){return{type:"image",title:null,url:"",alt:null}}function yr(){return{type:"link",title:null,url:"",children:[]}}function In(z){return{type:"list",ordered:z.type==="listOrdered",start:null,spread:z._spread,children:[]}}function kn(z){return{type:"listItem",spread:z._spread,checked:null,children:[]}}function oi(){return{type:"paragraph",children:[]}}function oo(){return{type:"strong",children:[]}}function so(){return{type:"text",value:""}}function lo(){return{type:"thematicBreak"}}}function Kn(t){return{line:t.line,column:t.column,offset:t.offset}}function Nm(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?Nm(t,i):MS(t,i)}}function MS(t,e){let n;for(n in e)if(Am.call(e,n))switch(n){case"canContainEols":{const i=e[n];i&&t[n].push(...i);break}case"transforms":{const i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{const i=e[n];i&&Object.assign(t[n],i);break}}}function ap(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Qi({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Qi({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Qi({start:e.start,end:e.end})+") is still open")}function DS(t){const e=this;e.parser=n;function n(i){return RS(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function LS(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function US(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function bS(t,e){const n=e.value?e.value+`
`:"",i={},s=e.lang?e.lang.split(/\s+/):[];s.length>0&&(i.className=["language-"+s[0]]);let l={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return e.meta&&(l.data={meta:e.meta}),t.patch(e,l),l=t.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(e,l),l}function FS(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function VS(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function BS(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),s=Zr(i.toLowerCase()),l=t.footnoteOrder.indexOf(i);let u,d=t.footnoteCounts.get(i);d===void 0?(d=0,t.footnoteOrder.push(i),u=t.footnoteOrder.length):u=l+1,d+=1,t.footnoteCounts.set(i,d);const m={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(d>1?"-"+d:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,m);const h={type:"element",tagName:"sup",properties:{},children:[m]};return t.patch(e,h),t.applyData(e,h)}function GS(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function HS(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Rm(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const s=t.all(e),l=s[0];l&&l.type==="text"?l.value="["+l.value:s.unshift({type:"text",value:"["});const u=s[s.length-1];return u&&u.type==="text"?u.value+=i:s.push({type:"text",value:i}),s}function zS(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return Rm(t,e);const s={src:Zr(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(s.title=i.title);const l={type:"element",tagName:"img",properties:s,children:[]};return t.patch(e,l),t.applyData(e,l)}function qS(t,e){const n={src:Zr(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function OS(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function $S(t,e){const n=String(e.identifier).toUpperCase(),i=t.definitionById.get(n);if(!i)return Rm(t,e);const s={href:Zr(i.url||"")};i.title!==null&&i.title!==void 0&&(s.title=i.title);const l={type:"element",tagName:"a",properties:s,children:t.all(e)};return t.patch(e,l),t.applyData(e,l)}function JS(t,e){const n={href:Zr(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function WS(t,e,n){const i=t.all(e),s=n?KS(n):Pm(e),l={},u=[];if(typeof e.checked=="boolean"){const g=i[0];let v;g&&g.type==="element"&&g.tagName==="p"?v=g:(v={type:"element",tagName:"p",properties:{},children:[]},i.unshift(v)),v.children.length>0&&v.children.unshift({type:"text",value:" "}),v.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),l.className=["task-list-item"]}let d=-1;for(;++d<i.length;){const g=i[d];(s||d!==0||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`}),g.type==="element"&&g.tagName==="p"&&!s?u.push(...g.children):u.push(g)}const m=i[i.length-1];m&&(s||m.type!=="element"||m.tagName!=="p")&&u.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:l,children:u};return t.patch(e,h),t.applyData(e,h)}function KS(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=Pm(n[i])}return e}function Pm(t){const e=t.spread;return e??t.children.length>1}function YS(t,e){const n={},i=t.all(e);let s=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++s<i.length;){const u=i[s];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const l={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,l),t.applyData(e,l)}function QS(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function XS(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function ZS(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function jS(t,e){const n=t.all(e),i=n.shift(),s=[];if(i){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],u),s.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},d=Iu(e.children[1]),m=dm(e.children[e.children.length-1]);d&&m&&(u.position={start:d,end:m}),s.push(u)}const l={type:"element",tagName:"table",properties:{},children:t.wrap(s,!0)};return t.patch(e,l),t.applyData(e,l)}function ew(t,e,n){const i=n?n.children:void 0,l=(i?i.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,d=u?u.length:e.children.length;let m=-1;const h=[];for(;++m<d;){const v=e.children[m],x={},w=u?u[m]:void 0;w&&(x.align=w);let N={type:"element",tagName:l,properties:x,children:[]};v&&(N.children=t.all(v),t.patch(v,N),N=t.applyData(v,N)),h.push(N)}const g={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,g),t.applyData(e,g)}function tw(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const up=9,cp=32;function nw(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),s=0;const l=[];for(;i;)l.push(dp(e.slice(s,i.index),s>0,!0),i[0]),s=i.index+i[0].length,i=n.exec(e);return l.push(dp(e.slice(s),s>0,!1)),l.join("")}function dp(t,e,n){let i=0,s=t.length;if(e){let l=t.codePointAt(i);for(;l===up||l===cp;)i++,l=t.codePointAt(i)}if(n){let l=t.codePointAt(s-1);for(;l===up||l===cp;)s--,l=t.codePointAt(s-1)}return s>i?t.slice(i,s):""}function rw(t,e){const n={type:"text",value:nw(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function iw(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const ow={blockquote:LS,break:US,code:bS,delete:FS,emphasis:VS,footnoteReference:BS,heading:GS,html:HS,imageReference:zS,image:qS,inlineCode:OS,linkReference:$S,link:JS,listItem:WS,list:YS,paragraph:QS,root:XS,strong:ZS,table:jS,tableCell:tw,tableRow:ew,text:rw,thematicBreak:iw,toml:ys,yaml:ys,definition:ys,footnoteDefinition:ys};function ys(){}const Mm=-1,Vs=0,Zi=1,As=2,Du=3,Lu=4,Uu=5,bu=6,Dm=7,Lm=8,fp=typeof self=="object"?self:globalThis,sw=(t,e)=>{const n=(s,l)=>(t.set(l,s),s),i=s=>{if(t.has(s))return t.get(s);const[l,u]=e[s];switch(l){case Vs:case Mm:return n(u,s);case Zi:{const d=n([],s);for(const m of u)d.push(i(m));return d}case As:{const d=n({},s);for(const[m,h]of u)d[i(m)]=i(h);return d}case Du:return n(new Date(u),s);case Lu:{const{source:d,flags:m}=u;return n(new RegExp(d,m),s)}case Uu:{const d=n(new Map,s);for(const[m,h]of u)d.set(i(m),i(h));return d}case bu:{const d=n(new Set,s);for(const m of u)d.add(i(m));return d}case Dm:{const{name:d,message:m}=u;return n(new fp[d](m),s)}case Lm:return n(BigInt(u),s);case"BigInt":return n(Object(BigInt(u)),s);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:d}=new Uint8Array(u);return n(new DataView(d),u)}}return n(new fp[l](u),s)};return i},pp=t=>sw(new Map,t)(0),qr="",{toString:lw}={},{keys:aw}=Object,Ji=t=>{const e=typeof t;if(e!=="object"||!t)return[Vs,e];const n=lw.call(t).slice(8,-1);switch(n){case"Array":return[Zi,qr];case"Object":return[As,qr];case"Date":return[Du,qr];case"RegExp":return[Lu,qr];case"Map":return[Uu,qr];case"Set":return[bu,qr];case"DataView":return[Zi,n]}return n.includes("Array")?[Zi,n]:n.includes("Error")?[Dm,n]:[As,n]},vs=([t,e])=>t===Vs&&(e==="function"||e==="symbol"),uw=(t,e,n,i)=>{const s=(u,d)=>{const m=i.push(u)-1;return n.set(d,m),m},l=u=>{if(n.has(u))return n.get(u);let[d,m]=Ji(u);switch(d){case Vs:{let g=u;switch(m){case"bigint":d=Lm,g=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+m);g=null;break;case"undefined":return s([Mm],u)}return s([d,g],u)}case Zi:{if(m){let x=u;return m==="DataView"?x=new Uint8Array(u.buffer):m==="ArrayBuffer"&&(x=new Uint8Array(u)),s([m,[...x]],u)}const g=[],v=s([d,g],u);for(const x of u)g.push(l(x));return v}case As:{if(m)switch(m){case"BigInt":return s([m,u.toString()],u);case"Boolean":case"Number":case"String":return s([m,u.valueOf()],u)}if(e&&"toJSON"in u)return l(u.toJSON());const g=[],v=s([d,g],u);for(const x of aw(u))(t||!vs(Ji(u[x])))&&g.push([l(x),l(u[x])]);return v}case Du:return s([d,u.toISOString()],u);case Lu:{const{source:g,flags:v}=u;return s([d,{source:g,flags:v}],u)}case Uu:{const g=[],v=s([d,g],u);for(const[x,w]of u)(t||!(vs(Ji(x))||vs(Ji(w))))&&g.push([l(x),l(w)]);return v}case bu:{const g=[],v=s([d,g],u);for(const x of u)(t||!vs(Ji(x)))&&g.push(l(x));return v}}const{message:h}=u;return s([d,{name:m,message:h}],u)};return l},hp=(t,{json:e,lossy:n}={})=>{const i=[];return uw(!(e||n),!!e,new Map,i)(t),i},Ns=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?pp(hp(t,e)):structuredClone(t):(t,e)=>pp(hp(t,e));function cw(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function dw(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function fw(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||cw,i=t.options.footnoteBackLabel||dw,s=t.options.footnoteLabel||"Footnotes",l=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},d=[];let m=-1;for(;++m<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[m]);if(!h)continue;const g=t.all(h),v=String(h.identifier).toUpperCase(),x=Zr(v.toLowerCase());let w=0;const N=[],R=t.footnoteCounts.get(v);for(;R!==void 0&&++w<=R;){N.length>0&&N.push({type:"text",value:" "});let G=typeof n=="string"?n:n(m,w);typeof G=="string"&&(G={type:"text",value:G}),N.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+x+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(m,w),className:["data-footnote-backref"]},children:Array.isArray(G)?G:[G]})}const _=g[g.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const G=_.children[_.children.length-1];G&&G.type==="text"?G.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...N)}else g.push(...N);const M={type:"element",tagName:"li",properties:{id:e+"fn-"+x},children:t.wrap(g,!0)};t.patch(h,M),d.push(M)}if(d.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:l,properties:{...Ns(u),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(d,!0)},{type:"text",value:`
`}]}}const Um=(function(t){if(t==null)return gw;if(typeof t=="function")return Bs(t);if(typeof t=="object")return Array.isArray(t)?pw(t):hw(t);if(typeof t=="string")return mw(t);throw new Error("Expected function, string, or object as test")});function pw(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=Um(t[n]);return Bs(i);function i(...s){let l=-1;for(;++l<e.length;)if(e[l].apply(this,s))return!0;return!1}}function hw(t){const e=t;return Bs(n);function n(i){const s=i;let l;for(l in t)if(s[l]!==e[l])return!1;return!0}}function mw(t){return Bs(e);function e(n){return n&&n.type===t}}function Bs(t){return e;function e(n,i,s){return!!(yw(n)&&t.call(this,n,typeof i=="number"?i:void 0,s||void 0))}}function gw(){return!0}function yw(t){return t!==null&&typeof t=="object"&&"type"in t}const bm=[],vw=!0,mp=!1,xw="skip";function Sw(t,e,n,i){let s;typeof e=="function"&&typeof n!="function"?(i=n,n=e):s=e;const l=Um(s),u=i?-1:1;d(t,void 0,[])();function d(m,h,g){const v=m&&typeof m=="object"?m:{};if(typeof v.type=="string"){const w=typeof v.tagName=="string"?v.tagName:typeof v.name=="string"?v.name:void 0;Object.defineProperty(x,"name",{value:"node ("+(m.type+(w?"<"+w+">":""))+")"})}return x;function x(){let w=bm,N,R,_;if((!e||l(m,h,g[g.length-1]||void 0))&&(w=ww(n(m,g)),w[0]===mp))return w;if("children"in m&&m.children){const M=m;if(M.children&&w[0]!==xw)for(R=(i?M.children.length:-1)+u,_=g.concat(M);R>-1&&R<M.children.length;){const G=M.children[R];if(N=d(G,R,_)(),N[0]===mp)return N;R=typeof N[1]=="number"?N[1]:R+u}}return w}}}function ww(t){return Array.isArray(t)?t:typeof t=="number"?[vw,t]:t==null?bm:[t]}function Fm(t,e,n,i){let s,l,u;typeof e=="function"&&typeof n!="function"?(l=void 0,u=e,s=n):(l=e,u=n,s=i),Sw(t,l,d,s);function d(m,h){const g=h[h.length-1],v=g?g.children.indexOf(m):void 0;return u(m,v,g)}}const su={}.hasOwnProperty,Ew={};function Cw(t,e){const n=e||Ew,i=new Map,s=new Map,l=new Map,u={...ow,...n.handlers},d={all:h,applyData:_w,definitionById:i,footnoteById:s,footnoteCounts:l,footnoteOrder:[],handlers:u,one:m,options:n,patch:Tw,wrap:kw};return Fm(t,function(g){if(g.type==="definition"||g.type==="footnoteDefinition"){const v=g.type==="definition"?i:s,x=String(g.identifier).toUpperCase();v.has(x)||v.set(x,g)}}),d;function m(g,v){const x=g.type,w=d.handlers[x];if(su.call(d.handlers,x)&&w)return w(d,g,v);if(d.options.passThrough&&d.options.passThrough.includes(x)){if("children"in g){const{children:R,..._}=g,M=Ns(_);return M.children=d.all(g),M}return Ns(g)}return(d.options.unknownHandler||Iw)(d,g,v)}function h(g){const v=[];if("children"in g){const x=g.children;let w=-1;for(;++w<x.length;){const N=d.one(x[w],g);if(N){if(w&&x[w-1].type==="break"&&(!Array.isArray(N)&&N.type==="text"&&(N.value=gp(N.value)),!Array.isArray(N)&&N.type==="element")){const R=N.children[0];R&&R.type==="text"&&(R.value=gp(R.value))}Array.isArray(N)?v.push(...N):v.push(N)}}}return v}}function Tw(t,e){t.position&&(e.position=lv(t))}function _w(t,e){let n=e;if(t&&t.data){const i=t.data.hName,s=t.data.hChildren,l=t.data.hProperties;if(typeof i=="string")if(n.type==="element")n.tagName=i;else{const u="children"in n?n.children:[n];n={type:"element",tagName:i,properties:{},children:u}}n.type==="element"&&l&&Object.assign(n.properties,Ns(l)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function Iw(t,e){const n=e.data||{},i="value"in e&&!(su.call(n,"hProperties")||su.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function kw(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function gp(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function yp(t,e){const n=Cw(t,e),i=n.one(t,void 0),s=fw(n),l=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return s&&l.children.push({type:"text",value:`
`},s),l}function Aw(t,e){return t&&"run"in t?async function(n,i){const s=yp(n,{file:i,...e});await t.run(s,i)}:function(n,i){return yp(n,{file:i,...t||e})}}function vp(t){if(t)throw t}var za,xp;function Nw(){if(xp)return za;xp=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},l=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var g=t.call(h,"constructor"),v=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!g&&!v)return!1;var x;for(x in h);return typeof x>"u"||t.call(h,x)},u=function(h,g){n&&g.name==="__proto__"?n(h,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):h[g.name]=g.newValue},d=function(h,g){if(g==="__proto__")if(t.call(h,g)){if(i)return i(h,g).value}else return;return h[g]};return za=function m(){var h,g,v,x,w,N,R=arguments[0],_=1,M=arguments.length,G=!1;for(typeof R=="boolean"&&(G=R,R=arguments[1]||{},_=2),(R==null||typeof R!="object"&&typeof R!="function")&&(R={});_<M;++_)if(h=arguments[_],h!=null)for(g in h)v=d(R,g),x=d(h,g),R!==x&&(G&&x&&(l(x)||(w=s(x)))?(w?(w=!1,N=v&&s(v)?v:[]):N=v&&l(v)?v:{},u(R,{name:g,newValue:m(G,N,x)})):typeof x<"u"&&u(R,{name:g,newValue:x}));return R},za}var Rw=Nw();const qa=bs(Rw);function lu(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Pw(){const t=[],e={run:n,use:i};return e;function n(...s){let l=-1;const u=s.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);d(null,...s);function d(m,...h){const g=t[++l];let v=-1;if(m){u(m);return}for(;++v<s.length;)(h[v]===null||h[v]===void 0)&&(h[v]=s[v]);s=h,g?Mw(g,d)(...h):u(null,...h)}}function i(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return t.push(s),e}}function Mw(t,e){let n;return i;function i(...u){const d=t.length>u.length;let m;d&&u.push(s);try{m=t.apply(this,u)}catch(h){const g=h;if(d&&n)throw g;return s(g)}d||(m&&m.then&&typeof m.then=="function"?m.then(l,s):m instanceof Error?s(m):l(m))}function s(u,...d){n||(n=!0,e(u,...d))}function l(u){s(null,u)}}const cn={basename:Dw,dirname:Lw,extname:Uw,join:bw,sep:"/"};function Dw(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');no(t);let n=0,i=-1,s=t.length,l;if(e===void 0||e.length===0||e.length>t.length){for(;s--;)if(t.codePointAt(s)===47){if(l){n=s+1;break}}else i<0&&(l=!0,i=s+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let u=-1,d=e.length-1;for(;s--;)if(t.codePointAt(s)===47){if(l){n=s+1;break}}else u<0&&(l=!0,u=s+1),d>-1&&(t.codePointAt(s)===e.codePointAt(d--)?d<0&&(i=s):(d=-1,i=u));return n===i?i=u:i<0&&(i=t.length),t.slice(n,i)}function Lw(t){if(no(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.codePointAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Uw(t){no(t);let e=t.length,n=-1,i=0,s=-1,l=0,u;for(;e--;){const d=t.codePointAt(e);if(d===47){if(u){i=e+1;break}continue}n<0&&(u=!0,n=e+1),d===46?s<0?s=e:l!==1&&(l=1):s>-1&&(l=-1)}return s<0||n<0||l===0||l===1&&s===n-1&&s===i+1?"":t.slice(s,n)}function bw(...t){let e=-1,n;for(;++e<t.length;)no(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":Fw(n)}function Fw(t){no(t);const e=t.codePointAt(0)===47;let n=Vw(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Vw(t,e){let n="",i=0,s=-1,l=0,u=-1,d,m;for(;++u<=t.length;){if(u<t.length)d=t.codePointAt(u);else{if(d===47)break;d=47}if(d===47){if(!(s===u-1||l===1))if(s!==u-1&&l===2){if(n.length<2||i!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",i=0):(n=n.slice(0,m),i=n.length-1-n.lastIndexOf("/")),s=u,l=0;continue}}else if(n.length>0){n="",i=0,s=u,l=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(s+1,u):n=t.slice(s+1,u),i=u-s-1;s=u,l=0}else d===46&&l>-1?l++:l=-1}return n}function no(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Bw={cwd:Gw};function Gw(){return"/"}function au(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function Hw(t){if(typeof t=="string")t=new URL(t);else if(!au(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return zw(t)}function zw(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const i=e.codePointAt(n+2);if(i===70||i===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(e)}const Oa=["history","path","basename","stem","extname","dirname"];class Vm{constructor(e){let n;e?au(e)?n={path:e}:typeof e=="string"||qw(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Bw.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Oa.length;){const l=Oa[i];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let s;for(s in n)Oa.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?cn.basename(this.path):void 0}set basename(e){Ja(e,"basename"),$a(e,"basename"),this.path=cn.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?cn.dirname(this.path):void 0}set dirname(e){Sp(this.basename,"dirname"),this.path=cn.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?cn.extname(this.path):void 0}set extname(e){if($a(e,"extname"),Sp(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=cn.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){au(e)&&(e=Hw(e)),Ja(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?cn.basename(this.path,this.extname):void 0}set stem(e){Ja(e,"stem"),$a(e,"stem"),this.path=cn.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){const s=this.message(e,n,i);throw s.fatal=!0,s}info(e,n,i){const s=this.message(e,n,i);return s.fatal=void 0,s}message(e,n,i){const s=new ht(e,n,i);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function $a(t,e){if(t&&t.includes(cn.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+cn.sep+"`")}function Ja(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Sp(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function qw(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Ow=(function(t){const i=this.constructor.prototype,s=i[t],l=function(){return s.apply(l,arguments)};return Object.setPrototypeOf(l,i),l}),$w={}.hasOwnProperty;class Fu extends Ow{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Pw()}copy(){const e=new Fu;let n=-1;for(;++n<this.attachers.length;){const i=this.attachers[n];e.use(...i)}return e.data(qa(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Ya("data",this.frozen),this.namespace[e]=n,this):$w.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ya("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const s=n.call(e,...i);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=xs(e),i=this.parser||this.Parser;return Wa("parse",i),i(String(n),n)}process(e,n){const i=this;return this.freeze(),Wa("process",this.parser||this.Parser),Ka("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(l,u){const d=xs(e),m=i.parse(d);i.run(m,d,function(g,v,x){if(g||!v||!x)return h(g);const w=v,N=i.stringify(w,x);Kw(N)?x.value=N:x.result=N,h(g,x)});function h(g,v){g||!v?u(g):l?l(v):n(void 0,v)}}}processSync(e){let n=!1,i;return this.freeze(),Wa("processSync",this.parser||this.Parser),Ka("processSync",this.compiler||this.Compiler),this.process(e,s),Ep("processSync","process",n),i;function s(l,u){n=!0,vp(l),i=u}}run(e,n,i){wp(e),this.freeze();const s=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?l(void 0,i):new Promise(l);function l(u,d){const m=xs(n);s.run(e,m,h);function h(g,v,x){const w=v||e;g?d(g):u?u(w):i(void 0,w,x)}}}runSync(e,n){let i=!1,s;return this.run(e,n,l),Ep("runSync","run",i),s;function l(u,d){vp(u),s=d,i=!0}}stringify(e,n){this.freeze();const i=xs(n),s=this.compiler||this.Compiler;return Ka("stringify",s),wp(e),s(e,i)}use(e,...n){const i=this.attachers,s=this.namespace;if(Ya("use",this.frozen),e!=null)if(typeof e=="function")m(e,n);else if(typeof e=="object")Array.isArray(e)?d(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function l(h){if(typeof h=="function")m(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[g,...v]=h;m(g,v)}else u(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function u(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");d(h.plugins),h.settings&&(s.settings=qa(!0,s.settings,h.settings))}function d(h){let g=-1;if(h!=null)if(Array.isArray(h))for(;++g<h.length;){const v=h[g];l(v)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function m(h,g){let v=-1,x=-1;for(;++v<i.length;)if(i[v][0]===h){x=v;break}if(x===-1)i.push([h,...g]);else if(g.length>0){let[w,...N]=g;const R=i[x][1];lu(R)&&lu(w)&&(w=qa(!0,R,w)),i[x]=[h,w,...N]}}}}const Jw=new Fu().freeze();function Wa(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Ka(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Ya(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function wp(t){if(!lu(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Ep(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function xs(t){return Ww(t)?t:new Vm(t)}function Ww(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Kw(t){return typeof t=="string"||Yw(t)}function Yw(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Qw="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Cp=[],Tp={allowDangerousHtml:!0},Xw=/^(https?|ircs?|mailto|xmpp)$/i,Zw=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function jw(t){const e=eE(t),n=tE(t);return nE(e.runSync(e.parse(n),n),t)}function eE(t){const e=t.rehypePlugins||Cp,n=t.remarkPlugins||Cp,i=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Tp}:Tp;return Jw().use(DS).use(n).use(Aw,i).use(e)}function tE(t){const e=t.children||"",n=new Vm;return typeof e=="string"&&(n.value=e),n}function nE(t,e){const n=e.allowedElements,i=e.allowElement,s=e.components,l=e.disallowedElements,u=e.skipHtml,d=e.unwrapDisallowed,m=e.urlTransform||rE;for(const g of Zw)Object.hasOwn(e,g.from)&&(""+g.from+(g.to?"use `"+g.to+"` instead":"remove it")+Qw+g.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),Fm(t,h),fv(t,{Fragment:C.Fragment,components:s,ignoreInvalidStyle:!0,jsx:C.jsx,jsxs:C.jsxs,passKeys:!0,passNode:!0});function h(g,v,x){if(g.type==="raw"&&x&&typeof v=="number")return u?x.children.splice(v,1):x.children[v]={type:"text",value:g.value},v;if(g.type==="element"){let w;for(w in Ba)if(Object.hasOwn(Ba,w)&&Object.hasOwn(g.properties,w)){const N=g.properties[w],R=Ba[w];(R===null||R.includes(g.tagName))&&(g.properties[w]=m(String(N||""),w,g))}}if(g.type==="element"){let w=n?!n.includes(g.tagName):l?l.includes(g.tagName):!1;if(!w&&i&&typeof v=="number"&&(w=!i(g,v,x)),w&&x&&typeof v=="number")return d&&g.children?x.children.splice(v,1,...g.children):x.children.splice(v,1),v}}}function rE(t){const e=t.indexOf(":"),n=t.indexOf("?"),i=t.indexOf("#"),s=t.indexOf("/");return e===-1||s!==-1&&e>s||n!==-1&&e>n||i!==-1&&e>i||Xw.test(t.slice(0,e))?t:""}var eo=(t=>(t.USER="user",t.MODEL="model",t.SYSTEM="system",t))(eo||{});const iE=({message:t,currentUserId:e})=>{const n=t.senderId===e;return t.role===eo.MODEL?C.jsx("div",{className:"w-full group animate-fade-in-up",children:C.jsxs("div",{className:"max-w-4xl mx-auto flex gap-4 p-4 md:px-8",children:[C.jsx("div",{className:"flex-shrink-0 mt-1",children:C.jsx("div",{className:"w-9 h-9 rounded-xl bg-gradient-to-tr from-indigo-500 to-purple-600 flex items-center justify-center text-white shadow-md",children:be.Sparkles})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C.jsx("span",{className:"text-sm font-bold text-slate-700",children:"ChatQu AI"}),C.jsx("span",{className:"text-[10px] bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded font-bold",children:"BOT"})]}),C.jsxs("div",{className:"prose prose-slate prose-sm md:prose-base max-w-none text-slate-700 leading-relaxed bg-slate-50 p-4 rounded-2xl rounded-tl-none border border-slate-100/50 shadow-sm",children:[C.jsx(jw,{children:t.content}),t.isStreaming&&C.jsx("span",{className:"inline-block w-2 h-4 ml-1 align-middle bg-indigo-400 animate-pulse rounded-sm"})]})]})]})}):C.jsx("div",{className:`w-full flex px-4 md:px-8 py-2 ${n?"justify-end":"justify-start"} animate-fade-in-up`,children:C.jsxs("div",{className:`flex gap-3 max-w-[85%] md:max-w-[70%] ${n?"flex-row-reverse":"flex-row"}`,children:[!n&&C.jsx("div",{className:"flex-shrink-0 mt-auto mb-1",children:t.senderAvatar?C.jsx("img",{src:t.senderAvatar,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover shadow-sm bg-slate-200"}):C.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-500 text-xs font-bold",children:(t.senderName||"?").charAt(0)})}),C.jsxs("div",{className:`flex flex-col ${n?"items-end":"items-start"}`,children:[!n&&C.jsx("span",{className:"text-[11px] text-slate-500 mb-1 ml-1 font-semibold opacity-80",children:t.senderName||"Teman"}),C.jsx("div",{className:`px-5 py-2.5 shadow-sm break-words text-[15px] leading-relaxed relative group transition-all ${n?"bg-indigo-600 text-white rounded-[20px] rounded-tr-sm hover:bg-indigo-700":"bg-white border border-slate-200 text-slate-800 rounded-[20px] rounded-tl-sm hover:bg-slate-50"}`,children:t.content}),C.jsx("span",{className:`text-[10px] mt-1 mx-2 font-medium opacity-60 ${n?"text-slate-400 text-right":"text-slate-400"}`,children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})})},oE=({onSendMessage:t,isLoading:e})=>{const[n,i]=ve.useState(""),s=ve.useRef(null),l=d=>{d&&d.preventDefault(),!(!n.trim()||e)&&(t(n),i(""),s.current&&(s.current.style.height="auto"))},u=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),l())};return ve.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height=`${Math.min(s.current.scrollHeight,120)}px`)},[n]),C.jsx("div",{className:"w-full px-4 pb-4 md:px-6 md:pb-6 bg-transparent",children:C.jsxs("div",{className:"max-w-4xl mx-auto",children:[C.jsxs("form",{onSubmit:l,className:"relative flex items-end gap-2 bg-slate-100 dark:bg-slate-800 p-2 rounded-[26px] shadow-sm border border-slate-200 dark:border-slate-700 transition-shadow focus-within:shadow-md focus-within:ring-2 focus-within:ring-indigo-500/20",children:[C.jsx("textarea",{ref:s,disabled:e,rows:1,value:n,onChange:d=>i(d.target.value),onKeyDown:u,placeholder:"Ketik pesan...",className:"w-full max-h-[120px] py-3 pl-4 pr-2 bg-transparent border-none outline-none focus:outline-none focus:ring-0 text-slate-800 dark:text-white placeholder:text-slate-400 resize-none font-medium text-[15px] leading-relaxed custom-scrollbar"}),C.jsx("button",{type:"submit",disabled:e||!n.trim(),className:`flex-shrink-0 p-3 rounded-full mb-0.5 transition-all duration-300 ${n.trim()&&!e?"bg-indigo-600 text-white hover:bg-indigo-700 shadow-md transform hover:scale-105":"bg-slate-200 text-slate-400 dark:bg-slate-700 cursor-not-allowed"}`,children:e?C.jsx("div",{className:"w-5 h-5 border-2 border-white/40 border-t-white rounded-full animate-spin"}):be.Send})]}),C.jsx("div",{className:"text-center mt-2",children:C.jsx("p",{className:"text-[10px] text-slate-400 font-medium tracking-wide",children:"ChatQu AI dapat membuat kesalahan. Periksa info penting."})})]})})},sE=({activeTab:t,messages:e,isLoading:n,currentUserId:i,chatTitle:s,onSendMessage:l,toggleSidebar:u,onRefresh:d})=>{const m=ve.useRef(null),h=()=>{m.current?.scrollIntoView({behavior:"smooth"})};ve.useEffect(()=>{h()},[e,n]);const g=e.length===0;return C.jsxs("div",{className:"flex flex-col h-full w-full bg-white relative font-sans",children:[C.jsxs("div",{className:"absolute top-0 left-0 right-0 z-20 px-4 py-3 flex items-center justify-between glass-effect border-b border-slate-200/50",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("button",{type:"button",className:"p-2 -ml-2 rounded-xl text-slate-500 hover:bg-slate-100 hover:text-slate-900 focus:outline-none md:hidden transition-colors",onClick:u,children:be.Menu}),C.jsxs("div",{className:"flex flex-col",children:[C.jsxs("span",{className:"text-base font-bold text-slate-800 flex items-center gap-2 tracking-tight",children:[t==="global"?C.jsx("span",{className:"text-indigo-500",children:be.Globe}):null,t==="ai"?C.jsx("span",{className:"text-purple-500",children:be.Sparkles}):null,s]}),t==="global"&&C.jsxs("span",{className:"text-[10px] font-bold text-green-600 bg-green-100 px-2 py-0.5 rounded-full w-fit flex items-center gap-1",children:[C.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"})," LIVE"]})]})]}),C.jsx("div",{className:"flex items-center gap-2",children:d&&C.jsx("button",{onClick:d,title:"Segarkan Chat",className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition-all active:scale-95",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:C.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})})})]}),C.jsx("div",{className:"flex-1 overflow-y-auto w-full custom-scrollbar pt-20 pb-4",children:g?C.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-800 px-6 animate-fade-in-up",children:[t==="ai"&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-3xl flex items-center justify-center mb-8 text-white shadow-xl shadow-indigo-200 transform hover:scale-105 transition-transform duration-500",children:be.Robot}),C.jsx("h2",{className:"text-3xl font-bold mb-3 text-slate-800",children:"Tanya ChatQu"}),C.jsx("p",{className:"text-slate-500 text-center max-w-sm mb-10 leading-relaxed",children:"Asisten cerdas untuk membantu pekerjaan, coding, atau sekadar teman ngobrol yang asik."}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 w-full max-w-lg",children:[C.jsxs("button",{onClick:()=>l("Buatkan saya ide konten Instagram"),className:"p-4 text-sm text-left bg-slate-50 border border-slate-200 rounded-2xl hover:border-indigo-300 hover:bg-white hover:shadow-md transition-all group",children:[C.jsx("span",{className:"block font-semibold text-slate-700 mb-1 group-hover:text-indigo-600",children:"Ide Konten "}),C.jsx("span",{className:"text-slate-500 text-xs",children:'"Buatkan ide konten Instagram..."'})]}),C.jsxs("button",{onClick:()=>l("Jelaskan tentang Quantum Physics"),className:"p-4 text-sm text-left bg-slate-50 border border-slate-200 rounded-2xl hover:border-indigo-300 hover:bg-white hover:shadow-md transition-all group",children:[C.jsx("span",{className:"block font-semibold text-slate-700 mb-1 group-hover:text-indigo-600",children:"Belajar Hal Baru "}),C.jsx("span",{className:"text-slate-500 text-xs",children:'"Jelaskan fisika kuantum..."'})]})]})]}),t==="global"&&C.jsxs("div",{className:"text-center opacity-60 max-w-sm",children:[C.jsx("div",{className:"w-20 h-20 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-6 text-blue-500",children:be.Globe}),C.jsx("h3",{className:"text-xl font-bold mb-2",children:"Ruang Publik Lembaga"}),C.jsx("p",{className:"text-sm leading-relaxed",children:"Chat ini khusus untuk pengguna di lembaga/sekolah yang sama dengan Anda."})]}),t==="private"&&C.jsxs("div",{className:"text-center opacity-60 max-w-sm",children:[C.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6 text-slate-400",children:be.UserCircle}),C.jsx("h3",{className:"text-xl font-bold mb-2",children:"Chat Pribadi"}),C.jsx("p",{className:"text-sm leading-relaxed",children:"Pilih teman dari sidebar atau mulai chat baru untuk mengobrol secara privat."})]})]}):C.jsxs("div",{className:"flex flex-col w-full px-2 md:px-0 gap-2",children:[e.map(v=>C.jsx(iE,{message:v,currentUserId:i},v.id)),C.jsx("div",{ref:m,className:"h-2"})]})}),C.jsx("div",{className:"w-full relative z-20",children:C.jsx(oE,{onSendMessage:l,isLoading:n})})]})},jt=({label:t,type:e,value:n,onChange:i,placeholder:s,required:l=!0})=>C.jsxs("div",{className:"group animate-fade-in-up",children:[C.jsxs("label",{className:"block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1.5 ml-1 transition-colors group-focus-within:text-indigo-600",children:[t," ",l&&C.jsx("span",{className:"text-red-400",children:"*"})]}),C.jsx("input",{type:e,value:n,onChange:i,required:l,className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 text-slate-800 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400 font-medium",placeholder:s})]}),lE=({onLogin:t,onRegister:e,onDemo:n})=>{const[i,s]=ve.useState(!1),[l,u]=ve.useState(!1),[d,m]=ve.useState(""),[h,g]=ve.useState(""),[v,x]=ve.useState(""),[w,N]=ve.useState(""),[R,_]=ve.useState(""),[M,G]=ve.useState(""),[b,O]=ve.useState(""),[B,I]=ve.useState(""),[$,le]=ve.useState(""),[K,re]=ve.useState(""),[te,ie]=ve.useState(""),ae=async Y=>{Y.preventDefault(),u(!0);try{if(i){if(!v||!w||!R||!M||!h||!b){alert("Mohon lengkapi data wajib (termasuk ID Lembaga)."),u(!1);return}await e({name:v,email:w,phoneNumber:R,username:M,password:h,institutionId:b,institutionName:B||b,classId:$,bio:K,avatarUrl:te})}else{if(!d||!h){alert("Mohon masukkan akun dan kata sandi."),u(!1);return}await t({identifier:d,password:h})}}catch(ee){console.error("Auth Error:",ee)}finally{u(!1)}};return C.jsxs("div",{className:"min-h-screen relative flex items-center justify-center p-4 overflow-hidden",children:[C.jsxs("div",{className:"absolute inset-0 bg-slate-900 z-0",children:[C.jsx("div",{className:"absolute top-0 -left-4 w-96 h-96 bg-indigo-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),C.jsx("div",{className:"absolute top-0 -right-4 w-96 h-96 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"}),C.jsx("div",{className:"absolute -bottom-8 left-20 w-96 h-96 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"})]}),C.jsxs("div",{className:"bg-white/95 backdrop-blur-xl rounded-3xl shadow-2xl w-full max-w-md overflow-hidden flex flex-col z-10 animate-scale-in border border-white/10 max-h-[90vh]",children:[C.jsxs("div",{className:"relative p-6 text-center",children:[C.jsx("div",{className:"inline-flex items-center justify-center mb-2 drop-shadow-lg text-indigo-600 bg-indigo-50 p-4 rounded-2xl",children:C.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-12 h-12",children:C.jsx("path",{fillRule:"evenodd",d:"M4.848 2.771A49.144 49.144 0 0112 2.25c2.43 0 4.817.178 7.152.52 1.978.292 3.348 2.024 3.348 3.97v6.02c0 1.946-1.37 3.678-3.348 3.97a48.901 48.901 0 01-3.476.383.39.39 0 00-.297.17l-2.755 4.133a.75.75 0 01-1.248 0l-2.755-4.133a.39.39 0 00-.297-.17 48.9 48.9 0 01-3.476-.384c-1.978-.29-3.348-2.024-3.348-3.97V6.741c0-1.946 1.37-3.68 3.348-3.97zM6.75 8.25a.75.75 0 01.75-.75h9a.75.75 0 010 1.5h-9a.75.75 0 01-.75-.75zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H7.5z",clipRule:"evenodd"})})}),C.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight mt-3",children:"ChatQu"}),C.jsx("p",{className:"text-slate-500 text-xs",children:"Komunitas Sekolah & Kampus"})]}),C.jsx("div",{className:"px-6 mb-4",children:C.jsxs("div",{className:"bg-slate-100 p-1 rounded-xl flex",children:[C.jsx("button",{onClick:()=>s(!1),className:`flex-1 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${i?"text-slate-500 hover:text-slate-700":"bg-white text-indigo-600 shadow-sm"}`,children:"Masuk"}),C.jsx("button",{onClick:()=>s(!0),className:`flex-1 py-2 rounded-lg text-sm font-semibold transition-all duration-300 ${i?"bg-white text-indigo-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Daftar"})]})}),C.jsxs("div",{className:"px-6 pb-6 flex-1 overflow-y-auto custom-scrollbar",children:[C.jsxs("form",{onSubmit:ae,className:"space-y-3",children:[i?C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[C.jsx(jt,{label:"ID Lembaga",type:"text",value:b,onChange:Y=>O(Y.target.value),placeholder:"Mis: SMKN1"}),C.jsx(jt,{label:"Nama Lembaga",type:"text",value:B,onChange:Y=>I(Y.target.value),placeholder:"Opsional",required:!1})]}),C.jsx(jt,{label:"Kelas (Opsional)",type:"text",value:$,onChange:Y=>le(Y.target.value),placeholder:"Mis: XII-RPL",required:!1}),C.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[C.jsx(jt,{label:"Username",type:"text",value:M,onChange:Y=>G(Y.target.value),placeholder:"@user"}),C.jsx(jt,{label:"No. HP",type:"tel",value:R,onChange:Y=>_(Y.target.value),placeholder:"08..."})]}),C.jsx(jt,{label:"Nama Lengkap",type:"text",value:v,onChange:Y=>x(Y.target.value),placeholder:"Nama Lengkap"}),C.jsx(jt,{label:"Email",type:"email",value:w,onChange:Y=>N(Y.target.value),placeholder:"email@sekolah.id"}),C.jsx(jt,{label:"Bio (Status)",type:"text",value:K,onChange:Y=>re(Y.target.value),placeholder:"Mis: Guru Matematika",required:!1}),C.jsx(jt,{label:"Link Foto (Opsional)",type:"url",value:te,onChange:Y=>ie(Y.target.value),placeholder:"https://...",required:!1})]}):C.jsx(jt,{label:"Akun",type:"text",value:d,onChange:Y=>m(Y.target.value),placeholder:"Email / Username / Phone"}),C.jsx(jt,{label:"Kata Sandi",type:"password",value:h,onChange:Y=>g(Y.target.value),placeholder:""}),C.jsx("button",{type:"submit",disabled:l,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-xl transition-all shadow-lg shadow-indigo-500/20 active:scale-[0.98] disabled:opacity-70 flex items-center justify-center gap-2 mt-4",children:l?C.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):C.jsx("span",{children:i?"Gabung Komunitas":"Masuk Aplikasi"})})]}),C.jsxs("div",{className:"relative my-4",children:[C.jsx("div",{className:"absolute inset-0 flex items-center",children:C.jsx("div",{className:"w-full border-t border-slate-200"})}),C.jsx("div",{className:"relative flex justify-center text-xs",children:C.jsx("span",{className:"px-2 bg-white text-slate-400 font-medium",children:"Atau"})})]}),C.jsxs("button",{onClick:n,type:"button",className:"w-full bg-white border-2 border-slate-100 text-slate-600 font-bold py-2.5 px-4 rounded-xl hover:bg-slate-50 hover:border-slate-200 transition-all flex items-center justify-center gap-2 group text-sm",children:[C.jsx("span",{className:"text-indigo-500 group-hover:scale-110 transition-transform",children:be.Rocket}),"Coba Demo Pengunjung"]})]})]})]})};class aE{getStorage(){const e=localStorage.getItem("chatqu_mock_db");return e?JSON.parse(e):{users:[],sessions:[],messages:[],contacts:[]}}setStorage(e){localStorage.setItem("chatqu_mock_db",JSON.stringify(e))}async loginDemo(){const e={id:"user-demo-1",name:"Pengunjung Demo",username:"demo_user",email:"demo@chatqu.com",phoneNumber:"0800000000",institutionId:"SMKN1",institutionName:"SMK Negeri 1 ChatQu",classId:"XII-RPL",className:"XII Rekayasa Perangkat Lunak",subClassId:"RPL",subClassName:"Jurusan RPL",bio:"Akun pengunjung sementara",avatarUrl:"https://api.dicebear.com/9.x/avataaars/svg?seed=Demo",createdAt:Date.now()},n=this.getStorage();return n.users.find(i=>i.id===e.id)||(n.users.push({...e,password:"demo-password"}),this.setStorage(n)),e}async registerUser(e){const n=this.getStorage();if(n.users.some(u=>u.email===e.email||u.username===e.username||u.phoneNumber===e.phoneNumber))throw new Error("Data sudah terdaftar.");const i={id:crypto.randomUUID(),name:e.name,email:e.email,username:e.username,phoneNumber:e.phoneNumber,password:e.password,avatarUrl:e.avatarUrl,bio:e.bio,institutionId:e.institutionId,institutionName:e.institutionName||e.institutionId,classId:e.classId||"",className:e.className||"",subClassId:e.subClassId||"",subClassName:e.subClassName||"",createdAt:Date.now()};n.users.push(i),this.setStorage(n);const{password:s,...l}=i;return l}async loginUser(e){if(e.identifier==="@admin"&&e.password==="admin")return{id:"admin-master",name:"Super Admin",email:"@admin",username:"admin",phoneNumber:"000",institutionId:"HQ",institutionName:"Headquarters",createdAt:Date.now(),avatarUrl:"",bio:"Administrator"};const i=this.getStorage().users.find(u=>(u.email===e.identifier||u.username===e.identifier||u.phoneNumber===e.identifier)&&u.password===e.password);if(!i)throw new Error("Akun/Sandi salah.");const{password:s,...l}=i;return l}async getAllUsers(){return this.getStorage().users.map(({password:n,...i})=>i)}async updateUser(e,n){const i=this.getStorage(),s=i.users.findIndex(l=>l.id===e);if(s===-1)throw new Error("User not found");i.users[s]={...i.users[s],...n},this.setStorage(i)}async searchUsers(e){return this.getStorage().users.filter(i=>i.username.toLowerCase().includes(e.toLowerCase())).map(({password:i,...s})=>s).slice(0,5)}async addContact(e,n){const i=this.getStorage(),s=i.users.find(u=>u.username===n);if(!s)throw new Error("Username tidak ditemukan.");if(s.id===e)throw new Error("Tidak bisa add diri sendiri.");if(i.contacts.find(u=>u.userId===e&&u.contactId===s.id||u.userId===s.id&&u.contactId===e))throw new Error("Sudah ada permintaan atau pertemanan.");i.contacts.push({id:crypto.randomUUID(),userId:e,contactId:s.id,status:"pending",createdAt:Date.now()}),this.setStorage(i)}async getContacts(e){const n=this.getStorage();return n.contacts.filter(i=>(i.userId===e||i.contactId===e)&&i.status==="accepted").map(i=>{const s=i.userId===e?i.contactId:i.userId,l=n.users.find(d=>d.id===s);let u;if(l){const{password:d,...m}=l;u=m}return{...i,contactUser:u}})}async getContactRequests(e){const n=this.getStorage();return n.contacts.filter(i=>i.contactId===e&&i.status==="pending").map(i=>{const s=n.users.find(u=>u.id===i.userId);let l;if(s){const{password:u,...d}=s;l=d}return{...i,contactUser:l}})}async respondContactRequest(e,n){const i=this.getStorage();if(n==="reject")i.contacts=i.contacts.filter(s=>s.id!==e);else{const s=i.contacts.find(l=>l.id===e);s&&(s.status="accepted")}this.setStorage(i)}async getSessions(e,n){const i=this.getStorage();if(e==="global"){const s=i.users.find(v=>v.id===n),l=s?s.institutionId:"UMUM",u=s?s.institutionName:"Lembaga",d=s?s.classId:null,m=s?s.className:null,h=[{id:"global-universe",type:"global",title:"ChatQu Universe",snippet:"Komunitas seluruh pengguna",category:"Semesta",createdAt:0,updatedAt:Date.now()},{id:`school-${l}`,type:"global",title:u||`Warga ${l}`,snippet:`Ruang lingkup ${l}`,category:"Sekolah",createdAt:0,updatedAt:Date.now()}];return d&&h.push({id:`class-${d}`,type:"global",title:m||`Kelas ${d}`,snippet:`Group Kelas ${d}`,category:"Kelas",createdAt:0,updatedAt:Date.now()}),[{id:"mapel-mtk",title:"Matematika"},{id:"mapel-indo",title:"B. Indonesia"},{id:"mapel-ing",title:"B. Inggris"},{id:"mapel-ipa",title:"Sains & IPA"},{id:"mapel-it",title:"Teknologi (IT)"}].forEach(v=>{h.push({id:v.id,type:"global",title:v.title,snippet:"Diskusi Mapel",category:"Mapel",createdAt:0,updatedAt:Date.now()})}),h}return i.sessions.filter(s=>s.type===e&&(!s.participants||s.participants.includes(n))).map(s=>{if(s.type==="private"&&s.participants){const l=s.participants.find(d=>d!==n),u=i.users.find(d=>d.id===l);if(u)return{...s,title:u.name,icon:u.avatarUrl}}return s}).sort((s,l)=>l.updatedAt-s.updatedAt)}async createSession(e,n,i=[]){const s=this.getStorage();let l=crypto.randomUUID();if(e==="private"&&i.length===2){const d=[...i].sort();l=`private-${d[0]}-${d[1]}`;const m=s.sessions.find(h=>h.id===l);if(m)return m}const u={id:l,type:e,title:n,participants:i,createdAt:Date.now(),updatedAt:Date.now(),snippet:"Mulai percakapan..."};return s.sessions.push(u),this.setStorage(s),u}async deleteSession(e){const n=this.getStorage();n.sessions=n.sessions.filter(i=>i.id!==e),n.messages=n.messages.filter(i=>i.sessionId!==e),this.setStorage(n)}async getMessages(e){const n=this.getStorage();return n.messages.filter(s=>s.sessionId===e).map(s=>{const l=n.users.find(u=>u.id===s.senderId);return{...s,senderAvatar:l?.avatarUrl}})}async saveMessage(e,n){const i=this.getStorage();if(n.sessionId=e,i.messages.push(n),!e.startsWith("global-")&&!e.startsWith("school-")&&!e.startsWith("class-")){const s=i.sessions.find(l=>l.id===e);s&&(s.updatedAt=Date.now(),s.snippet=n.content.substring(0,50))}this.setStorage(i)}hasSession(e){return this.getStorage().sessions.some(i=>i.id===e)}}class uE{getApiUrl(){return typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")?"http://127.0.0.1:8787/api":"https://YOUR_WORKER_URL_HERE/api"}async fetch(e,n){const i=`${this.getApiUrl()}${e}`,s=await fetch(i,{...n,headers:{"Content-Type":"application/json",...n?.headers}});if(!s.ok){let l=s.statusText;try{const u=await s.json();u.error&&(l=u.error)}catch{}throw new Error(l)}return await s.json()}async loginDemo(){throw new Error("Demo handled by hybrid")}async registerUser(e){return this.fetch("/register",{method:"POST",body:JSON.stringify(e)})}async loginUser(e){return this.fetch("/login",{method:"POST",body:JSON.stringify(e)})}async getAllUsers(){return this.fetch("/admin/users")}async updateUser(e,n){return this.fetch(`/admin/users/${e}`,{method:"PUT",body:JSON.stringify(n)})}async searchUsers(e){return this.fetch(`/users/search?q=${e}`)}async addContact(e,n){return this.fetch("/contacts",{method:"POST",body:JSON.stringify({currentUserId:e,targetUsername:n})})}async getContacts(e){return this.fetch(`/contacts?status=accepted&userId=${e}`)}async getContactRequests(e){return this.fetch(`/contacts?status=pending&userId=${e}`)}async respondContactRequest(e,n){return this.fetch(`/contacts/${e}`,{method:"PUT",body:JSON.stringify({action:n})})}async getSessions(e,n){return this.fetch(`/sessions?type=${e}&userId=${n}`)}async createSession(e,n,i=[]){return this.fetch("/sessions",{method:"POST",body:JSON.stringify({type:e,title:n,participants:i})})}async deleteSession(e){await this.fetch(`/sessions/${e}`,{method:"DELETE"})}async getMessages(e){return this.fetch(`/messages/${e}`)}async saveMessage(e,n){await this.fetch("/messages",{method:"POST",body:JSON.stringify({sessionId:e,message:n})})}}class cE{api=new uE;mock=new aE;useMock=!1;async tryRequest(e,n){if(this.useMock)return n();try{return await e()}catch(i){console.warn("Backend API unreachable, switching to Offline.",i);const s=i.message;if(s.includes("Failed to fetch")||s.includes("Not Found")||s.includes("Endpoint"))return this.useMock=!0,n();throw i}}isOfflineMode(){return this.useMock}async loginDemo(){return this.useMock=!0,this.mock.loginDemo()}registerUser(e){return this.tryRequest(()=>this.api.registerUser(e),()=>this.mock.registerUser(e))}loginUser(e){return this.tryRequest(()=>this.api.loginUser(e),()=>this.mock.loginUser(e))}getAllUsers(){return this.tryRequest(()=>this.api.getAllUsers(),()=>this.mock.getAllUsers())}updateUser(e,n){return this.tryRequest(()=>this.api.updateUser(e,n),()=>this.mock.updateUser(e,n))}searchUsers(e){return this.tryRequest(()=>this.api.searchUsers(e),()=>this.mock.searchUsers(e))}addContact(e,n){return this.tryRequest(()=>this.api.addContact(e,n),()=>this.mock.addContact(e,n))}getContacts(e){return this.tryRequest(()=>this.api.getContacts(e),()=>this.mock.getContacts(e))}getContactRequests(e){return this.tryRequest(()=>this.api.getContactRequests(e),()=>this.mock.getContactRequests(e))}respondContactRequest(e,n){return this.tryRequest(()=>this.api.respondContactRequest(e,n),()=>this.mock.respondContactRequest(e,n))}getSessions(e,n){return e==="ai"?this.mock.getSessions(e,n):this.tryRequest(()=>this.api.getSessions(e,n),()=>this.mock.getSessions(e,n))}createSession(e,n,i=[]){return e==="ai"?this.mock.createSession(e,n,i):this.tryRequest(()=>this.api.createSession(e,n,i),()=>this.mock.createSession(e,n,i))}deleteSession(e){return this.mock.hasSession(e)?this.mock.deleteSession(e):this.tryRequest(()=>this.api.deleteSession(e),()=>this.mock.deleteSession(e))}getMessages(e){return this.mock.hasSession(e)?this.mock.getMessages(e):this.tryRequest(()=>this.api.getMessages(e),()=>this.mock.getMessages(e))}saveMessage(e,n){return this.mock.hasSession(e)?this.mock.saveMessage(e,n):this.tryRequest(()=>this.api.saveMessage(e,n),()=>this.mock.saveMessage(e,n))}}const Ye=new cE,dE=({currentUserId:t,onClose:e,onStartChat:n})=>{const[i,s]=ve.useState("contacts"),[l,u]=ve.useState([]),[d,m]=ve.useState([]),[h,g]=ve.useState([]),[v,x]=ve.useState(""),[w,N]=ve.useState(!1);ve.useEffect(()=>{R(),_()},[t]);const R=async()=>{try{const B=await Ye.getContacts(t);u(B)}catch(B){console.error(B)}},_=async()=>{try{const B=await Ye.getContactRequests(t);m(B)}catch(B){console.error(B)}},M=async B=>{if(B.preventDefault(),!!v.trim()){N(!0);try{const I=await Ye.searchUsers(v);g(I.filter($=>$.id!==t))}catch{alert("Gagal mencari")}finally{N(!1)}}},G=async B=>{N(!0);try{await Ye.addContact(t,B),alert("Permintaan pertemanan dikirim!"),g([]),x("")}catch(I){alert("Gagal: "+I.message)}finally{N(!1)}},b=async(B,I)=>{N(!0);try{await Ye.respondContactRequest(B,I),await _(),I==="accept"&&await R()}catch{alert("Gagal memproses.")}finally{N(!1)}},O=({url:B,name:I})=>B?C.jsx("img",{src:B,alt:I,className:"w-12 h-12 rounded-2xl object-cover bg-slate-100 border border-slate-200"}):C.jsx("div",{className:"w-12 h-12 bg-white border border-slate-200 rounded-2xl flex items-center justify-center text-indigo-600 font-bold text-lg shadow-sm",children:I.charAt(0)});return C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4 animate-fade-in-up",children:C.jsxs("div",{className:"bg-white w-full max-w-md rounded-3xl shadow-2xl overflow-hidden flex flex-col h-[600px] transform transition-all",children:[C.jsxs("div",{className:"p-5 border-b border-slate-100 flex justify-between items-center bg-white/80 backdrop-blur sticky top-0 z-10",children:[C.jsx("h2",{className:"font-bold text-xl text-slate-800 tracking-tight",children:"Kontak & Teman"}),C.jsx("button",{onClick:e,className:"bg-slate-100 hover:bg-red-50 hover:text-red-500 text-slate-500 p-2 rounded-full transition-colors",children:be.XMark})]}),C.jsx("div",{className:"flex p-2 bg-slate-50 gap-1 border-b border-slate-100",children:[{id:"contacts",label:"Teman"},{id:"add",label:"Cari"},{id:"requests",label:"Request"}].map(B=>C.jsxs("button",{onClick:()=>s(B.id),className:`flex-1 py-2.5 text-xs font-bold uppercase tracking-wider rounded-xl transition-all ${i===B.id?"bg-white text-indigo-600 shadow-sm ring-1 ring-black/5":"text-slate-400 hover:text-slate-600 hover:bg-slate-200/50"}`,children:[B.label,B.id==="requests"&&d.length>0&&C.jsx("span",{className:"ml-1.5 bg-red-500 text-white text-[9px] px-1.5 py-0.5 rounded-full",children:d.length})]},B.id))}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-4 bg-white custom-scrollbar",children:[i==="contacts"&&C.jsxs("div",{className:"space-y-2",children:[l.length===0&&C.jsxs("div",{className:"flex flex-col items-center justify-center h-48 opacity-50",children:[C.jsx("div",{className:"scale-150 mb-4 text-slate-300",children:be.UserGroup}),C.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Belum ada teman."})]}),l.map(B=>{const I=B.contactUser;return I?C.jsxs("div",{onClick:()=>n(I),className:"group flex items-center gap-4 p-3.5 bg-slate-50 border border-transparent hover:border-indigo-100 hover:bg-indigo-50/30 rounded-2xl cursor-pointer transition-all",children:[C.jsx(O,{url:I.avatarUrl,name:I.name}),C.jsxs("div",{className:"flex-1",children:[C.jsxs("div",{className:"font-bold text-slate-800 flex items-center gap-2",children:[I.name,C.jsx("span",{className:"text-[9px] bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded font-bold uppercase",children:I.institutionId})]}),C.jsxs("div",{className:"text-xs text-slate-500 font-medium",children:["@",I.username,"  ",I.bio||"-"]})]}),C.jsx("div",{className:"text-slate-300 group-hover:text-indigo-600 transition-colors bg-white p-2 rounded-full shadow-sm",children:be.ChatBubble})]},B.id):null})]}),i==="add"&&C.jsxs("div",{className:"animate-fade-in-up",children:[C.jsxs("form",{onSubmit:M,className:"flex gap-2 mb-6 relative",children:[C.jsx("div",{className:"absolute left-3.5 top-3 text-slate-400",children:be.Search}),C.jsx("input",{type:"text",value:v,onChange:B=>x(B.target.value),placeholder:"Cari username...",className:"flex-1 pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none text-sm font-medium transition-all"}),C.jsx("button",{type:"submit",disabled:w,className:"bg-slate-900 text-white px-5 rounded-xl font-medium text-sm hover:bg-slate-800 transition-colors",children:"Cari"})]}),C.jsx("div",{className:"space-y-3",children:h.map(B=>C.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-2xl border border-slate-100 shadow-sm",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx(O,{url:B.avatarUrl,name:B.name}),C.jsxs("div",{children:[C.jsxs("div",{className:"font-bold text-slate-800 flex items-center gap-2",children:[B.name,C.jsx("span",{className:"text-[9px] bg-slate-200 text-slate-600 px-1.5 py-0.5 rounded font-bold uppercase",children:B.institutionId})]}),C.jsxs("div",{className:"text-xs text-slate-500",children:["@",B.username,"  ",B.bio||"Warga Sekolah"]})]})]}),C.jsx("button",{onClick:()=>G(B.username),disabled:w,className:"text-xs font-bold bg-indigo-50 text-indigo-600 px-4 py-2 rounded-lg hover:bg-indigo-100 transition-colors",children:"+ ADD"})]},B.id))})]}),i==="requests"&&C.jsx("div",{className:"space-y-3",children:d.map(B=>{const I=B.contactUser;return I?C.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-slate-100 shadow-sm animate-fade-in-up",children:[C.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[C.jsx(O,{url:I.avatarUrl,name:I.name}),C.jsxs("div",{children:[C.jsxs("div",{className:"font-bold text-sm text-slate-800",children:[I.name," ",C.jsx("span",{className:"text-[9px] bg-slate-100 px-1 rounded",children:I.institutionId})]}),C.jsx("div",{className:"text-xs text-slate-500",children:"Ingin berteman"})]})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{onClick:()=>b(B.id,"accept"),disabled:w,className:"flex-1 bg-indigo-600 text-white py-2 rounded-xl text-xs font-bold hover:bg-indigo-700 transition-colors shadow-md shadow-indigo-200",children:"TERIMA"}),C.jsx("button",{onClick:()=>b(B.id,"reject"),disabled:w,className:"flex-1 bg-slate-50 text-slate-600 py-2 rounded-xl text-xs font-bold hover:bg-slate-100 transition-colors border border-slate-200",children:"TOLAK"})]})]},B.id):null})})]})]})})},Dt=({label:t,value:e,onChange:n,placeholder:i,type:s="text",required:l=!0,disabled:u=!1,className:d="",list:m=""})=>C.jsxs("div",{className:`mb-0 ${d}`,children:[C.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-1.5",children:t}),C.jsx("input",{type:s,value:e,onChange:n,placeholder:i,required:l,disabled:u,list:m,className:`w-full px-4 py-2.5 rounded-xl text-sm font-medium outline-none transition-all ${u?"bg-slate-100 text-slate-500 border border-slate-200 cursor-not-allowed":"bg-white border border-slate-200 text-slate-800 focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500"}`})]}),Qa=({title:t,icon:e,children:n})=>C.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-xl p-5 mb-5",children:[C.jsxs("h3",{className:"text-xs font-bold text-indigo-600 uppercase tracking-widest mb-4 flex items-center gap-2 border-b border-slate-200 pb-2",children:[e," ",t]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n})]}),fE=({onLogout:t})=>{const[e,n]=ve.useState([]),[i,s]=ve.useState(!0),[l,u]=ve.useState(""),[d,m]=ve.useState("idle"),[h,g]=ve.useState(null),[v,x]=ve.useState({id:"",name:"",username:"",email:"",phoneNumber:"",password:"",avatarUrl:"",bio:"",institutionId:"",institutionName:"",classId:"",className:"",subClassId:"",subClassName:""}),[w,N]=ve.useState(!1),R=async()=>{s(!0);try{const I=await Ye.getAllUsers();n(I)}catch{alert("Gagal memuat data user.")}finally{s(!1)}};ve.useEffect(()=>{R()},[]);const _=Array.from(new Set(e.map(I=>I.institutionId).filter(Boolean))).sort(),M=Array.from(new Set(e.map(I=>I.classId).filter(Boolean))).sort(),G=()=>{m("create"),g(null),x({id:"Auto-generated",name:"",username:"",email:"",phoneNumber:"",password:"",avatarUrl:"",bio:"",institutionId:"",institutionName:"",classId:"",className:"",subClassId:"",subClassName:""})},b=I=>{m("edit"),g(I.id),x({id:I.id,name:I.name,username:I.username,email:I.email,phoneNumber:I.phoneNumber,password:"",avatarUrl:I.avatarUrl||"",bio:I.bio||"",institutionId:I.institutionId,institutionName:I.institutionName,classId:I.classId||"",className:I.className||"",subClassId:I.subClassId||"",subClassName:I.subClassName||""})},O=async I=>{I.preventDefault(),N(!0);try{const $={...v,username:v.username.replace(/\s+/g,"").toLowerCase()};if(d==="create"){const{id:le,...K}=$;await Ye.registerUser(K),alert("Akun berhasil dibuat!"),await R(),m("idle")}else if(d==="edit"&&h){const{id:le,password:K,...re}=$,te={...re};K&&(te.password=K),await Ye.updateUser(h,te),alert("Data pengguna diperbarui!"),await R()}}catch($){alert("Gagal: "+$.message)}finally{N(!1)}},B=e.filter(I=>I.name.toLowerCase().includes(l.toLowerCase())||I.institutionId.toLowerCase().includes(l.toLowerCase())||I.email.toLowerCase().includes(l.toLowerCase()));return C.jsxs("div",{className:"h-screen bg-slate-100 flex flex-col font-sans overflow-hidden",children:[C.jsx("header",{className:"bg-slate-900 text-white shadow-md shrink-0 z-20",children:C.jsxs("div",{className:"w-full px-6 py-4 flex justify-between items-center",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg",children:be.Globe}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"ChatQu Admin"}),C.jsx("p",{className:"text-xs text-slate-400",children:"Master Data Management"})]})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("div",{className:"text-right hidden md:block",children:[C.jsx("div",{className:"text-sm font-bold",children:"Super Admin"}),C.jsx("div",{className:"text-xs text-green-400",children:" Online"})]}),C.jsxs("button",{onClick:t,className:"bg-slate-800 hover:bg-red-600 text-slate-300 hover:text-white px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2",children:[be.Logout," Keluar"]})]})]})}),C.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[C.jsxs("aside",{className:"w-full md:w-[400px] bg-white border-r border-slate-200 flex flex-col shrink-0 z-10",children:[C.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50",children:[C.jsxs("button",{onClick:G,className:"w-full mb-4 bg-indigo-600 hover:bg-indigo-700 text-white py-3 rounded-xl font-bold text-sm shadow-md shadow-indigo-200 transition-all flex items-center justify-center gap-2",children:[be.Plus," Tambah Akun Baru"]}),C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"text",placeholder:"Cari user...",className:"w-full pl-10 pr-4 py-2.5 rounded-xl border border-slate-200 bg-white focus:ring-2 focus:ring-indigo-500/20 outline-none text-sm",value:l,onChange:I=>u(I.target.value)}),C.jsx("div",{className:"absolute left-3.5 top-2.5 text-slate-400",children:be.Search})]})]}),C.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 space-y-2",children:i?C.jsx("div",{className:"text-center p-8 text-slate-400 text-sm",children:"Memuat data..."}):B.length===0?C.jsx("div",{className:"text-center p-8 text-slate-400 text-sm",children:"Tidak ada data."}):B.map(I=>C.jsxs("div",{onClick:()=>b(I),className:`p-3 rounded-xl cursor-pointer border transition-all flex items-center gap-3 group ${h===I.id?"bg-indigo-50 border-indigo-200 ring-1 ring-indigo-200 shadow-sm":"bg-white border-transparent hover:border-slate-200 hover:bg-slate-50"}`,children:[C.jsx("div",{className:"shrink-0 relative",children:I.avatarUrl?C.jsx("img",{src:I.avatarUrl,alt:"",className:"w-10 h-10 rounded-full object-cover bg-slate-200"}):C.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm ${h===I.id?"bg-indigo-200 text-indigo-700":"bg-slate-100 text-slate-500"}`,children:I.name.charAt(0)})}),C.jsxs("div",{className:"min-w-0 flex-1",children:[C.jsx("div",{className:"flex justify-between items-start",children:C.jsx("div",{className:`font-bold text-sm truncate ${h===I.id?"text-indigo-900":"text-slate-700"}`,children:I.name})}),C.jsx("div",{className:"text-[11px] text-slate-400 truncate mt-0.5",children:I.className||"Tanpa Kelas"}),C.jsx("div",{className:"text-[10px] bg-slate-100 inline-block px-1.5 rounded mt-1 text-slate-500 font-bold uppercase",children:I.institutionId})]})]},I.id))})]}),C.jsx("main",{className:"flex-1 bg-white overflow-y-auto custom-scrollbar p-4 md:p-8 flex justify-center",children:d==="idle"?C.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 max-w-md text-center opacity-60",children:[C.jsx("div",{className:"w-24 h-24 bg-slate-50 rounded-full flex items-center justify-center mb-6 shadow-sm",children:be.UserCircle}),C.jsx("h3",{className:"text-xl font-bold text-slate-600",children:"Pilih Pengguna"}),C.jsx("p",{children:"Klik nama pengguna di sebelah kiri untuk melihat detail."})]}):C.jsx("div",{className:"w-full max-w-3xl animate-scale-in",children:C.jsxs("form",{onSubmit:O,children:[C.jsxs("div",{className:"flex justify-between items-end mb-6 pb-4 border-b border-slate-100",children:[C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:d==="create"?"Buat Akun Baru":"Edit Data Pengguna"}),C.jsx("p",{className:"text-slate-500 text-sm",children:"Pastikan ID Lembaga dan Kelas sesuai dengan standar sekolah."})]}),C.jsxs("div",{className:"flex gap-2",children:[C.jsx("button",{type:"button",onClick:()=>m("idle"),className:"px-4 py-2 text-sm font-bold text-slate-500 hover:bg-slate-100 rounded-lg",children:"Batal"}),C.jsx("button",{type:"submit",disabled:w,className:"px-6 py-2 text-sm font-bold text-white bg-indigo-600 hover:bg-indigo-700 rounded-lg shadow-lg shadow-indigo-200 disabled:opacity-70",children:w?"Menyimpan...":"Simpan Perubahan"})]})]}),C.jsxs(Qa,{title:"Data Lembaga (Sekolah/Kampus)",icon:be.Globe,children:[C.jsxs("div",{children:[C.jsx(Dt,{label:"ID Lembaga (Code)",value:v.institutionId,onChange:I=>x({...v,institutionId:I.target.value}),placeholder:"Mis: SMKN1",list:"institutionList",className:"font-mono"}),C.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"*Kode unik sekolah"})]}),C.jsx("div",{children:C.jsx(Dt,{label:"Nama Lembaga",value:v.institutionName,onChange:I=>x({...v,institutionName:I.target.value}),placeholder:"Mis: SMK Negeri 1 Jakarta"})})]}),C.jsxs(Qa,{title:"Data Kelas",icon:be.UserGroup,children:[C.jsx("div",{children:C.jsx(Dt,{label:"ID Kelas (Code)",value:v.classId,onChange:I=>x({...v,classId:I.target.value}),placeholder:"Mis: XII-RPL",list:"classList",required:!1,className:"font-mono text-teal-700"})}),C.jsx("div",{children:C.jsx(Dt,{label:"Nama Kelas",value:v.className,onChange:I=>x({...v,className:I.target.value}),placeholder:"Mis: XII Rekayasa Perangkat Lunak",required:!1})})]}),C.jsxs(Qa,{title:"Sub Kelas / Mapel / Jurusan",icon:be.Check,children:[C.jsx("div",{children:C.jsx(Dt,{label:"ID Sub Kelas (Code)",value:v.subClassId,onChange:I=>x({...v,subClassId:I.target.value}),placeholder:"Mis: MAPEL-MTK",required:!1,className:"font-mono text-orange-700"})}),C.jsx("div",{children:C.jsx(Dt,{label:"Nama Sub Kelas",value:v.subClassName,onChange:I=>x({...v,subClassName:I.target.value}),placeholder:"Mis: Matematika Wajib",required:!1})})]}),C.jsxs("div",{className:"bg-white rounded-xl p-5 mb-5 border border-slate-200 shadow-sm",children:[C.jsx("h3",{className:"text-xs font-bold text-slate-800 uppercase tracking-widest mb-6 border-b border-slate-100 pb-2",children:"Data Pribadi Pengguna"}),C.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-slate-400 uppercase tracking-wide mb-1.5",children:"ID Pengguna (System)"}),C.jsx("div",{className:"font-mono text-xs text-slate-500 bg-slate-100 p-3 rounded-xl border border-slate-200",children:v.id})]}),C.jsxs("div",{children:[C.jsx(Dt,{label:"Username (Unik)",value:v.username,onChange:I=>x({...v,username:I.target.value}),placeholder:"@username",className:"mb-0"}),C.jsx("p",{className:"text-[10px] text-slate-400 mt-1",children:"*Tanpa spasi"})]})]}),C.jsx(Dt,{label:"Nama Lengkap Pengguna",value:v.name,onChange:I=>x({...v,name:I.target.value}),placeholder:"Nama Lengkap",className:"mb-4"}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[C.jsx(Dt,{label:"Email",value:v.email,onChange:I=>x({...v,email:I.target.value}),placeholder:"email@domain.com",type:"email"}),C.jsx(Dt,{label:"Nomor Handphone",value:v.phoneNumber,onChange:I=>x({...v,phoneNumber:I.target.value}),placeholder:"08..."})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[C.jsx(Dt,{label:"Bio / Jabatan",value:v.bio,onChange:I=>x({...v,bio:I.target.value}),placeholder:"Mis: Siswa",required:!1}),C.jsx(Dt,{label:"URL Foto Profil",value:v.avatarUrl,onChange:I=>x({...v,avatarUrl:I.target.value}),placeholder:"https://...",required:!1})]}),C.jsxs("div",{className:"bg-yellow-50 border border-yellow-100 p-4 rounded-xl mt-6",children:[C.jsx("h4",{className:"text-xs font-bold text-yellow-800 uppercase mb-2",children:"Keamanan"}),C.jsx(Dt,{label:d==="create"?"Password Baru":"Reset Password (Opsional)",value:v.password,onChange:I=>x({...v,password:I.target.value}),placeholder:"",required:d==="create",type:"password",className:"bg-white mb-0"})]})]})]})})})]}),C.jsx("datalist",{id:"institutionList",children:_.map((I,$)=>C.jsx("option",{value:I},$))}),C.jsx("datalist",{id:"classList",children:M.map((I,$)=>C.jsx("option",{value:I},$))})]})};var pE={};let hE,mE;function gE(){return{geminiUrl:hE,vertexUrl:mE}}function yE(t,e,n,i){var s,l;if(!t?.baseUrl){const u=gE();return e?(s=u.vertexUrl)!==null&&s!==void 0?s:n:(l=u.geminiUrl)!==null&&l!==void 0?l:i}return t.baseUrl}class Tn{}function oe(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const l=e[s];return l!=null?String(l):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function f(t,e,n){for(let l=0;l<e.length-1;l++){const u=e[l];if(u.endsWith("[]")){const d=u.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[d])){const m=t[d];if(Array.isArray(n))for(let h=0;h<m.length;h++){const g=m[h];f(g,e.slice(l+1),n[h])}else for(const h of m)f(h,e.slice(l+1),n)}return}else if(u.endsWith("[0]")){const d=u.slice(0,-3);d in t||(t[d]=[{}]);const m=t[d];f(m[0],e.slice(l+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const i=e[e.length-1],s=t[i];if(s!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===s)return;if(typeof s=="object"&&typeof n=="object"&&s!==null&&n!==null)Object.assign(s,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[i]=n}function c(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return n;const s=e[i];if(s.endsWith("[]")){const l=s.slice(0,-2);if(l in t){const u=t[l];return Array.isArray(u)?u.map(d=>c(d,e.slice(i+1),n)):n}else return n}else t=t[s]}return t}catch(i){if(i instanceof TypeError)return n;throw i}}function vE(t,e){for(const[n,i]of Object.entries(e)){const s=n.split("."),l=i.split("."),u=new Set;let d=-1;for(let m=0;m<s.length;m++)if(s[m]==="*"){d=m;break}if(d!==-1&&l.length>d)for(let m=d;m<l.length;m++){const h=l[m];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&u.add(h)}uu(t,s,l,0,u)}}function uu(t,e,n,i,s){if(i>=e.length||typeof t!="object"||t===null)return;const l=e[i];if(l.endsWith("[]")){const u=l.slice(0,-2),d=t;if(u in d&&Array.isArray(d[u]))for(const m of d[u])uu(m,e,n,i+1,s)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const u=t,d=Object.keys(u).filter(h=>!h.startsWith("_")&&!s.has(h)),m={};for(const h of d)m[h]=u[h];for(const[h,g]of Object.entries(m)){const v=[];for(const x of n.slice(i))x==="*"?v.push(h):v.push(x);f(u,v,g)}for(const h of d)delete u[h]}}else{const u=t;l in u&&uu(u[l],e,n,i+1,s)}}function Vu(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function xE(t){const e={},n=c(t,["operationName"]);n!=null&&f(e,["operationName"],n);const i=c(t,["resourceName"]);return i!=null&&f(e,["_url","resourceName"],i),e}function SE(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=c(t,["done"]);s!=null&&f(e,["done"],s);const l=c(t,["error"]);l!=null&&f(e,["error"],l);const u=c(t,["response","generateVideoResponse"]);return u!=null&&f(e,["response"],EE(u)),e}function wE(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=c(t,["done"]);s!=null&&f(e,["done"],s);const l=c(t,["error"]);l!=null&&f(e,["error"],l);const u=c(t,["response"]);return u!=null&&f(e,["response"],CE(u)),e}function EE(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>TE(u))),f(e,["generatedVideos"],l)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=c(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function CE(t){const e={},n=c(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>_E(u))),f(e,["generatedVideos"],l)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=c(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function TE(t){const e={},n=c(t,["video"]);return n!=null&&f(e,["video"],PE(n)),e}function _E(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],ME(n)),e}function IE(t){const e={},n=c(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function kE(t){const e={},n=c(t,["operationName"]);return n!=null&&f(e,["_url","operationName"],n),e}function AE(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=c(t,["done"]);s!=null&&f(e,["done"],s);const l=c(t,["error"]);l!=null&&f(e,["error"],l);const u=c(t,["response"]);return u!=null&&f(e,["response"],NE(u)),e}function NE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["parent"]);i!=null&&f(e,["parent"],i);const s=c(t,["documentName"]);return s!=null&&f(e,["documentName"],s),e}function Bm(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=c(t,["done"]);s!=null&&f(e,["done"],s);const l=c(t,["error"]);l!=null&&f(e,["error"],l);const u=c(t,["response"]);return u!=null&&f(e,["response"],RE(u)),e}function RE(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["parent"]);i!=null&&f(e,["parent"],i);const s=c(t,["documentName"]);return s!=null&&f(e,["documentName"],s),e}function PE(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["uri"],n);const i=c(t,["encodedVideo"]);i!=null&&f(e,["videoBytes"],Vu(i));const s=c(t,["encoding"]);return s!=null&&f(e,["mimeType"],s),e}function ME(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],Vu(i));const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}var _p;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(_p||(_p={}));var Ip;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Ip||(Ip={}));var kp;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(kp||(kp={}));var Yn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Yn||(Yn={}));var Ap;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ap||(Ap={}));var Np;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Np||(Np={}));var Rp;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Rp||(Rp={}));var Pp;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Pp||(Pp={}));var Mp;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Mp||(Mp={}));var Dp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Dp||(Dp={}));var Lp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Lp||(Lp={}));var Up;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Up||(Up={}));var bp;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(bp||(bp={}));var Fp;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Fp||(Fp={}));var Vp;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Vp||(Vp={}));var Bp;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Bp||(Bp={}));var Gp;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Gp||(Gp={}));var Hp;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Hp||(Hp={}));var zp;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(zp||(zp={}));var qp;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(qp||(qp={}));var Op;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Op||(Op={}));var Rs;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Rs||(Rs={}));var $p;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})($p||($p={}));var Jp;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Jp||(Jp={}));var Wp;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Wp||(Wp={}));var cu;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(cu||(cu={}));var Kp;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Kp||(Kp={}));var Yp;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Yp||(Yp={}));var Qp;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Qp||(Qp={}));var Xp;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Xp||(Xp={}));var Zp;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Zp||(Zp={}));var jp;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(jp||(jp={}));var eh;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(eh||(eh={}));var th;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(th||(th={}));var nh;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(nh||(nh={}));var rh;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(rh||(rh={}));var ih;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ih||(ih={}));var oh;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(oh||(oh={}));var sh;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(sh||(sh={}));var lh;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(lh||(lh={}));var ah;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(ah||(ah={}));var uh;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(uh||(uh={}));var ch;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(ch||(ch={}));var dh;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(dh||(dh={}));var fh;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(fh||(fh={}));var ph;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(ph||(ph={}));var hh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(hh||(hh={}));var mh;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(mh||(mh={}));var gh;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gh||(gh={}));var yh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yh||(yh={}));var vh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(vh||(vh={}));var xh;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(xh||(xh={}));var Sh;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Sh||(Sh={}));var wh;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(wh||(wh={}));var $r;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})($r||($r={}));class du{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Wi{get text(){var e,n,i,s,l,u,d,m;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",g=!1;const v=[];for(const x of(m=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&m!==void 0?m:[]){for(const[w,N]of Object.entries(x))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(N!==null||N!==void 0)&&v.push(w);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;g=!0,h+=x.text}}return v.length>0&&console.warn(`there are non-text parts ${v} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?h:void 0}get data(){var e,n,i,s,l,u,d,m;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const g=[];for(const v of(m=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)!==null&&m!==void 0?m:[]){for(const[x,w]of Object.entries(v))x!=="inlineData"&&(w!==null||w!==void 0)&&g.push(x);v.inlineData&&typeof v.inlineData.data=="string"&&(h+=atob(v.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,i,s,l,u,d,m;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(m=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||m===void 0?void 0:m.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if(h?.length!==0)return h}get executableCode(){var e,n,i,s,l,u,d,m,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(m=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||m===void 0?void 0:m.filter(v=>v.executableCode).map(v=>v.executableCode).filter(v=>v!==void 0);if(g?.length!==0)return(h=g?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,i,s,l,u,d,m,h;if(((s=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(m=(d=(u=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content)===null||d===void 0?void 0:d.parts)===null||m===void 0?void 0:m.filter(v=>v.codeExecutionResult).map(v=>v.codeExecutionResult).filter(v=>v!==void 0);if(g?.length!==0)return(h=g?.[0])===null||h===void 0?void 0:h.output}}class Eh{}class Ch{}class DE{}class LE{}class UE{}class bE{}class Th{}class _h{}class Ih{}class FE{}class Ps{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Ps;let s;const l=e;return n?s=wE(l):s=SE(l),Object.assign(i,s),i}}class kh{}class Ah{}class Nh{}class Rh{}class VE{}class BE{}class GE{}class Bu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Bu,l=AE(e);return Object.assign(i,l),i}}class HE{}class zE{}class qE{}class Ph{}class OE{get text(){var e,n,i;let s="",l=!1;const u=[];for(const d of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[m,h]of Object.entries(d))m!=="text"&&m!=="thought"&&h!==null&&u.push(m);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;l=!0,s+=d.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?s:void 0}get data(){var e,n,i;let s="";const l=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,m]of Object.entries(u))d!=="inlineData"&&m!==null&&l.push(d);u.inlineData&&typeof u.inlineData.data=="string"&&(s+=atob(u.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class $E{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Gu{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const i=new Gu,l=Bm(e);return Object.assign(i,l),i}}function De(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Gm(t,e){const n=De(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Hm(t){return Array.isArray(t)?t.map(e=>Ms(e)):[Ms(t)]}function Ms(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function zm(t){const e=Ms(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qm(t){const e=Ms(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Mh(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Om(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Mh(e)):[Mh(t)]}function fu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Dh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Lh(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function pt(t){if(t==null)throw new Error("ContentUnion is required");return fu(t)?t:{role:"user",parts:Om(t)}}function Hu(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=pt(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=pt(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>pt(n)):[pt(e)]}function Ot(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Dh(t)||Lh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pt(t)]}const e=[],n=[],i=fu(t[0]);for(const s of t){const l=fu(s);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(s);else{if(Dh(s)||Lh(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(s)}}return i||e.push({role:"user",parts:Om(n)}),e}function JE(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(Yn).includes(n[0].toUpperCase())?n[0].toUpperCase():Yn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(Yn).includes(i.toUpperCase())?i.toUpperCase():Yn.TYPE_UNSPECIFIED})}}function Yr(t){const e={},n=["items"],i=["anyOf"],s=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&JE(t.type,e);for(const[u,d]of Object.entries(t))if(d!=null)if(u=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Yn).includes(d.toUpperCase())?d.toUpperCase():Yn.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=Yr(d);else if(i.includes(u)){const m=[];for(const h of d){if(h.type=="null"){e.nullable=!0;continue}m.push(Yr(h))}e[u]=m}else if(s.includes(u)){const m={};for(const[h,g]of Object.entries(d))m[h]=Yr(g);e[u]=m}else{if(u==="additionalProperties")continue;e[u]=d}return e}function zu(t){return Yr(t)}function qu(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Ou(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function jr(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Yr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Yr(e.response));return t}function ei(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function WE(t,e,n,i=1){const s=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:s?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:s?`${n}/${e}`:e}function _n(t,e){if(typeof e!="string")throw new Error("name must be a string");return WE(t,e,"cachedContents")}function $m(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Xn(t){return Vu(t)}function KE(t){return t!=null&&typeof t=="object"&&"name"in t}function YE(t){return t!=null&&typeof t=="object"&&"video"in t}function QE(t){return t!=null&&typeof t=="object"&&"uri"in t}function Jm(t){var e;let n;if(KE(t)&&(n=t.name),!(QE(t)&&(n=t.uri,n===void 0))&&!(YE(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const s=n.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${n}`);n=s[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Wm(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Km(t){for(const e of["models","tunedModels","publisherModels"])if(XE(t,e))return t[e];return[]}function XE(t,e){return t!==null&&typeof t=="object"&&e in t}function ZE(t,e={}){const n=t,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function jE(t,e={}){const n=[],i=new Set;for(const s of t){const l=s.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const u=ZE(s,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function Ym(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,s=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(s>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function eC(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Qm(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const s=n.inlinedResponses;if(!Array.isArray(s)||s.length===0)return t;let l=!1;for(const u of s){if(typeof u!="object"||u===null)continue;const m=u.response;if(typeof m!="object"||m===null)continue;if(m.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function ti(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Xm(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}function tC(t){const e={},n=c(t,["responsesFile"]);n!=null&&f(e,["fileName"],n);const i=c(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>UC(u))),f(e,["inlinedResponses"],l)}const s=c(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["inlinedEmbedContentResponses"],l)}return e}function nC(t){const e={},n=c(t,["predictionsFormat"]);n!=null&&f(e,["format"],n);const i=c(t,["gcsDestination","outputUriPrefix"]);i!=null&&f(e,["gcsUri"],i);const s=c(t,["bigqueryDestination","outputUri"]);return s!=null&&f(e,["bigqueryUri"],s),e}function rC(t){const e={},n=c(t,["format"]);n!=null&&f(e,["predictionsFormat"],n);const i=c(t,["gcsUri"]);i!=null&&f(e,["gcsDestination","outputUriPrefix"],i);const s=c(t,["bigqueryUri"]);if(s!=null&&f(e,["bigqueryDestination","outputUri"],s),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Is(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata","displayName"]);i!=null&&f(e,["displayName"],i);const s=c(t,["metadata","state"]);s!=null&&f(e,["state"],Xm(s));const l=c(t,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const u=c(t,["metadata","endTime"]);u!=null&&f(e,["endTime"],u);const d=c(t,["metadata","updateTime"]);d!=null&&f(e,["updateTime"],d);const m=c(t,["metadata","model"]);m!=null&&f(e,["model"],m);const h=c(t,["metadata","output"]);return h!=null&&f(e,["dest"],tC(Qm(h))),e}function pu(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=c(t,["state"]);s!=null&&f(e,["state"],Xm(s));const l=c(t,["error"]);l!=null&&f(e,["error"],l);const u=c(t,["createTime"]);u!=null&&f(e,["createTime"],u);const d=c(t,["startTime"]);d!=null&&f(e,["startTime"],d);const m=c(t,["endTime"]);m!=null&&f(e,["endTime"],m);const h=c(t,["updateTime"]);h!=null&&f(e,["updateTime"],h);const g=c(t,["model"]);g!=null&&f(e,["model"],g);const v=c(t,["inputConfig"]);v!=null&&f(e,["src"],iC(v));const x=c(t,["outputConfig"]);x!=null&&f(e,["dest"],nC(Qm(x)));const w=c(t,["completionStats"]);return w!=null&&f(e,["completionStats"],w),e}function iC(t){const e={},n=c(t,["instancesFormat"]);n!=null&&f(e,["format"],n);const i=c(t,["gcsSource","uris"]);i!=null&&f(e,["gcsUri"],i);const s=c(t,["bigquerySource","inputUri"]);return s!=null&&f(e,["bigqueryUri"],s),e}function oC(t,e){const n={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=c(e,["fileName"]);i!=null&&f(n,["fileName"],i);const s=c(e,["inlinedRequests"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>LC(t,u))),f(n,["requests","requests"],l)}return n}function sC(t){const e={},n=c(t,["format"]);n!=null&&f(e,["instancesFormat"],n);const i=c(t,["gcsUri"]);i!=null&&f(e,["gcsSource","uris"],i);const s=c(t,["bigqueryUri"]);if(s!=null&&f(e,["bigquerySource","inputUri"],s),c(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function lC(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function aC(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],ti(t,i)),n}function uC(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],ti(t,i)),n}function cC(t){const e={},n=c(t,["content"]);n!=null&&f(e,["content"],n);const i=c(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],dC(i));const s=c(t,["tokenCount"]);s!=null&&f(e,["tokenCount"],s);const l=c(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const u=c(t,["avgLogprobs"]);u!=null&&f(e,["avgLogprobs"],u);const d=c(t,["groundingMetadata"]);d!=null&&f(e,["groundingMetadata"],d);const m=c(t,["index"]);m!=null&&f(e,["index"],m);const h=c(t,["logprobsResult"]);h!=null&&f(e,["logprobsResult"],h);const g=c(t,["safetyRatings"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(w=>w)),f(e,["safetyRatings"],x)}const v=c(t,["urlContextMetadata"]);return v!=null&&f(e,["urlContextMetadata"],v),e}function dC(t){const e={},n=c(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),f(e,["citations"],i)}return e}function Zm(t){const e={},n=c(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>zC(l))),f(e,["parts"],s)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function fC(t,e){const n={},i=c(t,["displayName"]);if(e!==void 0&&i!=null&&f(e,["batch","displayName"],i),c(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function pC(t,e){const n={},i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const s=c(t,["dest"]);return e!==void 0&&s!=null&&f(e,["outputConfig"],rC(eC(s))),n}function Uh(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["src"]);s!=null&&f(n,["batch","inputConfig"],oC(t,Ym(t,s)));const l=c(e,["config"]);return l!=null&&fC(l,n),n}function hC(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["model"],De(t,i));const s=c(e,["src"]);s!=null&&f(n,["inputConfig"],sC(Ym(t,s)));const l=c(e,["config"]);return l!=null&&pC(l,n),n}function mC(t,e){const n={},i=c(t,["displayName"]);return e!==void 0&&i!=null&&f(e,["batch","displayName"],i),n}function gC(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["src"]);s!=null&&f(n,["batch","inputConfig"],CC(t,s));const l=c(e,["config"]);return l!=null&&mC(l,n),n}function yC(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],ti(t,i)),n}function vC(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],ti(t,i)),n}function xC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["done"]);s!=null&&f(e,["done"],s);const l=c(t,["error"]);return l!=null&&f(e,["error"],l),e}function SC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["done"]);s!=null&&f(e,["done"],s);const l=c(t,["error"]);return l!=null&&f(e,["error"],l),e}function wC(t,e){const n={},i=c(e,["contents"]);if(i!=null){let l=Hu(t,i);Array.isArray(l)&&(l=l.map(u=>u)),f(n,["requests[]","request","content"],l)}const s=c(e,["config"]);return s!=null&&(f(n,["_self"],EC(s,n)),vE(n,{"requests[].*":"requests[].request.*"})),n}function EC(t,e){const n={},i=c(t,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);const s=c(t,["title"]);e!==void 0&&s!=null&&f(e,["requests[]","title"],s);const l=c(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function CC(t,e){const n={},i=c(e,["fileName"]);i!=null&&f(n,["file_name"],i);const s=c(e,["inlinedRequests"]);return s!=null&&f(n,["requests"],wC(t,s)),n}function TC(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function _C(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const i=c(t,["args"]);i!=null&&f(e,["args"],i);const s=c(t,["name"]);if(s!=null&&f(e,["name"],s),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function IC(t){const e={},n=c(t,["allowedFunctionNames"]);n!=null&&f(e,["allowedFunctionNames"],n);const i=c(t,["mode"]);if(i!=null&&f(e,["mode"],i),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function kC(t,e,n){const i={},s=c(e,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],Zm(pt(s)));const l=c(e,["temperature"]);l!=null&&f(i,["temperature"],l);const u=c(e,["topP"]);u!=null&&f(i,["topP"],u);const d=c(e,["topK"]);d!=null&&f(i,["topK"],d);const m=c(e,["candidateCount"]);m!=null&&f(i,["candidateCount"],m);const h=c(e,["maxOutputTokens"]);h!=null&&f(i,["maxOutputTokens"],h);const g=c(e,["stopSequences"]);g!=null&&f(i,["stopSequences"],g);const v=c(e,["responseLogprobs"]);v!=null&&f(i,["responseLogprobs"],v);const x=c(e,["logprobs"]);x!=null&&f(i,["logprobs"],x);const w=c(e,["presencePenalty"]);w!=null&&f(i,["presencePenalty"],w);const N=c(e,["frequencyPenalty"]);N!=null&&f(i,["frequencyPenalty"],N);const R=c(e,["seed"]);R!=null&&f(i,["seed"],R);const _=c(e,["responseMimeType"]);_!=null&&f(i,["responseMimeType"],_);const M=c(e,["responseSchema"]);M!=null&&f(i,["responseSchema"],zu(M));const G=c(e,["responseJsonSchema"]);if(G!=null&&f(i,["responseJsonSchema"],G),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=c(e,["safetySettings"]);if(n!==void 0&&b!=null){let ae=b;Array.isArray(ae)&&(ae=ae.map(Y=>qC(Y))),f(n,["safetySettings"],ae)}const O=c(e,["tools"]);if(n!==void 0&&O!=null){let ae=ei(O);Array.isArray(ae)&&(ae=ae.map(Y=>$C(jr(Y)))),f(n,["tools"],ae)}const B=c(e,["toolConfig"]);if(n!==void 0&&B!=null&&f(n,["toolConfig"],OC(B)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=c(e,["cachedContent"]);n!==void 0&&I!=null&&f(n,["cachedContent"],_n(t,I));const $=c(e,["responseModalities"]);$!=null&&f(i,["responseModalities"],$);const le=c(e,["mediaResolution"]);le!=null&&f(i,["mediaResolution"],le);const K=c(e,["speechConfig"]);if(K!=null&&f(i,["speechConfig"],qu(K)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=c(e,["thinkingConfig"]);re!=null&&f(i,["thinkingConfig"],re);const te=c(e,["imageConfig"]);te!=null&&f(i,["imageConfig"],DC(te));const ie=c(e,["enableEnhancedCivicAnswers"]);return ie!=null&&f(i,["enableEnhancedCivicAnswers"],ie),i}function AC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(h=>cC(h))),f(e,["candidates"],m)}const s=c(t,["modelVersion"]);s!=null&&f(e,["modelVersion"],s);const l=c(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const u=c(t,["responseId"]);u!=null&&f(e,["responseId"],u);const d=c(t,["usageMetadata"]);return d!=null&&f(e,["usageMetadata"],d),e}function NC(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],ti(t,i)),n}function RC(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],ti(t,i)),n}function PC(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function MC(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function DC(t){const e={},n=c(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const i=c(t,["imageSize"]);if(i!=null&&f(e,["imageSize"],i),c(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function LC(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["request","model"],De(t,i));const s=c(e,["contents"]);if(s!=null){let d=Ot(s);Array.isArray(d)&&(d=d.map(m=>Zm(m))),f(n,["request","contents"],d)}const l=c(e,["metadata"]);l!=null&&f(n,["metadata"],l);const u=c(e,["config"]);return u!=null&&f(n,["request","generationConfig"],kC(t,u,c(n,["request"],{}))),n}function UC(t){const e={},n=c(t,["response"]);n!=null&&f(e,["response"],AC(n));const i=c(t,["error"]);return i!=null&&f(e,["error"],i),e}function bC(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=c(t,["pageToken"]);if(e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),c(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function FC(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=c(t,["pageToken"]);e!==void 0&&s!=null&&f(e,["_query","pageToken"],s);const l=c(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),n}function VC(t){const e={},n=c(t,["config"]);return n!=null&&bC(n,e),e}function BC(t){const e={},n=c(t,["config"]);return n!=null&&FC(n,e),e}function GC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=c(t,["operations"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>Is(u))),f(e,["batchJobs"],l)}return e}function HC(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=c(t,["batchPredictionJobs"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>pu(u))),f(e,["batchJobs"],l)}return e}function zC(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=c(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const s=c(t,["executableCode"]);s!=null&&f(e,["executableCode"],s);const l=c(t,["fileData"]);l!=null&&f(e,["fileData"],TC(l));const u=c(t,["functionCall"]);u!=null&&f(e,["functionCall"],_C(u));const d=c(t,["functionResponse"]);d!=null&&f(e,["functionResponse"],d);const m=c(t,["inlineData"]);m!=null&&f(e,["inlineData"],lC(m));const h=c(t,["text"]);h!=null&&f(e,["text"],h);const g=c(t,["thought"]);g!=null&&f(e,["thought"],g);const v=c(t,["thoughtSignature"]);v!=null&&f(e,["thoughtSignature"],v);const x=c(t,["videoMetadata"]);return x!=null&&f(e,["videoMetadata"],x),e}function qC(t){const e={},n=c(t,["category"]);if(n!=null&&f(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=c(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function OC(t){const e={},n=c(t,["retrievalConfig"]);n!=null&&f(e,["retrievalConfig"],n);const i=c(t,["functionCallingConfig"]);return i!=null&&f(e,["functionCallingConfig"],IC(i)),e}function $C(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=c(t,["computerUse"]);n!=null&&f(e,["computerUse"],n);const i=c(t,["fileSearch"]);i!=null&&f(e,["fileSearch"],i);const s=c(t,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["functionDeclarations"],g)}const u=c(t,["googleMaps"]);u!=null&&f(e,["googleMaps"],PC(u));const d=c(t,["googleSearch"]);d!=null&&f(e,["googleSearch"],MC(d));const m=c(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const h=c(t,["urlContext"]);return h!=null&&f(e,["urlContext"],h),e}var Cn;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Cn||(Cn={}));class hr{constructor(e,n,i,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,s)}init(e,n,i){var s,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let u={config:{}};!i||Object.keys(i).length===0?u={config:{}}:typeof i=="object"?u=Object.assign({},i):u=i,u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(l=(s=u.config)===null||s===void 0?void 0:s.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}class JC extends Tn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new hr(Cn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=Uh(this.apiClient,e),i=n._url,s=oe("{model}:batchGenerateContent",i),d=n.batch.inputConfig.requests,m=d.requests,h=[];for(const g of m){const v=Object.assign({},g);if(v.systemInstruction){const x=v.systemInstruction;delete v.systemInstruction;const w=v.request;w.systemInstruction=x,v.request=w}h.push(v)}return d.requests=h,delete n.config,delete n._url,delete n._query,{path:s,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const i=n?Object.assign({},n):{},s=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${s}`),i.dest===void 0){const l=this.getGcsUri(e),u=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${s}`;else if(u)i.dest=`${u}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=hC(this.apiClient,e);return d=oe("batchPredictionJobs",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>pu(g))}else{const h=Uh(this.apiClient,e);return d=oe("{model}:batchGenerateContent",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Is(g))}}async createEmbeddingsInternal(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=gC(this.apiClient,e);return l=oe("{model}:asyncBatchEmbedContent",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>Is(m))}}async get(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=RC(this.apiClient,e);return d=oe("batchPredictionJobs/{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>pu(g))}else{const h=NC(this.apiClient,e);return d=oe("batches/{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>Is(g))}}async cancel(e){var n,i,s,l;let u="",d={};if(this.apiClient.isVertexAI()){const m=uC(this.apiClient,e);u=oe("batchPredictionJobs/{name}:cancel",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const m=aC(this.apiClient,e);u=oe("batches/{name}:cancel",m._url),d=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=BC(e);return d=oe("batchPredictionJobs",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=HC(g),x=new Ph;return Object.assign(x,v),x})}else{const h=VC(e);return d=oe("batches",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=GC(g),x=new Ph;return Object.assign(x,v),x})}}async delete(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=vC(this.apiClient,e);return d=oe("batchPredictionJobs/{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>SC(g))}else{const h=yC(this.apiClient,e);return d=oe("batches/{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>xC(g))}}}function WC(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function bh(t){const e={},n=c(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>gT(l))),f(e,["parts"],s)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function KC(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=c(t,["expireTime"]);e!==void 0&&s!=null&&f(e,["expireTime"],s);const l=c(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const u=c(t,["contents"]);if(e!==void 0&&u!=null){let g=Ot(u);Array.isArray(g)&&(g=g.map(v=>bh(v))),f(e,["contents"],g)}const d=c(t,["systemInstruction"]);e!==void 0&&d!=null&&f(e,["systemInstruction"],bh(pt(d)));const m=c(t,["tools"]);if(e!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(v=>vT(v))),f(e,["tools"],g)}const h=c(t,["toolConfig"]);if(e!==void 0&&h!=null&&f(e,["toolConfig"],yT(h)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function YC(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=c(t,["expireTime"]);e!==void 0&&s!=null&&f(e,["expireTime"],s);const l=c(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const u=c(t,["contents"]);if(e!==void 0&&u!=null){let v=Ot(u);Array.isArray(v)&&(v=v.map(x=>x)),f(e,["contents"],v)}const d=c(t,["systemInstruction"]);e!==void 0&&d!=null&&f(e,["systemInstruction"],pt(d));const m=c(t,["tools"]);if(e!==void 0&&m!=null){let v=m;Array.isArray(v)&&(v=v.map(x=>xT(x))),f(e,["tools"],v)}const h=c(t,["toolConfig"]);e!==void 0&&h!=null&&f(e,["toolConfig"],h);const g=c(t,["kmsKeyName"]);return e!==void 0&&g!=null&&f(e,["encryption_spec","kmsKeyName"],g),n}function QC(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["model"],Gm(t,i));const s=c(e,["config"]);return s!=null&&KC(s,n),n}function XC(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["model"],Gm(t,i));const s=c(e,["config"]);return s!=null&&YC(s,n),n}function ZC(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],_n(t,i)),n}function jC(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],_n(t,i)),n}function eT(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function tT(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function nT(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function rT(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const i=c(t,["args"]);i!=null&&f(e,["args"],i);const s=c(t,["name"]);if(s!=null&&f(e,["name"],s),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function iT(t){const e={},n=c(t,["allowedFunctionNames"]);n!=null&&f(e,["allowedFunctionNames"],n);const i=c(t,["mode"]);if(i!=null&&f(e,["mode"],i),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function oT(t){const e={},n=c(t,["description"]);n!=null&&f(e,["description"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const l=c(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const u=c(t,["response"]);u!=null&&f(e,["response"],u);const d=c(t,["responseJsonSchema"]);if(d!=null&&f(e,["responseJsonSchema"],d),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function sT(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],_n(t,i)),n}function lT(t,e){const n={},i=c(e,["name"]);return i!=null&&f(n,["_url","name"],_n(t,i)),n}function aT(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function uT(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function cT(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=c(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function dT(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=c(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function fT(t){const e={},n=c(t,["config"]);return n!=null&&cT(n,e),e}function pT(t){const e={},n=c(t,["config"]);return n!=null&&dT(n,e),e}function hT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=c(t,["cachedContents"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["cachedContents"],l)}return e}function mT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=c(t,["cachedContents"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["cachedContents"],l)}return e}function gT(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=c(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const s=c(t,["executableCode"]);s!=null&&f(e,["executableCode"],s);const l=c(t,["fileData"]);l!=null&&f(e,["fileData"],nT(l));const u=c(t,["functionCall"]);u!=null&&f(e,["functionCall"],rT(u));const d=c(t,["functionResponse"]);d!=null&&f(e,["functionResponse"],d);const m=c(t,["inlineData"]);m!=null&&f(e,["inlineData"],WC(m));const h=c(t,["text"]);h!=null&&f(e,["text"],h);const g=c(t,["thought"]);g!=null&&f(e,["thought"],g);const v=c(t,["thoughtSignature"]);v!=null&&f(e,["thoughtSignature"],v);const x=c(t,["videoMetadata"]);return x!=null&&f(e,["videoMetadata"],x),e}function yT(t){const e={},n=c(t,["retrievalConfig"]);n!=null&&f(e,["retrievalConfig"],n);const i=c(t,["functionCallingConfig"]);return i!=null&&f(e,["functionCallingConfig"],iT(i)),e}function vT(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=c(t,["computerUse"]);n!=null&&f(e,["computerUse"],n);const i=c(t,["fileSearch"]);i!=null&&f(e,["fileSearch"],i);const s=c(t,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["functionDeclarations"],g)}const u=c(t,["googleMaps"]);u!=null&&f(e,["googleMaps"],aT(u));const d=c(t,["googleSearch"]);d!=null&&f(e,["googleSearch"],uT(d));const m=c(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const h=c(t,["urlContext"]);return h!=null&&f(e,["urlContext"],h),e}function xT(t){const e={},n=c(t,["retrieval"]);n!=null&&f(e,["retrieval"],n);const i=c(t,["computerUse"]);if(i!=null&&f(e,["computerUse"],i),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(t,["codeExecution"]);s!=null&&f(e,["codeExecution"],s);const l=c(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(x=>oT(x))),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],d);const m=c(t,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const h=c(t,["googleSearchRetrieval"]);h!=null&&f(e,["googleSearchRetrieval"],h);const g=c(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function ST(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=c(t,["expireTime"]);return e!==void 0&&s!=null&&f(e,["expireTime"],s),n}function wT(t,e){const n={},i=c(t,["ttl"]);e!==void 0&&i!=null&&f(e,["ttl"],i);const s=c(t,["expireTime"]);return e!==void 0&&s!=null&&f(e,["expireTime"],s),n}function ET(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],_n(t,i));const s=c(e,["config"]);return s!=null&&ST(s,n),n}function CT(t,e){const n={},i=c(e,["name"]);i!=null&&f(n,["_url","name"],_n(t,i));const s=c(e,["config"]);return s!=null&&wT(s,n),n}class TT extends Tn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new hr(Cn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=XC(this.apiClient,e);return d=oe("cachedContents",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=QC(this.apiClient,e);return d=oe("cachedContents",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async get(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=lT(this.apiClient,e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=sT(this.apiClient,e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=jC(this.apiClient,e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=tT(g),x=new Nh;return Object.assign(x,v),x})}else{const h=ZC(this.apiClient,e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=eT(g),x=new Nh;return Object.assign(x,v),x})}}async update(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=CT(this.apiClient,e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>g)}else{const h=ET(this.apiClient,e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async listInternal(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=pT(e);return d=oe("cachedContents",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=mT(g),x=new Rh;return Object.assign(x,v),x})}else{const h=fT(e);return d=oe("cachedContents",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=hT(g),x=new Rh;return Object.assign(x,v),x})}}}function Ds(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function Fh(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(t){return this instanceof Te?(this.v=t,this):new Te(t)}function en(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),s,l=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(w){return function(N){return Promise.resolve(N).then(w,v)}}function d(w,N){i[w]&&(s[w]=function(R){return new Promise(function(_,M){l.push([w,R,_,M])>1||m(w,R)})},N&&(s[w]=N(s[w])))}function m(w,N){try{h(i[w](N))}catch(R){x(l[0][3],R)}}function h(w){w.value instanceof Te?Promise.resolve(w.value.v).then(g,v):x(l[0][2],w)}function g(w){m("next",w)}function v(w){m("throw",w)}function x(w,N){w(N),l.shift(),l.length&&m(l[0][0],l[0][1])}}function tn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Fh=="function"?Fh(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=t[l]&&function(u){return new Promise(function(d,m){u=t[l](u),s(d,m,u.done,u.value)})}}function s(l,u,d,m){Promise.resolve(m).then(function(h){l({value:h,done:d})},u)}}function _T(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:jm(n)}function jm(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function IT(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Vh(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const s=[];let l=!0;for(;i<n&&t[i].role==="model";)s.push(t[i]),l&&!jm(t[i])&&(l=!1),i++;l?e.push(...s):e.pop()}return e}class kT{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new AT(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class AT{constructor(e,n,i,s={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=s,this.history=l,this.sendPromise=Promise.resolve(),IT(l)}async sendMessage(e){var n;await this.sendPromise;const i=pt(e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,u,d;const m=await s,h=(u=(l=m.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content,g=m.automaticFunctionCallingHistory,v=this.getHistory(!0).length;let x=[];g!=null&&(x=(d=g.slice(v))!==null&&d!==void 0?d:[]);const w=h?[h]:[];this.recordHistory(i,w,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(e){var n;await this.sendPromise;const i=pt(e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const l=await s;return this.processStreamResponse(l,i)}getHistory(e=!1){const n=e?Vh(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return en(this,arguments,function*(){var s,l,u,d,m,h;const g=[];try{for(var v=!0,x=tn(e),w;w=yield Te(x.next()),s=w.done,!s;v=!0){d=w.value,v=!1;const N=d;if(_T(N)){const R=(h=(m=N.candidates)===null||m===void 0?void 0:m[0])===null||h===void 0?void 0:h.content;R!==void 0&&g.push(R)}yield yield Te(N)}}catch(N){l={error:N}}finally{try{!v&&!s&&(u=x.return)&&(yield Te(u.call(x)))}finally{if(l)throw l.error}}this.recordHistory(n,g)})}recordHistory(e,n,i){let s=[];n.length>0&&n.every(l=>l.role!==void 0)?s=n:s.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Vh(i)):this.history.push(e),this.history.push(...s)}}class Gs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Gs.prototype)}}function NT(t){const e={},n=c(t,["file"]);return n!=null&&f(e,["file"],n),e}function RT(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function PT(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["_url","file"],Jm(n)),e}function MT(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function DT(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["_url","file"],Jm(n)),e}function LT(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=c(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function UT(t){const e={},n=c(t,["config"]);return n!=null&&LT(n,e),e}function bT(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=c(t,["files"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["files"],l)}return e}class FT extends Tn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new hr(Cn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=UT(e);return l=oe("files",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:m.headers},g})),s.then(m=>{const h=bT(m),g=new HE;return Object.assign(g,h),g})}}async createInternal(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=NT(e);return l=oe("upload/v1beta/files",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>{const h=RT(m),g=new zE;return Object.assign(g,h),g})}}async get(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=DT(e);return l=oe("files/{file}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>m)}}async delete(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=PT(e);return l=oe("files/{file}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:m.headers},g})),s.then(m=>{const h=MT(m),g=new qE;return Object.assign(g,h),g})}}}function ks(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function VT(t){const e={},n=c(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>e_(l))),f(e,["parts"],s)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function BT(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function GT(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const i=c(t,["args"]);i!=null&&f(e,["args"],i);const s=c(t,["name"]);if(s!=null&&f(e,["name"],s),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HT(t){const e={},n=c(t,["description"]);n!=null&&f(e,["description"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const l=c(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const u=c(t,["response"]);u!=null&&f(e,["response"],u);const d=c(t,["responseJsonSchema"]);if(d!=null&&f(e,["responseJsonSchema"],d),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function zT(t){const e={},n=c(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);const i=c(t,["responseJsonSchema"]);i!=null&&f(e,["responseJsonSchema"],i);const s=c(t,["audioTimestamp"]);s!=null&&f(e,["audioTimestamp"],s);const l=c(t,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const u=c(t,["enableAffectiveDialog"]);u!=null&&f(e,["enableAffectiveDialog"],u);const d=c(t,["frequencyPenalty"]);d!=null&&f(e,["frequencyPenalty"],d);const m=c(t,["logprobs"]);m!=null&&f(e,["logprobs"],m);const h=c(t,["maxOutputTokens"]);h!=null&&f(e,["maxOutputTokens"],h);const g=c(t,["mediaResolution"]);g!=null&&f(e,["mediaResolution"],g);const v=c(t,["presencePenalty"]);v!=null&&f(e,["presencePenalty"],v);const x=c(t,["responseLogprobs"]);x!=null&&f(e,["responseLogprobs"],x);const w=c(t,["responseMimeType"]);w!=null&&f(e,["responseMimeType"],w);const N=c(t,["responseModalities"]);N!=null&&f(e,["responseModalities"],N);const R=c(t,["responseSchema"]);R!=null&&f(e,["responseSchema"],R);const _=c(t,["routingConfig"]);_!=null&&f(e,["routingConfig"],_);const M=c(t,["seed"]);M!=null&&f(e,["seed"],M);const G=c(t,["speechConfig"]);G!=null&&f(e,["speechConfig"],G);const b=c(t,["stopSequences"]);b!=null&&f(e,["stopSequences"],b);const O=c(t,["temperature"]);O!=null&&f(e,["temperature"],O);const B=c(t,["thinkingConfig"]);B!=null&&f(e,["thinkingConfig"],B);const I=c(t,["topK"]);I!=null&&f(e,["topK"],I);const $=c(t,["topP"]);if($!=null&&f(e,["topP"],$),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function qT(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function OT(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function $T(t,e){const n={},i=c(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const s=c(t,["responseModalities"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","responseModalities"],s);const l=c(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const u=c(t,["topP"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","topP"],u);const d=c(t,["topK"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topK"],d);const m=c(t,["maxOutputTokens"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","maxOutputTokens"],m);const h=c(t,["mediaResolution"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","mediaResolution"],h);const g=c(t,["seed"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","seed"],g);const v=c(t,["speechConfig"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","speechConfig"],Ou(v));const x=c(t,["thinkingConfig"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","thinkingConfig"],x);const w=c(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],w);const N=c(t,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],VT(pt(N)));const R=c(t,["tools"]);if(e!==void 0&&R!=null){let I=ei(R);Array.isArray(I)&&(I=I.map($=>n_(jr($)))),f(e,["setup","tools"],I)}const _=c(t,["sessionResumption"]);e!==void 0&&_!=null&&f(e,["setup","sessionResumption"],t_(_));const M=c(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&f(e,["setup","inputAudioTranscription"],M);const G=c(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&f(e,["setup","outputAudioTranscription"],G);const b=c(t,["realtimeInputConfig"]);e!==void 0&&b!=null&&f(e,["setup","realtimeInputConfig"],b);const O=c(t,["contextWindowCompression"]);e!==void 0&&O!=null&&f(e,["setup","contextWindowCompression"],O);const B=c(t,["proactivity"]);if(e!==void 0&&B!=null&&f(e,["setup","proactivity"],B),c(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function JT(t,e){const n={},i=c(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],zT(i));const s=c(t,["responseModalities"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","responseModalities"],s);const l=c(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const u=c(t,["topP"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","topP"],u);const d=c(t,["topK"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topK"],d);const m=c(t,["maxOutputTokens"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","maxOutputTokens"],m);const h=c(t,["mediaResolution"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","mediaResolution"],h);const g=c(t,["seed"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","seed"],g);const v=c(t,["speechConfig"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","speechConfig"],Ou(v));const x=c(t,["thinkingConfig"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","thinkingConfig"],x);const w=c(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],w);const N=c(t,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],pt(N));const R=c(t,["tools"]);if(e!==void 0&&R!=null){let $=ei(R);Array.isArray($)&&($=$.map(le=>r_(jr(le)))),f(e,["setup","tools"],$)}const _=c(t,["sessionResumption"]);e!==void 0&&_!=null&&f(e,["setup","sessionResumption"],_);const M=c(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&f(e,["setup","inputAudioTranscription"],M);const G=c(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&f(e,["setup","outputAudioTranscription"],G);const b=c(t,["realtimeInputConfig"]);e!==void 0&&b!=null&&f(e,["setup","realtimeInputConfig"],b);const O=c(t,["contextWindowCompression"]);e!==void 0&&O!=null&&f(e,["setup","contextWindowCompression"],O);const B=c(t,["proactivity"]);e!==void 0&&B!=null&&f(e,["setup","proactivity"],B);const I=c(t,["explicitVadSignal"]);return e!==void 0&&I!=null&&f(e,["setup","explicitVadSignal"],I),n}function WT(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["setup","model"],De(t,i));const s=c(e,["config"]);return s!=null&&f(n,["config"],$T(s,n)),n}function KT(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["setup","model"],De(t,i));const s=c(e,["config"]);return s!=null&&f(n,["config"],JT(s,n)),n}function YT(t){const e={},n=c(t,["musicGenerationConfig"]);return n!=null&&f(e,["musicGenerationConfig"],n),e}function QT(t){const e={},n=c(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),f(e,["weightedPrompts"],i)}return e}function XT(t){const e={},n=c(t,["media"]);if(n!=null){let h=Hm(n);Array.isArray(h)&&(h=h.map(g=>ks(g))),f(e,["mediaChunks"],h)}const i=c(t,["audio"]);i!=null&&f(e,["audio"],ks(qm(i)));const s=c(t,["audioStreamEnd"]);s!=null&&f(e,["audioStreamEnd"],s);const l=c(t,["video"]);l!=null&&f(e,["video"],ks(zm(l)));const u=c(t,["text"]);u!=null&&f(e,["text"],u);const d=c(t,["activityStart"]);d!=null&&f(e,["activityStart"],d);const m=c(t,["activityEnd"]);return m!=null&&f(e,["activityEnd"],m),e}function ZT(t){const e={},n=c(t,["media"]);if(n!=null){let h=Hm(n);Array.isArray(h)&&(h=h.map(g=>g)),f(e,["mediaChunks"],h)}const i=c(t,["audio"]);i!=null&&f(e,["audio"],qm(i));const s=c(t,["audioStreamEnd"]);s!=null&&f(e,["audioStreamEnd"],s);const l=c(t,["video"]);l!=null&&f(e,["video"],zm(l));const u=c(t,["text"]);u!=null&&f(e,["text"],u);const d=c(t,["activityStart"]);d!=null&&f(e,["activityStart"],d);const m=c(t,["activityEnd"]);return m!=null&&f(e,["activityEnd"],m),e}function jT(t){const e={},n=c(t,["setupComplete"]);n!=null&&f(e,["setupComplete"],n);const i=c(t,["serverContent"]);i!=null&&f(e,["serverContent"],i);const s=c(t,["toolCall"]);s!=null&&f(e,["toolCall"],s);const l=c(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],l);const u=c(t,["usageMetadata"]);u!=null&&f(e,["usageMetadata"],i_(u));const d=c(t,["goAway"]);d!=null&&f(e,["goAway"],d);const m=c(t,["sessionResumptionUpdate"]);m!=null&&f(e,["sessionResumptionUpdate"],m);const h=c(t,["voiceActivityDetectionSignal"]);return h!=null&&f(e,["voiceActivityDetectionSignal"],h),e}function e_(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=c(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const s=c(t,["executableCode"]);s!=null&&f(e,["executableCode"],s);const l=c(t,["fileData"]);l!=null&&f(e,["fileData"],BT(l));const u=c(t,["functionCall"]);u!=null&&f(e,["functionCall"],GT(u));const d=c(t,["functionResponse"]);d!=null&&f(e,["functionResponse"],d);const m=c(t,["inlineData"]);m!=null&&f(e,["inlineData"],ks(m));const h=c(t,["text"]);h!=null&&f(e,["text"],h);const g=c(t,["thought"]);g!=null&&f(e,["thought"],g);const v=c(t,["thoughtSignature"]);v!=null&&f(e,["thoughtSignature"],v);const x=c(t,["videoMetadata"]);return x!=null&&f(e,["videoMetadata"],x),e}function t_(t){const e={},n=c(t,["handle"]);if(n!=null&&f(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function n_(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=c(t,["computerUse"]);n!=null&&f(e,["computerUse"],n);const i=c(t,["fileSearch"]);i!=null&&f(e,["fileSearch"],i);const s=c(t,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["functionDeclarations"],g)}const u=c(t,["googleMaps"]);u!=null&&f(e,["googleMaps"],qT(u));const d=c(t,["googleSearch"]);d!=null&&f(e,["googleSearch"],OT(d));const m=c(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const h=c(t,["urlContext"]);return h!=null&&f(e,["urlContext"],h),e}function r_(t){const e={},n=c(t,["retrieval"]);n!=null&&f(e,["retrieval"],n);const i=c(t,["computerUse"]);if(i!=null&&f(e,["computerUse"],i),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(t,["codeExecution"]);s!=null&&f(e,["codeExecution"],s);const l=c(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(x=>HT(x))),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],d);const m=c(t,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const h=c(t,["googleSearchRetrieval"]);h!=null&&f(e,["googleSearchRetrieval"],h);const g=c(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function i_(t){const e={},n=c(t,["promptTokenCount"]);n!=null&&f(e,["promptTokenCount"],n);const i=c(t,["cachedContentTokenCount"]);i!=null&&f(e,["cachedContentTokenCount"],i);const s=c(t,["candidatesTokenCount"]);s!=null&&f(e,["responseTokenCount"],s);const l=c(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const u=c(t,["thoughtsTokenCount"]);u!=null&&f(e,["thoughtsTokenCount"],u);const d=c(t,["totalTokenCount"]);d!=null&&f(e,["totalTokenCount"],d);const m=c(t,["promptTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(N=>N)),f(e,["promptTokensDetails"],w)}const h=c(t,["cacheTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(N=>N)),f(e,["cacheTokensDetails"],w)}const g=c(t,["candidatesTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(N=>N)),f(e,["responseTokensDetails"],w)}const v=c(t,["toolUsePromptTokensDetails"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(N=>N)),f(e,["toolUsePromptTokensDetails"],w)}const x=c(t,["trafficType"]);return x!=null&&f(e,["trafficType"],x),e}function o_(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function s_(t){const e={},n=c(t,["content"]);n!=null&&f(e,["content"],n);const i=c(t,["citationMetadata"]);i!=null&&f(e,["citationMetadata"],l_(i));const s=c(t,["tokenCount"]);s!=null&&f(e,["tokenCount"],s);const l=c(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const u=c(t,["avgLogprobs"]);u!=null&&f(e,["avgLogprobs"],u);const d=c(t,["groundingMetadata"]);d!=null&&f(e,["groundingMetadata"],d);const m=c(t,["index"]);m!=null&&f(e,["index"],m);const h=c(t,["logprobsResult"]);h!=null&&f(e,["logprobsResult"],h);const g=c(t,["safetyRatings"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(w=>w)),f(e,["safetyRatings"],x)}const v=c(t,["urlContextMetadata"]);return v!=null&&f(e,["urlContextMetadata"],v),e}function l_(t){const e={},n=c(t,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>s)),f(e,["citations"],i)}return e}function a_(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["contents"]);if(s!=null){let l=Ot(s);Array.isArray(l)&&(l=l.map(u=>u)),f(n,["contents"],l)}return n}function u_(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["tokensInfo"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["tokensInfo"],s)}return e}function c_(t){const e={},n=c(t,["values"]);n!=null&&f(e,["values"],n);const i=c(t,["statistics"]);return i!=null&&f(e,["statistics"],d_(i)),e}function d_(t){const e={},n=c(t,["truncated"]);n!=null&&f(e,["truncated"],n);const i=c(t,["token_count"]);return i!=null&&f(e,["tokenCount"],i),e}function Hs(t){const e={},n=c(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>SI(l))),f(e,["parts"],s)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function f_(t){const e={},n=c(t,["controlType"]);n!=null&&f(e,["controlType"],n);const i=c(t,["enableControlImageComputation"]);return i!=null&&f(e,["computeControl"],i),e}function p_(t){const e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function h_(t,e){const n={},i=c(t,["systemInstruction"]);e!==void 0&&i!=null&&f(e,["systemInstruction"],pt(i));const s=c(t,["tools"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>rg(d))),f(e,["tools"],u)}const l=c(t,["generationConfig"]);return e!==void 0&&l!=null&&f(e,["generationConfig"],oI(l)),n}function m_(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["contents"]);if(s!=null){let u=Ot(s);Array.isArray(u)&&(u=u.map(d=>Hs(d))),f(n,["contents"],u)}const l=c(e,["config"]);return l!=null&&p_(l),n}function g_(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["contents"]);if(s!=null){let u=Ot(s);Array.isArray(u)&&(u=u.map(d=>d)),f(n,["contents"],u)}const l=c(e,["config"]);return l!=null&&h_(l,n),n}function y_(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["totalTokens"]);i!=null&&f(e,["totalTokens"],i);const s=c(t,["cachedContentTokenCount"]);return s!=null&&f(e,["cachedContentTokenCount"],s),e}function v_(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["totalTokens"]);return i!=null&&f(e,["totalTokens"],i),e}function x_(t,e){const n={},i=c(e,["model"]);return i!=null&&f(n,["_url","name"],De(t,i)),n}function S_(t,e){const n={},i=c(e,["model"]);return i!=null&&f(n,["_url","name"],De(t,i)),n}function w_(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function E_(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}function C_(t,e){const n={},i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const s=c(t,["negativePrompt"]);e!==void 0&&s!=null&&f(e,["parameters","negativePrompt"],s);const l=c(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const u=c(t,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(t,["guidanceScale"]);e!==void 0&&d!=null&&f(e,["parameters","guidanceScale"],d);const m=c(t,["seed"]);e!==void 0&&m!=null&&f(e,["parameters","seed"],m);const h=c(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const g=c(t,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const v=c(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&f(e,["parameters","includeSafetyAttributes"],v);const x=c(t,["includeRaiReason"]);e!==void 0&&x!=null&&f(e,["parameters","includeRaiReason"],x);const w=c(t,["language"]);e!==void 0&&w!=null&&f(e,["parameters","language"],w);const N=c(t,["outputMimeType"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","mimeType"],N);const R=c(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const _=c(t,["addWatermark"]);e!==void 0&&_!=null&&f(e,["parameters","addWatermark"],_);const M=c(t,["labels"]);e!==void 0&&M!=null&&f(e,["labels"],M);const G=c(t,["editMode"]);e!==void 0&&G!=null&&f(e,["parameters","editMode"],G);const b=c(t,["baseSteps"]);return e!==void 0&&b!=null&&f(e,["parameters","editConfig","baseSteps"],b),n}function T_(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const l=c(e,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>II(m))),f(n,["instances[0]","referenceImages"],d)}const u=c(e,["config"]);return u!=null&&C_(u,n),n}function __(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>zs(l))),f(e,["generatedImages"],s)}return e}function I_(t,e){const n={},i=c(t,["taskType"]);e!==void 0&&i!=null&&f(e,["requests[]","taskType"],i);const s=c(t,["title"]);e!==void 0&&s!=null&&f(e,["requests[]","title"],s);const l=c(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function k_(t,e){const n={},i=c(t,["taskType"]);e!==void 0&&i!=null&&f(e,["instances[]","task_type"],i);const s=c(t,["title"]);e!==void 0&&s!=null&&f(e,["instances[]","title"],s);const l=c(t,["outputDimensionality"]);e!==void 0&&l!=null&&f(e,["parameters","outputDimensionality"],l);const u=c(t,["mimeType"]);e!==void 0&&u!=null&&f(e,["instances[]","mimeType"],u);const d=c(t,["autoTruncate"]);return e!==void 0&&d!=null&&f(e,["parameters","autoTruncate"],d),n}function A_(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["contents"]);if(s!=null){let d=Hu(t,s);Array.isArray(d)&&(d=d.map(m=>m)),f(n,["requests[]","content"],d)}const l=c(e,["config"]);l!=null&&I_(l,n);const u=c(e,["model"]);return u!==void 0&&f(n,["requests[]","model"],De(t,u)),n}function N_(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["contents"]);if(s!=null){let u=Hu(t,s);Array.isArray(u)&&(u=u.map(d=>d)),f(n,["instances[]","content"],u)}const l=c(e,["config"]);return l!=null&&k_(l,n),n}function R_(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["embeddings"],l)}const s=c(t,["metadata"]);return s!=null&&f(e,["metadata"],s),e}function P_(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>c_(u))),f(e,["embeddings"],l)}const s=c(t,["metadata"]);return s!=null&&f(e,["metadata"],s),e}function M_(t){const e={},n=c(t,["endpoint"]);n!=null&&f(e,["name"],n);const i=c(t,["deployedModelId"]);return i!=null&&f(e,["deployedModelId"],i),e}function D_(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function L_(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const i=c(t,["args"]);i!=null&&f(e,["args"],i);const s=c(t,["name"]);if(s!=null&&f(e,["name"],s),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function U_(t){const e={},n=c(t,["allowedFunctionNames"]);n!=null&&f(e,["allowedFunctionNames"],n);const i=c(t,["mode"]);if(i!=null&&f(e,["mode"],i),c(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function b_(t){const e={},n=c(t,["description"]);n!=null&&f(e,["description"],n);const i=c(t,["name"]);i!=null&&f(e,["name"],i);const s=c(t,["parameters"]);s!=null&&f(e,["parameters"],s);const l=c(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const u=c(t,["response"]);u!=null&&f(e,["response"],u);const d=c(t,["responseJsonSchema"]);if(d!=null&&f(e,["responseJsonSchema"],d),c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function F_(t,e,n){const i={},s=c(e,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],Hs(pt(s)));const l=c(e,["temperature"]);l!=null&&f(i,["temperature"],l);const u=c(e,["topP"]);u!=null&&f(i,["topP"],u);const d=c(e,["topK"]);d!=null&&f(i,["topK"],d);const m=c(e,["candidateCount"]);m!=null&&f(i,["candidateCount"],m);const h=c(e,["maxOutputTokens"]);h!=null&&f(i,["maxOutputTokens"],h);const g=c(e,["stopSequences"]);g!=null&&f(i,["stopSequences"],g);const v=c(e,["responseLogprobs"]);v!=null&&f(i,["responseLogprobs"],v);const x=c(e,["logprobs"]);x!=null&&f(i,["logprobs"],x);const w=c(e,["presencePenalty"]);w!=null&&f(i,["presencePenalty"],w);const N=c(e,["frequencyPenalty"]);N!=null&&f(i,["frequencyPenalty"],N);const R=c(e,["seed"]);R!=null&&f(i,["seed"],R);const _=c(e,["responseMimeType"]);_!=null&&f(i,["responseMimeType"],_);const M=c(e,["responseSchema"]);M!=null&&f(i,["responseSchema"],zu(M));const G=c(e,["responseJsonSchema"]);if(G!=null&&f(i,["responseJsonSchema"],G),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=c(e,["safetySettings"]);if(n!==void 0&&b!=null){let ae=b;Array.isArray(ae)&&(ae=ae.map(Y=>kI(Y))),f(n,["safetySettings"],ae)}const O=c(e,["tools"]);if(n!==void 0&&O!=null){let ae=ei(O);Array.isArray(ae)&&(ae=ae.map(Y=>LI(jr(Y)))),f(n,["tools"],ae)}const B=c(e,["toolConfig"]);if(n!==void 0&&B!=null&&f(n,["toolConfig"],DI(B)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=c(e,["cachedContent"]);n!==void 0&&I!=null&&f(n,["cachedContent"],_n(t,I));const $=c(e,["responseModalities"]);$!=null&&f(i,["responseModalities"],$);const le=c(e,["mediaResolution"]);le!=null&&f(i,["mediaResolution"],le);const K=c(e,["speechConfig"]);if(K!=null&&f(i,["speechConfig"],qu(K)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=c(e,["thinkingConfig"]);re!=null&&f(i,["thinkingConfig"],re);const te=c(e,["imageConfig"]);te!=null&&f(i,["imageConfig"],cI(te));const ie=c(e,["enableEnhancedCivicAnswers"]);return ie!=null&&f(i,["enableEnhancedCivicAnswers"],ie),i}function V_(t,e,n){const i={},s=c(e,["systemInstruction"]);n!==void 0&&s!=null&&f(n,["systemInstruction"],pt(s));const l=c(e,["temperature"]);l!=null&&f(i,["temperature"],l);const u=c(e,["topP"]);u!=null&&f(i,["topP"],u);const d=c(e,["topK"]);d!=null&&f(i,["topK"],d);const m=c(e,["candidateCount"]);m!=null&&f(i,["candidateCount"],m);const h=c(e,["maxOutputTokens"]);h!=null&&f(i,["maxOutputTokens"],h);const g=c(e,["stopSequences"]);g!=null&&f(i,["stopSequences"],g);const v=c(e,["responseLogprobs"]);v!=null&&f(i,["responseLogprobs"],v);const x=c(e,["logprobs"]);x!=null&&f(i,["logprobs"],x);const w=c(e,["presencePenalty"]);w!=null&&f(i,["presencePenalty"],w);const N=c(e,["frequencyPenalty"]);N!=null&&f(i,["frequencyPenalty"],N);const R=c(e,["seed"]);R!=null&&f(i,["seed"],R);const _=c(e,["responseMimeType"]);_!=null&&f(i,["responseMimeType"],_);const M=c(e,["responseSchema"]);M!=null&&f(i,["responseSchema"],zu(M));const G=c(e,["responseJsonSchema"]);G!=null&&f(i,["responseJsonSchema"],G);const b=c(e,["routingConfig"]);b!=null&&f(i,["routingConfig"],b);const O=c(e,["modelSelectionConfig"]);O!=null&&f(i,["modelConfig"],O);const B=c(e,["safetySettings"]);if(n!==void 0&&B!=null){let he=B;Array.isArray(he)&&(he=he.map(xe=>xe)),f(n,["safetySettings"],he)}const I=c(e,["tools"]);if(n!==void 0&&I!=null){let he=ei(I);Array.isArray(he)&&(he=he.map(xe=>rg(jr(xe)))),f(n,["tools"],he)}const $=c(e,["toolConfig"]);n!==void 0&&$!=null&&f(n,["toolConfig"],$);const le=c(e,["labels"]);n!==void 0&&le!=null&&f(n,["labels"],le);const K=c(e,["cachedContent"]);n!==void 0&&K!=null&&f(n,["cachedContent"],_n(t,K));const re=c(e,["responseModalities"]);re!=null&&f(i,["responseModalities"],re);const te=c(e,["mediaResolution"]);te!=null&&f(i,["mediaResolution"],te);const ie=c(e,["speechConfig"]);ie!=null&&f(i,["speechConfig"],qu(ie));const ae=c(e,["audioTimestamp"]);ae!=null&&f(i,["audioTimestamp"],ae);const Y=c(e,["thinkingConfig"]);Y!=null&&f(i,["thinkingConfig"],Y);const ee=c(e,["imageConfig"]);if(ee!=null&&f(i,["imageConfig"],dI(ee)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function Bh(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["contents"]);if(s!=null){let u=Ot(s);Array.isArray(u)&&(u=u.map(d=>Hs(d))),f(n,["contents"],u)}const l=c(e,["config"]);return l!=null&&f(n,["generationConfig"],F_(t,l,n)),n}function Gh(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["contents"]);if(s!=null){let u=Ot(s);Array.isArray(u)&&(u=u.map(d=>d)),f(n,["contents"],u)}const l=c(e,["config"]);return l!=null&&f(n,["generationConfig"],V_(t,l,n)),n}function Hh(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(h=>s_(h))),f(e,["candidates"],m)}const s=c(t,["modelVersion"]);s!=null&&f(e,["modelVersion"],s);const l=c(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const u=c(t,["responseId"]);u!=null&&f(e,["responseId"],u);const d=c(t,["usageMetadata"]);return d!=null&&f(e,["usageMetadata"],d),e}function zh(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(g=>g)),f(e,["candidates"],h)}const s=c(t,["createTime"]);s!=null&&f(e,["createTime"],s);const l=c(t,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const u=c(t,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(t,["responseId"]);d!=null&&f(e,["responseId"],d);const m=c(t,["usageMetadata"]);return m!=null&&f(e,["usageMetadata"],m),e}function B_(t,e){const n={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=c(t,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const s=c(t,["aspectRatio"]);e!==void 0&&s!=null&&f(e,["parameters","aspectRatio"],s);const l=c(t,["guidanceScale"]);if(e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&f(e,["parameters","safetySetting"],u);const d=c(t,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);const m=c(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&f(e,["parameters","includeSafetyAttributes"],m);const h=c(t,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);const g=c(t,["language"]);e!==void 0&&g!=null&&f(e,["parameters","language"],g);const v=c(t,["outputMimeType"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","mimeType"],v);const x=c(t,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&f(e,["parameters","outputOptions","compressionQuality"],x),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=c(t,["imageSize"]);if(e!==void 0&&w!=null&&f(e,["parameters","sampleImageSize"],w),c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function G_(t,e){const n={},i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const s=c(t,["negativePrompt"]);e!==void 0&&s!=null&&f(e,["parameters","negativePrompt"],s);const l=c(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const u=c(t,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(t,["guidanceScale"]);e!==void 0&&d!=null&&f(e,["parameters","guidanceScale"],d);const m=c(t,["seed"]);e!==void 0&&m!=null&&f(e,["parameters","seed"],m);const h=c(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const g=c(t,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const v=c(t,["includeSafetyAttributes"]);e!==void 0&&v!=null&&f(e,["parameters","includeSafetyAttributes"],v);const x=c(t,["includeRaiReason"]);e!==void 0&&x!=null&&f(e,["parameters","includeRaiReason"],x);const w=c(t,["language"]);e!==void 0&&w!=null&&f(e,["parameters","language"],w);const N=c(t,["outputMimeType"]);e!==void 0&&N!=null&&f(e,["parameters","outputOptions","mimeType"],N);const R=c(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const _=c(t,["addWatermark"]);e!==void 0&&_!=null&&f(e,["parameters","addWatermark"],_);const M=c(t,["labels"]);e!==void 0&&M!=null&&f(e,["labels"],M);const G=c(t,["imageSize"]);e!==void 0&&G!=null&&f(e,["parameters","sampleImageSize"],G);const b=c(t,["enhancePrompt"]);return e!==void 0&&b!=null&&f(e,["parameters","enhancePrompt"],b),n}function H_(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const l=c(e,["config"]);return l!=null&&B_(l,n),n}function z_(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const l=c(e,["config"]);return l!=null&&G_(l,n),n}function q_(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>tI(u))),f(e,["generatedImages"],l)}const s=c(t,["positivePromptSafetyAttributes"]);return s!=null&&f(e,["positivePromptSafetyAttributes"],tg(s)),e}function O_(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>zs(u))),f(e,["generatedImages"],l)}const s=c(t,["positivePromptSafetyAttributes"]);return s!=null&&f(e,["positivePromptSafetyAttributes"],ng(s)),e}function $_(t,e){const n={},i=c(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const s=c(t,["durationSeconds"]);if(e!==void 0&&s!=null&&f(e,["parameters","durationSeconds"],s),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=c(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const u=c(t,["resolution"]);e!==void 0&&u!=null&&f(e,["parameters","resolution"],u);const d=c(t,["personGeneration"]);if(e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=c(t,["negativePrompt"]);e!==void 0&&m!=null&&f(e,["parameters","negativePrompt"],m);const h=c(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&f(e,["parameters","enhancePrompt"],h),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=c(t,["lastFrame"]);e!==void 0&&g!=null&&f(e,["instances[0]","lastFrame"],qs(g));const v=c(t,["referenceImages"]);if(e!==void 0&&v!=null){let x=v;Array.isArray(x)&&(x=x.map(w=>WI(w))),f(e,["instances[0]","referenceImages"],x)}if(c(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function J_(t,e){const n={},i=c(t,["numberOfVideos"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&f(e,["parameters","storageUri"],s);const l=c(t,["fps"]);e!==void 0&&l!=null&&f(e,["parameters","fps"],l);const u=c(t,["durationSeconds"]);e!==void 0&&u!=null&&f(e,["parameters","durationSeconds"],u);const d=c(t,["seed"]);e!==void 0&&d!=null&&f(e,["parameters","seed"],d);const m=c(t,["aspectRatio"]);e!==void 0&&m!=null&&f(e,["parameters","aspectRatio"],m);const h=c(t,["resolution"]);e!==void 0&&h!=null&&f(e,["parameters","resolution"],h);const g=c(t,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const v=c(t,["pubsubTopic"]);e!==void 0&&v!=null&&f(e,["parameters","pubsubTopic"],v);const x=c(t,["negativePrompt"]);e!==void 0&&x!=null&&f(e,["parameters","negativePrompt"],x);const w=c(t,["enhancePrompt"]);e!==void 0&&w!=null&&f(e,["parameters","enhancePrompt"],w);const N=c(t,["generateAudio"]);e!==void 0&&N!=null&&f(e,["parameters","generateAudio"],N);const R=c(t,["lastFrame"]);e!==void 0&&R!=null&&f(e,["instances[0]","lastFrame"],nn(R));const _=c(t,["referenceImages"]);if(e!==void 0&&_!=null){let b=_;Array.isArray(b)&&(b=b.map(O=>KI(O))),f(e,["instances[0]","referenceImages"],b)}const M=c(t,["mask"]);e!==void 0&&M!=null&&f(e,["instances[0]","mask"],JI(M));const G=c(t,["compressionQuality"]);return e!==void 0&&G!=null&&f(e,["parameters","compressionQuality"],G),n}function W_(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=c(t,["done"]);s!=null&&f(e,["done"],s);const l=c(t,["error"]);l!=null&&f(e,["error"],l);const u=c(t,["response","generateVideoResponse"]);return u!=null&&f(e,["response"],X_(u)),e}function K_(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=c(t,["done"]);s!=null&&f(e,["done"],s);const l=c(t,["error"]);l!=null&&f(e,["error"],l);const u=c(t,["response"]);return u!=null&&f(e,["response"],Z_(u)),e}function Y_(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const l=c(e,["image"]);l!=null&&f(n,["instances[0]","image"],qs(l));const u=c(e,["video"]);u!=null&&f(n,["instances[0]","video"],ig(u));const d=c(e,["source"]);d!=null&&j_(d,n);const m=c(e,["config"]);return m!=null&&$_(m,n),n}function Q_(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["prompt"]);s!=null&&f(n,["instances[0]","prompt"],s);const l=c(e,["image"]);l!=null&&f(n,["instances[0]","image"],nn(l));const u=c(e,["video"]);u!=null&&f(n,["instances[0]","video"],og(u));const d=c(e,["source"]);d!=null&&eI(d,n);const m=c(e,["config"]);return m!=null&&J_(m,n),n}function X_(t){const e={},n=c(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>rI(u))),f(e,["generatedVideos"],l)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=c(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function Z_(t){const e={},n=c(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(u=>iI(u))),f(e,["generatedVideos"],l)}const i=c(t,["raiMediaFilteredCount"]);i!=null&&f(e,["raiMediaFilteredCount"],i);const s=c(t,["raiMediaFilteredReasons"]);return s!=null&&f(e,["raiMediaFilteredReasons"],s),e}function j_(t,e){const n={},i=c(t,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);const s=c(t,["image"]);e!==void 0&&s!=null&&f(e,["instances[0]","image"],qs(s));const l=c(t,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],ig(l)),n}function eI(t,e){const n={},i=c(t,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);const s=c(t,["image"]);e!==void 0&&s!=null&&f(e,["instances[0]","image"],nn(s));const l=c(t,["video"]);return e!==void 0&&l!=null&&f(e,["instances[0]","video"],og(l)),n}function tI(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["image"],fI(n));const i=c(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const s=c(t,["_self"]);return s!=null&&f(e,["safetyAttributes"],tg(s)),e}function zs(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["image"],eg(n));const i=c(t,["raiFilteredReason"]);i!=null&&f(e,["raiFilteredReason"],i);const s=c(t,["_self"]);s!=null&&f(e,["safetyAttributes"],ng(s));const l=c(t,["prompt"]);return l!=null&&f(e,["enhancedPrompt"],l),e}function nI(t){const e={},n=c(t,["_self"]);n!=null&&f(e,["mask"],eg(n));const i=c(t,["labels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),f(e,["labels"],s)}return e}function rI(t){const e={},n=c(t,["video"]);return n!=null&&f(e,["video"],OI(n)),e}function iI(t){const e={},n=c(t,["_self"]);return n!=null&&f(e,["video"],$I(n)),e}function oI(t){const e={},n=c(t,["modelSelectionConfig"]);n!=null&&f(e,["modelConfig"],n);const i=c(t,["responseJsonSchema"]);i!=null&&f(e,["responseJsonSchema"],i);const s=c(t,["audioTimestamp"]);s!=null&&f(e,["audioTimestamp"],s);const l=c(t,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const u=c(t,["enableAffectiveDialog"]);u!=null&&f(e,["enableAffectiveDialog"],u);const d=c(t,["frequencyPenalty"]);d!=null&&f(e,["frequencyPenalty"],d);const m=c(t,["logprobs"]);m!=null&&f(e,["logprobs"],m);const h=c(t,["maxOutputTokens"]);h!=null&&f(e,["maxOutputTokens"],h);const g=c(t,["mediaResolution"]);g!=null&&f(e,["mediaResolution"],g);const v=c(t,["presencePenalty"]);v!=null&&f(e,["presencePenalty"],v);const x=c(t,["responseLogprobs"]);x!=null&&f(e,["responseLogprobs"],x);const w=c(t,["responseMimeType"]);w!=null&&f(e,["responseMimeType"],w);const N=c(t,["responseModalities"]);N!=null&&f(e,["responseModalities"],N);const R=c(t,["responseSchema"]);R!=null&&f(e,["responseSchema"],R);const _=c(t,["routingConfig"]);_!=null&&f(e,["routingConfig"],_);const M=c(t,["seed"]);M!=null&&f(e,["seed"],M);const G=c(t,["speechConfig"]);G!=null&&f(e,["speechConfig"],G);const b=c(t,["stopSequences"]);b!=null&&f(e,["stopSequences"],b);const O=c(t,["temperature"]);O!=null&&f(e,["temperature"],O);const B=c(t,["thinkingConfig"]);B!=null&&f(e,["thinkingConfig"],B);const I=c(t,["topK"]);I!=null&&f(e,["topK"],I);const $=c(t,["topP"]);if($!=null&&f(e,["topP"],$),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function sI(t,e){const n={},i=c(e,["model"]);return i!=null&&f(n,["_url","name"],De(t,i)),n}function lI(t,e){const n={},i=c(e,["model"]);return i!=null&&f(n,["_url","name"],De(t,i)),n}function aI(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function uI(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function cI(t){const e={},n=c(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const i=c(t,["imageSize"]);if(i!=null&&f(e,["imageSize"],i),c(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function dI(t){const e={},n=c(t,["aspectRatio"]);n!=null&&f(e,["aspectRatio"],n);const i=c(t,["imageSize"]);i!=null&&f(e,["imageSize"],i);const s=c(t,["personGeneration"]);s!=null&&f(e,["personGeneration"],s);const l=c(t,["outputMimeType"]);l!=null&&f(e,["imageOutputOptions","mimeType"],l);const u=c(t,["outputCompressionQuality"]);return u!=null&&f(e,["imageOutputOptions","compressionQuality"],u),e}function fI(t){const e={},n=c(t,["bytesBase64Encoded"]);n!=null&&f(e,["imageBytes"],Xn(n));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function eg(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],Xn(i));const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function qs(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=c(t,["imageBytes"]);n!=null&&f(e,["bytesBase64Encoded"],Xn(n));const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function nn(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["gcsUri"],n);const i=c(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Xn(i));const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function pI(t,e,n){const i={},s=c(e,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const l=c(e,["pageToken"]);n!==void 0&&l!=null&&f(n,["_query","pageToken"],l);const u=c(e,["filter"]);n!==void 0&&u!=null&&f(n,["_query","filter"],u);const d=c(e,["queryBase"]);return n!==void 0&&d!=null&&f(n,["_url","models_url"],Wm(t,d)),i}function hI(t,e,n){const i={},s=c(e,["pageSize"]);n!==void 0&&s!=null&&f(n,["_query","pageSize"],s);const l=c(e,["pageToken"]);n!==void 0&&l!=null&&f(n,["_query","pageToken"],l);const u=c(e,["filter"]);n!==void 0&&u!=null&&f(n,["_query","filter"],u);const d=c(e,["queryBase"]);return n!==void 0&&d!=null&&f(n,["_url","models_url"],Wm(t,d)),i}function mI(t,e){const n={},i=c(e,["config"]);return i!=null&&pI(t,i,n),n}function gI(t,e){const n={},i=c(e,["config"]);return i!=null&&hI(t,i,n),n}function yI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=c(t,["_self"]);if(s!=null){let l=Km(s);Array.isArray(l)&&(l=l.map(u=>hu(u))),f(e,["models"],l)}return e}function vI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=c(t,["_self"]);if(s!=null){let l=Km(s);Array.isArray(l)&&(l=l.map(u=>mu(u))),f(e,["models"],l)}return e}function xI(t){const e={},n=c(t,["maskMode"]);n!=null&&f(e,["maskMode"],n);const i=c(t,["segmentationClasses"]);i!=null&&f(e,["maskClasses"],i);const s=c(t,["maskDilation"]);return s!=null&&f(e,["dilation"],s),e}function hu(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=c(t,["description"]);s!=null&&f(e,["description"],s);const l=c(t,["version"]);l!=null&&f(e,["version"],l);const u=c(t,["_self"]);u!=null&&f(e,["tunedModelInfo"],UI(u));const d=c(t,["inputTokenLimit"]);d!=null&&f(e,["inputTokenLimit"],d);const m=c(t,["outputTokenLimit"]);m!=null&&f(e,["outputTokenLimit"],m);const h=c(t,["supportedGenerationMethods"]);h!=null&&f(e,["supportedActions"],h);const g=c(t,["temperature"]);g!=null&&f(e,["temperature"],g);const v=c(t,["maxTemperature"]);v!=null&&f(e,["maxTemperature"],v);const x=c(t,["topP"]);x!=null&&f(e,["topP"],x);const w=c(t,["topK"]);w!=null&&f(e,["topK"],w);const N=c(t,["thinking"]);return N!=null&&f(e,["thinking"],N),e}function mu(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["displayName"]);i!=null&&f(e,["displayName"],i);const s=c(t,["description"]);s!=null&&f(e,["description"],s);const l=c(t,["versionId"]);l!=null&&f(e,["version"],l);const u=c(t,["deployedModels"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(x=>M_(x))),f(e,["endpoints"],v)}const d=c(t,["labels"]);d!=null&&f(e,["labels"],d);const m=c(t,["_self"]);m!=null&&f(e,["tunedModelInfo"],bI(m));const h=c(t,["defaultCheckpointId"]);h!=null&&f(e,["defaultCheckpointId"],h);const g=c(t,["checkpoints"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(x=>x)),f(e,["checkpoints"],v)}return e}function SI(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=c(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const s=c(t,["executableCode"]);s!=null&&f(e,["executableCode"],s);const l=c(t,["fileData"]);l!=null&&f(e,["fileData"],D_(l));const u=c(t,["functionCall"]);u!=null&&f(e,["functionCall"],L_(u));const d=c(t,["functionResponse"]);d!=null&&f(e,["functionResponse"],d);const m=c(t,["inlineData"]);m!=null&&f(e,["inlineData"],o_(m));const h=c(t,["text"]);h!=null&&f(e,["text"],h);const g=c(t,["thought"]);g!=null&&f(e,["thought"],g);const v=c(t,["thoughtSignature"]);v!=null&&f(e,["thoughtSignature"],v);const x=c(t,["videoMetadata"]);return x!=null&&f(e,["videoMetadata"],x),e}function wI(t){const e={},n=c(t,["productImage"]);return n!=null&&f(e,["image"],nn(n)),e}function EI(t,e){const n={},i=c(t,["numberOfImages"]);e!==void 0&&i!=null&&f(e,["parameters","sampleCount"],i);const s=c(t,["baseSteps"]);e!==void 0&&s!=null&&f(e,["parameters","baseSteps"],s);const l=c(t,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const u=c(t,["seed"]);e!==void 0&&u!=null&&f(e,["parameters","seed"],u);const d=c(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&f(e,["parameters","safetySetting"],d);const m=c(t,["personGeneration"]);e!==void 0&&m!=null&&f(e,["parameters","personGeneration"],m);const h=c(t,["addWatermark"]);e!==void 0&&h!=null&&f(e,["parameters","addWatermark"],h);const g=c(t,["outputMimeType"]);e!==void 0&&g!=null&&f(e,["parameters","outputOptions","mimeType"],g);const v=c(t,["outputCompressionQuality"]);e!==void 0&&v!=null&&f(e,["parameters","outputOptions","compressionQuality"],v);const x=c(t,["enhancePrompt"]);e!==void 0&&x!=null&&f(e,["parameters","enhancePrompt"],x);const w=c(t,["labels"]);return e!==void 0&&w!=null&&f(e,["labels"],w),n}function CI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["source"]);s!=null&&_I(s,n);const l=c(e,["config"]);return l!=null&&EI(l,n),n}function TI(t){const e={},n=c(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>zs(s))),f(e,["generatedImages"],i)}return e}function _I(t,e){const n={},i=c(t,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);const s=c(t,["personImage"]);e!==void 0&&s!=null&&f(e,["instances[0]","personImage","image"],nn(s));const l=c(t,["productImages"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>wI(d))),f(e,["instances[0]","productImages"],u)}return n}function II(t){const e={},n=c(t,["referenceImage"]);n!=null&&f(e,["referenceImage"],nn(n));const i=c(t,["referenceId"]);i!=null&&f(e,["referenceId"],i);const s=c(t,["referenceType"]);s!=null&&f(e,["referenceType"],s);const l=c(t,["maskImageConfig"]);l!=null&&f(e,["maskImageConfig"],xI(l));const u=c(t,["controlImageConfig"]);u!=null&&f(e,["controlImageConfig"],f_(u));const d=c(t,["styleImageConfig"]);d!=null&&f(e,["styleImageConfig"],d);const m=c(t,["subjectImageConfig"]);return m!=null&&f(e,["subjectImageConfig"],m),e}function tg(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=c(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const s=c(t,["contentType"]);return s!=null&&f(e,["contentType"],s),e}function ng(t){const e={},n=c(t,["safetyAttributes","categories"]);n!=null&&f(e,["categories"],n);const i=c(t,["safetyAttributes","scores"]);i!=null&&f(e,["scores"],i);const s=c(t,["contentType"]);return s!=null&&f(e,["contentType"],s),e}function kI(t){const e={},n=c(t,["category"]);if(n!=null&&f(e,["category"],n),c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=c(t,["threshold"]);return i!=null&&f(e,["threshold"],i),e}function AI(t){const e={},n=c(t,["image"]);return n!=null&&f(e,["image"],nn(n)),e}function NI(t,e){const n={},i=c(t,["mode"]);e!==void 0&&i!=null&&f(e,["parameters","mode"],i);const s=c(t,["maxPredictions"]);e!==void 0&&s!=null&&f(e,["parameters","maxPredictions"],s);const l=c(t,["confidenceThreshold"]);e!==void 0&&l!=null&&f(e,["parameters","confidenceThreshold"],l);const u=c(t,["maskDilation"]);e!==void 0&&u!=null&&f(e,["parameters","maskDilation"],u);const d=c(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&f(e,["parameters","binaryColorThreshold"],d);const m=c(t,["labels"]);return e!==void 0&&m!=null&&f(e,["labels"],m),n}function RI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["source"]);s!=null&&MI(s,n);const l=c(e,["config"]);return l!=null&&NI(l,n),n}function PI(t){const e={},n=c(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(s=>nI(s))),f(e,["generatedMasks"],i)}return e}function MI(t,e){const n={},i=c(t,["prompt"]);e!==void 0&&i!=null&&f(e,["instances[0]","prompt"],i);const s=c(t,["image"]);e!==void 0&&s!=null&&f(e,["instances[0]","image"],nn(s));const l=c(t,["scribbleImage"]);return e!==void 0&&l!=null&&f(e,["instances[0]","scribble"],AI(l)),n}function DI(t){const e={},n=c(t,["retrievalConfig"]);n!=null&&f(e,["retrievalConfig"],n);const i=c(t,["functionCallingConfig"]);return i!=null&&f(e,["functionCallingConfig"],U_(i)),e}function LI(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=c(t,["computerUse"]);n!=null&&f(e,["computerUse"],n);const i=c(t,["fileSearch"]);i!=null&&f(e,["fileSearch"],i);const s=c(t,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["functionDeclarations"],g)}const u=c(t,["googleMaps"]);u!=null&&f(e,["googleMaps"],aI(u));const d=c(t,["googleSearch"]);d!=null&&f(e,["googleSearch"],uI(d));const m=c(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const h=c(t,["urlContext"]);return h!=null&&f(e,["urlContext"],h),e}function rg(t){const e={},n=c(t,["retrieval"]);n!=null&&f(e,["retrieval"],n);const i=c(t,["computerUse"]);if(i!=null&&f(e,["computerUse"],i),c(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=c(t,["codeExecution"]);s!=null&&f(e,["codeExecution"],s);const l=c(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const u=c(t,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(x=>b_(x))),f(e,["functionDeclarations"],v)}const d=c(t,["googleMaps"]);d!=null&&f(e,["googleMaps"],d);const m=c(t,["googleSearch"]);m!=null&&f(e,["googleSearch"],m);const h=c(t,["googleSearchRetrieval"]);h!=null&&f(e,["googleSearchRetrieval"],h);const g=c(t,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function UI(t){const e={},n=c(t,["baseModel"]);n!=null&&f(e,["baseModel"],n);const i=c(t,["createTime"]);i!=null&&f(e,["createTime"],i);const s=c(t,["updateTime"]);return s!=null&&f(e,["updateTime"],s),e}function bI(t){const e={},n=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&f(e,["baseModel"],n);const i=c(t,["createTime"]);i!=null&&f(e,["createTime"],i);const s=c(t,["updateTime"]);return s!=null&&f(e,["updateTime"],s),e}function FI(t,e){const n={},i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const s=c(t,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);const l=c(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),n}function VI(t,e){const n={},i=c(t,["displayName"]);e!==void 0&&i!=null&&f(e,["displayName"],i);const s=c(t,["description"]);e!==void 0&&s!=null&&f(e,["description"],s);const l=c(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),n}function BI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","name"],De(t,i));const s=c(e,["config"]);return s!=null&&FI(s,n),n}function GI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["config"]);return s!=null&&VI(s,n),n}function HI(t,e){const n={},i=c(t,["outputGcsUri"]);e!==void 0&&i!=null&&f(e,["parameters","storageUri"],i);const s=c(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&f(e,["parameters","safetySetting"],s);const l=c(t,["personGeneration"]);e!==void 0&&l!=null&&f(e,["parameters","personGeneration"],l);const u=c(t,["includeRaiReason"]);e!==void 0&&u!=null&&f(e,["parameters","includeRaiReason"],u);const d=c(t,["outputMimeType"]);e!==void 0&&d!=null&&f(e,["parameters","outputOptions","mimeType"],d);const m=c(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&f(e,["parameters","outputOptions","compressionQuality"],m);const h=c(t,["enhanceInputImage"]);e!==void 0&&h!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],h);const g=c(t,["imagePreservationFactor"]);e!==void 0&&g!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],g);const v=c(t,["labels"]);e!==void 0&&v!=null&&f(e,["labels"],v);const x=c(t,["numberOfImages"]);e!==void 0&&x!=null&&f(e,["parameters","sampleCount"],x);const w=c(t,["mode"]);return e!==void 0&&w!=null&&f(e,["parameters","mode"],w),n}function zI(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["_url","model"],De(t,i));const s=c(e,["image"]);s!=null&&f(n,["instances[0]","image"],nn(s));const l=c(e,["upscaleFactor"]);l!=null&&f(n,["parameters","upscaleConfig","upscaleFactor"],l);const u=c(e,["config"]);return u!=null&&HI(u,n),n}function qI(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>zs(l))),f(e,["generatedImages"],s)}return e}function OI(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["uri"],n);const i=c(t,["encodedVideo"]);i!=null&&f(e,["videoBytes"],Xn(i));const s=c(t,["encoding"]);return s!=null&&f(e,["mimeType"],s),e}function $I(t){const e={},n=c(t,["gcsUri"]);n!=null&&f(e,["uri"],n);const i=c(t,["bytesBase64Encoded"]);i!=null&&f(e,["videoBytes"],Xn(i));const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function JI(t){const e={},n=c(t,["image"]);n!=null&&f(e,["_self"],nn(n));const i=c(t,["maskMode"]);return i!=null&&f(e,["maskMode"],i),e}function WI(t){const e={},n=c(t,["image"]);n!=null&&f(e,["image"],qs(n));const i=c(t,["referenceType"]);return i!=null&&f(e,["referenceType"],i),e}function KI(t){const e={},n=c(t,["image"]);n!=null&&f(e,["image"],nn(n));const i=c(t,["referenceType"]);return i!=null&&f(e,["referenceType"],i),e}function ig(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["uri"],n);const i=c(t,["videoBytes"]);i!=null&&f(e,["encodedVideo"],Xn(i));const s=c(t,["mimeType"]);return s!=null&&f(e,["encoding"],s),e}function og(t){const e={},n=c(t,["uri"]);n!=null&&f(e,["gcsUri"],n);const i=c(t,["videoBytes"]);i!=null&&f(e,["bytesBase64Encoded"],Xn(i));const s=c(t,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function YI(t,e){const n={},i=c(t,["displayName"]);return e!==void 0&&i!=null&&f(e,["displayName"],i),n}function QI(t){const e={},n=c(t,["config"]);return n!=null&&YI(n,e),e}function XI(t,e){const n={},i=c(t,["force"]);return e!==void 0&&i!=null&&f(e,["_query","force"],i),n}function ZI(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=c(t,["config"]);return i!=null&&XI(i,e),e}function jI(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["_url","name"],n),e}function ek(t,e){const n={},i=c(t,["customMetadata"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["customMetadata"],l)}const s=c(t,["chunkingConfig"]);return e!==void 0&&s!=null&&f(e,["chunkingConfig"],s),n}function tk(t){const e={},n=c(t,["name"]);n!=null&&f(e,["name"],n);const i=c(t,["metadata"]);i!=null&&f(e,["metadata"],i);const s=c(t,["done"]);s!=null&&f(e,["done"],s);const l=c(t,["error"]);l!=null&&f(e,["error"],l);const u=c(t,["response"]);return u!=null&&f(e,["response"],rk(u)),e}function nk(t){const e={},n=c(t,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);const i=c(t,["fileName"]);i!=null&&f(e,["fileName"],i);const s=c(t,["config"]);return s!=null&&ek(s,e),e}function rk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["parent"]);i!=null&&f(e,["parent"],i);const s=c(t,["documentName"]);return s!=null&&f(e,["documentName"],s),e}function ik(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=c(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function ok(t){const e={},n=c(t,["config"]);return n!=null&&ik(n,e),e}function sk(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=c(t,["fileSearchStores"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["fileSearchStores"],l)}return e}function sg(t,e){const n={},i=c(t,["mimeType"]);e!==void 0&&i!=null&&f(e,["mimeType"],i);const s=c(t,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const l=c(t,["customMetadata"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>m)),f(e,["customMetadata"],d)}const u=c(t,["chunkingConfig"]);return e!==void 0&&u!=null&&f(e,["chunkingConfig"],u),n}function lk(t){const e={},n=c(t,["fileSearchStoreName"]);n!=null&&f(e,["_url","file_search_store_name"],n);const i=c(t,["config"]);return i!=null&&sg(i,e),e}function ak(t){const e={},n=c(t,["sdkHttpResponse"]);return n!=null&&f(e,["sdkHttpResponse"],n),e}const uk="Content-Type",ck="X-Server-Timeout",dk="User-Agent",gu="x-goog-api-client",fk="1.35.0",pk=`google-genai-sdk/${fk}`,hk="v1beta1",mk="v1beta";class gk{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:hk,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:mk,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const s=[this.getRequestUrlInternal(n)];return i&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[u,d]of Object.entries(e.queryParams))s.searchParams.append(u,String(d));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,s.toString(),e.abortSignal),this.unaryApiCall(s,l,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[s,l]of Object.entries(n))typeof l=="object"?i[s]=Object.assign(Object.assign({},i[s]),l):l!==void 0&&(i[s]=l);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,n,i);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,s.toString(),e.abortSignal),this.streamApiCall(s,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i,s){if(n&&n.timeout||s){const l=new AbortController,u=l.signal;if(n.timeout&&n?.timeout>0){const d=setTimeout(()=>l.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}s&&s.addEventListener("abort",()=>{l.abort()}),e.signal=u}return n&&n.extraBody!==null&&yk(e,n.extraBody),e.headers=await this.getHeadersInternal(n,i),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await qh(s),new du(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async s=>(await qh(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(e){return en(this,arguments,function*(){var i;const s=(i=e?.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let u="";const d="data:",m=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:g}=yield Te(s.read());if(h){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const v=l.decode(g,{stream:!0});try{const N=JSON.parse(v);if("error"in N){const R=JSON.parse(JSON.stringify(N.error)),_=R.status,M=R.code,G=`got status: ${_}. ${JSON.stringify(N)}`;if(M>=400&&M<600)throw new Gs({message:G,status:M})}}catch(N){if(N.name==="ApiError")throw N}u+=v;let x=-1,w=0;for(;;){x=-1,w=0;for(const _ of m){const M=u.indexOf(_);M!==-1&&(x===-1||M<x)&&(x=M,w=_.length)}if(x===-1)break;const N=u.substring(0,x);u=u.substring(x+w);const R=N.trim();if(R.startsWith(d)){const _=R.substring(d.length).trim();try{const M=new Response(_,{headers:e?.headers,status:e?.status,statusText:e?.statusText});yield yield Te(new du(M))}catch(M){throw new Error(`exception parsing stream chunk ${_}. ${M}`)}}}}}finally{s.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=pk+" "+this.clientOptions.userAgentExtra;return e[dk]=n,e[gu]=n,e[uk]="application/json",e}async getHeadersInternal(e,n){const i=new Headers;if(e&&e.headers){for(const[s,l]of Object.entries(e.headers))i.append(s,l);e.timeout&&e.timeout>0&&i.append(ck,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(e){var n;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(e,n){var i;const s={};n!=null&&(s.mimeType=n.mimeType,s.name=n.name,s.displayName=n.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const l=this.clientOptions.uploader,u=await l.stat(e);s.sizeBytes=String(u.size);const d=(i=n?.mimeType)!==null&&i!==void 0?i:u.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=d;const m={file:s},h=this.getFileName(e),g=oe("upload/v1beta/files",m._url),v=await this.fetchUploadUrl(g,s.sizeBytes,s.mimeType,h,m,n?.httpOptions);return l.upload(e,v,this)}async uploadFileToFileSearchStore(e,n,i){var s;const l=this.clientOptions.uploader,u=await l.stat(n),d=String(u.size),m=(s=i?.mimeType)!==null&&s!==void 0?s:u.type;if(m===void 0||m==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${e}:uploadToFileSearchStore`,g=this.getFileName(n),v={};i!=null&&sg(i,v);const x=await this.fetchUploadUrl(h,d,m,g,v,i?.httpOptions);return l.uploadToFileSearchStore(n,x,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,i,s,l,u){var d;let m={};u?m=u:m={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},s?{"X-Goog-Upload-File-Name":s}:{})};const h=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:m});if(!h||!h?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(d=h?.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function qh(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const s=JSON.stringify(i);throw n>=400&&n<600?new Gs({message:s,status:n}):new Error(s)}}function yk(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,u){const d=Object.assign({},l);for(const m in u)if(Object.prototype.hasOwnProperty.call(u,m)){const h=u[m],g=d[m];h&&typeof h=="object"&&!Array.isArray(h)&&g&&typeof g=="object"&&!Array.isArray(g)?d[m]=i(g,h):(g&&h&&typeof g!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${m}". Original type: ${typeof g}, New type: ${typeof h}. Overwriting.`),d[m]=h)}return d}const s=i(n,e);t.body=JSON.stringify(s)}const vk="mcp_used/unknown";let xk=!1;function lg(t){for(const e of t)if(Sk(e)||typeof e=="object"&&"inputSchema"in e)return!0;return xk}function ag(t){var e;const n=(e=t[gu])!==null&&e!==void 0?e:"";t[gu]=(n+` ${vk}`).trimStart()}function Sk(t){return t!==null&&typeof t=="object"&&t instanceof $u}function wk(t){return en(this,arguments,function*(n,i=100){let s,l=0;for(;l<i;){const u=yield Te(n.listTools({cursor:s}));for(const d of u.tools)yield yield Te(d),l++;if(!u.nextCursor)break;s=u.nextCursor}})}class $u{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new $u(e,n)}async initialize(){var e,n,i,s;if(this.mcpTools.length>0)return;const l={},u=[];for(const g of this.mcpClients)try{for(var d=!0,m=(n=void 0,tn(wk(g))),h;h=await m.next(),e=h.done,!e;d=!0){s=h.value,d=!1;const v=s;u.push(v);const x=v.name;if(l[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);l[x]=g}}catch(v){n={error:v}}finally{try{!d&&!e&&(i=m.return)&&await i.call(m)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),jE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const u=await s.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:u.isError?{error:u}:u}})}return n}}async function Ek(t,e,n){const i=new $E;let s;n.data instanceof Blob?s=JSON.parse(await n.data.text()):s=JSON.parse(n.data),Object.assign(i,s),e(i)}class Ck{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),u=Ik(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),m=`${s}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${d}`;let h=()=>{};const g=new Promise(b=>{h=b}),v=e.callbacks,x=function(){h({})},w=this.apiClient,N={onopen:x,onmessage:b=>{Ek(w,v.onmessage,b)},onerror:(n=v?.onerror)!==null&&n!==void 0?n:function(b){},onclose:(i=v?.onclose)!==null&&i!==void 0?i:function(b){}},R=this.webSocketFactory.create(m,_k(u),N);R.connect(),await g;const G={setup:{model:De(this.apiClient,e.model)}};return R.send(JSON.stringify(G)),new Tk(R,this.apiClient)}}class Tk{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=QT(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=YT(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl($r.PLAY)}pause(){this.sendPlaybackControl($r.PAUSE)}stop(){this.sendPlaybackControl($r.STOP)}resetContext(){this.sendPlaybackControl($r.RESET_CONTEXT)}close(){this.conn.close()}}function _k(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Ik(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const kk="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Ak(t,e,n){const i=new OE;let s;n.data instanceof Blob?s=await n.data.text():n.data instanceof ArrayBuffer?s=new TextDecoder().decode(n.data):s=n.data;const l=JSON.parse(s);if(t.isVertexAI()){const u=jT(l);Object.assign(i,u)}else Object.assign(i,l);e(i)}class Nk{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new Ck(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,s,l,u,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const m=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let g;const v=this.apiClient.getHeaders();e.config&&e.config.tools&&lg(e.config.tools)&&ag(v);const x=Dk(v);if(this.apiClient.isVertexAI())g=`${m}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x,g);else{const K=this.apiClient.getApiKey();let re="BidiGenerateContent",te="key";K?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",te="access_token"),g=`${m}/ws/google.ai.generativelanguage.${h}.GenerativeService.${re}?${te}=${K}`}let w=()=>{};const N=new Promise(K=>{w=K}),R=e.callbacks,_=function(){var K;(K=R?.onopen)===null||K===void 0||K.call(R),w({})},M=this.apiClient,G={onopen:_,onmessage:K=>{Ak(M,R.onmessage,K)},onerror:(n=R?.onerror)!==null&&n!==void 0?n:function(K){},onclose:(i=R?.onclose)!==null&&i!==void 0?i:function(K){}},b=this.webSocketFactory.create(g,Mk(x),G);b.connect(),await N;let O=De(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const K=this.apiClient.getProject(),re=this.apiClient.getLocation();O=`projects/${K}/locations/${re}/`+O}let B={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Rs.AUDIO]}:e.config.responseModalities=[Rs.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(d=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[],$=[];for(const K of I)if(this.isCallableTool(K)){const re=K;$.push(await re.tool())}else $.push(K);$.length>0&&(e.config.tools=$);const le={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?B=KT(this.apiClient,le):B=WT(this.apiClient,le),delete B.config,b.send(JSON.stringify(B)),new Pk(b,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Rk={turnComplete:!0};class Pk{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Ot(n.turns),e.isVertexAI()||(i=i.map(s=>Hs(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(kk)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},Rk),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:ZT(e)}:n={realtimeInput:XT(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Mk(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function Dk(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}const Oh=10;function $h(t){var e,n,i;if(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const u of(n=t?.tools)!==null&&n!==void 0?n:[])if(Qr(u)){s=!0;break}if(!s)return!0;const l=(i=t?.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Qr(t){return"callTool"in t&&typeof t.callTool=="function"}function Lk(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(s=>Qr(s)))!==null&&i!==void 0?i:!1}function Jh(t){var e;const n=[];return!((e=t?.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,s)=>{if(Qr(i))return;const l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(s)}),n}function Wh(t){var e;return!(!((e=t?.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}class Uk extends Tn{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,s,l,u,d;const m=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Lk(n)||$h(n.config))return await this.generateContentInternal(m);const h=Jh(n);if(h.length>0){const R=h.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${R}.`)}let g,v;const x=Ot(m.contents),w=(l=(s=(i=m.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&l!==void 0?l:Oh;let N=0;for(;N<w&&(g=await this.generateContentInternal(m),!(!g.functionCalls||g.functionCalls.length===0));){const R=g.candidates[0].content,_=[];for(const M of(d=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&d!==void 0?d:[])if(Qr(M)){const b=await M.callTool(g.functionCalls);_.push(...b)}N++,v={role:"user",parts:_},m.contents=Ot(m.contents),m.contents.push(R),m.contents.push(v),Wh(m.config)&&(x.push(R),x.push(v))}return Wh(m.config)&&(g.automaticFunctionCallingHistory=x),g},this.generateContentStream=async n=>{var i,s,l,u,d;if(this.maybeMoveToResponseJsonSchem(n),$h(n.config)){const v=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(v)}const m=Jh(n);if(m.length>0){const v=m.map(x=>`tools[${x}]`).join(", ");throw new Error(`Incompatible tools found at ${v}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(l=(s=(i=n?.config)===null||i===void 0?void 0:i.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,g=(d=(u=n?.config)===null||u===void 0?void 0:u.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(h&&!g)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var s;let l;const u=[];if(i?.generatedImages)for(const m of i.generatedImages)m&&m?.safetyAttributes&&((s=m?.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?l=m?.safetyAttributes:u.push(m);let d;return l?d={generatedImages:u,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:d={generatedImages:u,sdkHttpResponse:i.sdkHttpResponse},d}),this.list=async n=>{var i;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((i=u.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new hr(Cn.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(u),u)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const s={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(s)},this.generateVideos=async n=>{var i,s,l,u,d,m;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((s=n.video)===null||s===void 0)&&s.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((u=(l=n.source)===null||l===void 0?void 0:l.video)===null||u===void 0)&&u.uri&&(!((m=(d=n.source)===null||d===void 0?void 0:d.video)===null||m===void 0)&&m.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,i,s;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const u=await Promise.all(l.map(async m=>Qr(m)?await m.tool():m)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(d.config.tools=u,e.config&&e.config.tools&&lg(e.config.tools)){const m=(s=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&s!==void 0?s:{};let h=Object.assign({},m);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),ag(h),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return d}async initAfcToolsMap(e){var n,i,s;const l=new Map;for(const u of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Qr(u)){const d=u,m=await d.tool();for(const h of(s=m.functionDeclarations)!==null&&s!==void 0?s:[]){if(!h.name)throw new Error("Function declaration name is required.");if(l.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);l.set(h.name,d)}}return l}async processAfcStream(e){var n,i,s;const l=(s=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:Oh;let u=!1,d=0;const m=await this.initAfcToolsMap(e);return(function(h,g,v){return en(this,arguments,function*(){for(var x,w,N,R,_,M;d<l;){u&&(d++,u=!1);const B=yield Te(h.processParamsMaybeAddMcpUsage(v)),I=yield Te(h.generateContentStreamInternal(B)),$=[],le=[];try{for(var G=!0,b=(w=void 0,tn(I)),O;O=yield Te(b.next()),x=O.done,!x;G=!0){R=O.value,G=!1;const K=R;if(yield yield Te(K),K.candidates&&(!((_=K.candidates[0])===null||_===void 0)&&_.content)){le.push(K.candidates[0].content);for(const re of(M=K.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(d<l&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(re.functionCall.name)){const te=yield Te(g.get(re.functionCall.name).callTool([re.functionCall]));$.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(K){w={error:K}}finally{try{!G&&!x&&(N=b.return)&&(yield Te(N.call(b)))}finally{if(w)throw w.error}}if($.length>0){u=!0;const K=new Wi;K.candidates=[{content:{role:"user",parts:$}}],yield yield Te(K);const re=[];re.push(...le),re.push({role:"user",parts:$});const te=Ot(v.contents).concat(re);v.contents=te}else break}})})(this,m,e)}async generateContentInternal(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=Gh(this.apiClient,e);return d=oe("{model}:generateContent",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=zh(g),x=new Wi;return Object.assign(x,v),x})}else{const h=Bh(this.apiClient,e);return d=oe("{model}:generateContent",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=Hh(g),x=new Wi;return Object.assign(x,v),x})}}async generateContentStreamInternal(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=Gh(this.apiClient,e);return d=oe("{model}:streamGenerateContent?alt=sse",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),u.then(function(v){return en(this,arguments,function*(){var x,w,N,R;try{for(var _=!0,M=tn(v),G;G=yield Te(M.next()),x=G.done,!x;_=!0){R=G.value,_=!1;const b=R,O=zh(yield Te(b.json()));O.sdkHttpResponse={headers:b.headers};const B=new Wi;Object.assign(B,O),yield yield Te(B)}}catch(b){w={error:b}}finally{try{!_&&!x&&(N=M.return)&&(yield Te(N.call(M)))}finally{if(w)throw w.error}}})})}else{const h=Bh(this.apiClient,e);return d=oe("{model}:streamGenerateContent?alt=sse",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.requestStream({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),u.then(function(v){return en(this,arguments,function*(){var x,w,N,R;try{for(var _=!0,M=tn(v),G;G=yield Te(M.next()),x=G.done,!x;_=!0){R=G.value,_=!1;const b=R,O=Hh(yield Te(b.json()));O.sdkHttpResponse={headers:b.headers};const B=new Wi;Object.assign(B,O),yield yield Te(B)}}catch(b){w={error:b}}finally{try{!_&&!x&&(N=M.return)&&(yield Te(N.call(M)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=N_(this.apiClient,e);return d=oe("{model}:predict",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=P_(g),x=new Eh;return Object.assign(x,v),x})}else{const h=A_(this.apiClient,e);return d=oe("{model}:batchEmbedContents",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=R_(g),x=new Eh;return Object.assign(x,v),x})}}async generateImagesInternal(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=z_(this.apiClient,e);return d=oe("{model}:predict",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=O_(g),x=new Ch;return Object.assign(x,v),x})}else{const h=H_(this.apiClient,e);return d=oe("{model}:predict",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=q_(g),x=new Ch;return Object.assign(x,v),x})}}async editImageInternal(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=T_(this.apiClient,e);return l=oe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:m.headers},g})),s.then(m=>{const h=__(m),g=new DE;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=zI(this.apiClient,e);return l=oe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:m.headers},g})),s.then(m=>{const h=qI(m),g=new LE;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=CI(this.apiClient,e);return l=oe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>{const h=TI(m),g=new UE;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=RI(this.apiClient,e);return l=oe("{model}:predict",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>{const h=PI(m),g=new bE;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=lI(this.apiClient,e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>mu(g))}else{const h=sI(this.apiClient,e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>hu(g))}}async listInternal(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=gI(this.apiClient,e);return d=oe("{models_url}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=vI(g),x=new Th;return Object.assign(x,v),x})}else{const h=mI(this.apiClient,e);return d=oe("{models_url}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=yI(g),x=new Th;return Object.assign(x,v),x})}}async update(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=GI(this.apiClient,e);return d=oe("{model}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>mu(g))}else{const h=BI(this.apiClient,e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>hu(g))}}async delete(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=S_(this.apiClient,e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=E_(g),x=new _h;return Object.assign(x,v),x})}else{const h=x_(this.apiClient,e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=w_(g),x=new _h;return Object.assign(x,v),x})}}async countTokens(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=g_(this.apiClient,e);return d=oe("{model}:countTokens",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=v_(g),x=new Ih;return Object.assign(x,v),x})}else{const h=m_(this.apiClient,e);return d=oe("{model}:countTokens",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=y_(g),x=new Ih;return Object.assign(x,v),x})}}async computeTokens(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=a_(this.apiClient,e);return l=oe("{model}:computeTokens",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:m.headers},g})),s.then(m=>{const h=u_(m),g=new FE;return Object.assign(g,h),g})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=Q_(this.apiClient,e);return d=oe("{model}:predictLongRunning",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u.then(g=>{const v=K_(g),x=new Ps;return Object.assign(x,v),x})}else{const h=Y_(this.apiClient,e);return d=oe("{model}:predictLongRunning",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u.then(g=>{const v=W_(g),x=new Ps;return Object.assign(x,v),x})}}}class bk extends Tn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const u=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:s,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:u,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=kE(e);return d=oe("{operationName}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),u}else{const h=IE(e);return d=oe("{operationName}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json()),u}}async fetchPredictVideosOperationInternal(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=xE(e);return l=oe("{resourceName}:fetchPredictOperation",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}function Fk(t){const e={},n=c(t,["data"]);if(n!=null&&f(e,["data"],n),c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function Vk(t){const e={},n=c(t,["parts"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(l=>Wk(l))),f(e,["parts"],s)}const i=c(t,["role"]);return i!=null&&f(e,["role"],i),e}function Bk(t,e,n){const i={},s=c(e,["expireTime"]);n!==void 0&&s!=null&&f(n,["expireTime"],s);const l=c(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&f(n,["newSessionExpireTime"],l);const u=c(e,["uses"]);n!==void 0&&u!=null&&f(n,["uses"],u);const d=c(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&f(n,["bidiGenerateContentSetup"],Jk(t,d));const m=c(e,["lockAdditionalFields"]);return n!==void 0&&m!=null&&f(n,["fieldMask"],m),i}function Gk(t,e){const n={},i=c(e,["config"]);return i!=null&&f(n,["config"],Bk(t,i,n)),n}function Hk(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=c(t,["fileUri"]);n!=null&&f(e,["fileUri"],n);const i=c(t,["mimeType"]);return i!=null&&f(e,["mimeType"],i),e}function zk(t){const e={},n=c(t,["id"]);n!=null&&f(e,["id"],n);const i=c(t,["args"]);i!=null&&f(e,["args"],i);const s=c(t,["name"]);if(s!=null&&f(e,["name"],s),c(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function qk(t){const e={};if(c(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=c(t,["enableWidget"]);return n!=null&&f(e,["enableWidget"],n),e}function Ok(t){const e={};if(c(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=c(t,["timeRangeFilter"]);return n!=null&&f(e,["timeRangeFilter"],n),e}function $k(t,e){const n={},i=c(t,["generationConfig"]);e!==void 0&&i!=null&&f(e,["setup","generationConfig"],i);const s=c(t,["responseModalities"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig","responseModalities"],s);const l=c(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const u=c(t,["topP"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","topP"],u);const d=c(t,["topK"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topK"],d);const m=c(t,["maxOutputTokens"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","maxOutputTokens"],m);const h=c(t,["mediaResolution"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","mediaResolution"],h);const g=c(t,["seed"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","seed"],g);const v=c(t,["speechConfig"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","speechConfig"],Ou(v));const x=c(t,["thinkingConfig"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","thinkingConfig"],x);const w=c(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],w);const N=c(t,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],Vk(pt(N)));const R=c(t,["tools"]);if(e!==void 0&&R!=null){let I=ei(R);Array.isArray(I)&&(I=I.map($=>Yk(jr($)))),f(e,["setup","tools"],I)}const _=c(t,["sessionResumption"]);e!==void 0&&_!=null&&f(e,["setup","sessionResumption"],Kk(_));const M=c(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&f(e,["setup","inputAudioTranscription"],M);const G=c(t,["outputAudioTranscription"]);e!==void 0&&G!=null&&f(e,["setup","outputAudioTranscription"],G);const b=c(t,["realtimeInputConfig"]);e!==void 0&&b!=null&&f(e,["setup","realtimeInputConfig"],b);const O=c(t,["contextWindowCompression"]);e!==void 0&&O!=null&&f(e,["setup","contextWindowCompression"],O);const B=c(t,["proactivity"]);if(e!==void 0&&B!=null&&f(e,["setup","proactivity"],B),c(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Jk(t,e){const n={},i=c(e,["model"]);i!=null&&f(n,["setup","model"],De(t,i));const s=c(e,["config"]);return s!=null&&f(n,["config"],$k(s,n)),n}function Wk(t){const e={},n=c(t,["mediaResolution"]);n!=null&&f(e,["mediaResolution"],n);const i=c(t,["codeExecutionResult"]);i!=null&&f(e,["codeExecutionResult"],i);const s=c(t,["executableCode"]);s!=null&&f(e,["executableCode"],s);const l=c(t,["fileData"]);l!=null&&f(e,["fileData"],Hk(l));const u=c(t,["functionCall"]);u!=null&&f(e,["functionCall"],zk(u));const d=c(t,["functionResponse"]);d!=null&&f(e,["functionResponse"],d);const m=c(t,["inlineData"]);m!=null&&f(e,["inlineData"],Fk(m));const h=c(t,["text"]);h!=null&&f(e,["text"],h);const g=c(t,["thought"]);g!=null&&f(e,["thought"],g);const v=c(t,["thoughtSignature"]);v!=null&&f(e,["thoughtSignature"],v);const x=c(t,["videoMetadata"]);return x!=null&&f(e,["videoMetadata"],x),e}function Kk(t){const e={},n=c(t,["handle"]);if(n!=null&&f(e,["handle"],n),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Yk(t){const e={};if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=c(t,["computerUse"]);n!=null&&f(e,["computerUse"],n);const i=c(t,["fileSearch"]);i!=null&&f(e,["fileSearch"],i);const s=c(t,["codeExecution"]);if(s!=null&&f(e,["codeExecution"],s),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=c(t,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(v=>v)),f(e,["functionDeclarations"],g)}const u=c(t,["googleMaps"]);u!=null&&f(e,["googleMaps"],qk(u));const d=c(t,["googleSearch"]);d!=null&&f(e,["googleSearch"],Ok(d));const m=c(t,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const h=c(t,["urlContext"]);return h!=null&&f(e,["urlContext"],h),e}function Qk(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const s=Object.keys(i).map(l=>`${n}.${l}`);e.push(...s)}else e.push(n)}return e.join(",")}function Xk(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const s=t.fieldMask;if(n){const l=Qk(n);if(Array.isArray(e?.lockAdditionalFields)&&e?.lockAdditionalFields.length===0)l?t.fieldMask=l:delete t.fieldMask;else if(e?.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];s.length>0&&(d=s.map(h=>u.includes(h)?`generationConfig.${h}`:h));const m=[];l&&m.push(l),d.length>0&&m.push(...d),m.length>0?t.fieldMask=m.join(","):delete t.fieldMask}else delete t.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?t.fieldMask=s.join(","):delete t.fieldMask;return t}class Zk extends Tn{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=Gk(this.apiClient,e);l=oe("auth_tokens",d._url),u=d._query,delete d.config,delete d._url,delete d._query;const m=Xk(d,e.config);return s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(h=>h.json()),s.then(h=>h)}}}function jk(t,e){const n={},i=c(t,["force"]);return e!==void 0&&i!=null&&f(e,["_query","force"],i),n}function e1(t){const e={},n=c(t,["name"]);n!=null&&f(e,["_url","name"],n);const i=c(t,["config"]);return i!=null&&jk(i,e),e}function t1(t){const e={},n=c(t,["name"]);return n!=null&&f(e,["_url","name"],n),e}function n1(t,e){const n={},i=c(t,["pageSize"]);e!==void 0&&i!=null&&f(e,["_query","pageSize"],i);const s=c(t,["pageToken"]);return e!==void 0&&s!=null&&f(e,["_query","pageToken"],s),n}function r1(t){const e={},n=c(t,["parent"]);n!=null&&f(e,["_url","parent"],n);const i=c(t,["config"]);return i!=null&&n1(i,e),e}function i1(t){const e={},n=c(t,["sdkHttpResponse"]);n!=null&&f(e,["sdkHttpResponse"],n);const i=c(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const s=c(t,["documents"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(u=>u)),f(e,["documents"],l)}return e}class o1 extends Tn{constructor(e){super(),this.apiClient=e,this.list=async n=>new hr(Cn.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=t1(e);return l=oe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>m)}}async delete(e){var n,i;let s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=e1(e);s=oe("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=r1(e);return l=oe("{parent}/documents",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>{const h=i1(m),g=new VE;return Object.assign(g,h),g})}}}class s1 extends Tn{constructor(e,n=new o1(e)){super(),this.apiClient=e,this.documents=n,this.list=async(i={})=>new hr(Cn.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=QI(e);return l=oe("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>m)}}async get(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=jI(e);return l=oe("{name}",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>m)}}async delete(e){var n,i;let s="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZI(e);s=oe("{name}",u._url),l=u._query,delete u._url,delete u._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ok(e);return l=oe("fileSearchStores",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>{const h=sk(m),g=new BE;return Object.assign(g,h),g})}}async uploadToFileSearchStoreInternal(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=lk(e);return l=oe("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>{const h=ak(m),g=new GE;return Object.assign(g,h),g})}}async importFile(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=nk(e);return l=oe("{file_search_store_name}:importFile",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),s.then(m=>{const h=tk(m),g=new Bu;return Object.assign(g,h),g})}}}let ug=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return ug=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const l1=()=>ug();function yu(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const vu=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class $t extends Error{}class vt extends $t{constructor(e,n,i,s){super(`${vt.makeMessage(e,n,i)}`),this.status=e,this.headers=s,this.error=n}static makeMessage(e,n,i){const s=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,n,i,s){if(!e||!s)return new Os({message:i,cause:vu(n)});const l=n;return e===400?new dg(e,l,i,s):e===401?new fg(e,l,i,s):e===403?new pg(e,l,i,s):e===404?new hg(e,l,i,s):e===409?new mg(e,l,i,s):e===422?new gg(e,l,i,s):e===429?new yg(e,l,i,s):e>=500?new vg(e,l,i,s):new vt(e,l,i,s)}}class xu extends vt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Os extends vt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class cg extends Os{constructor({message:e}={}){super({message:e??"Request timed out."})}}class dg extends vt{}class fg extends vt{}class pg extends vt{}class hg extends vt{}class mg extends vt{}class gg extends vt{}class yg extends vt{}class vg extends vt{}const a1=/^[a-z][a-z0-9+.-]*:/i,u1=t=>a1.test(t);let Su=t=>(Su=Array.isArray,Su(t));const c1=Su;let d1=c1;const Kh=d1;function f1(t){if(!t)return!0;for(const e in t)return!1;return!0}function p1(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const h1=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new $t(`${t} must be an integer`);if(e<0)throw new $t(`${t} must be a positive integer`);return e},m1=t=>{try{return JSON.parse(t)}catch{return}};const g1=t=>new Promise(e=>setTimeout(e,t));const Or="0.0.1";function y1(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const v1=()=>{var t,e,n,i,s;const l=y1();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Or,"X-Stainless-OS":Qh(Deno.build.os),"X-Stainless-Arch":Yh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Or,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Or,"X-Stainless-OS":Qh((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Yh((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const u=x1();return u?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Or,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${u.browser}`,"X-Stainless-Runtime-Version":u.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Or,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function x1(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const i=n.exec(navigator.userAgent);if(i){const s=i[1]||0,l=i[2]||0,u=i[3]||0;return{browser:e,version:`${s}.${l}.${u}`}}}return null}const Yh=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Qh=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Ss;const S1=()=>Ss??(Ss=v1());function w1(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function xg(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function E1(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return xg({start(){},async pull(n){const{done:i,value:s}=await e.next();i?n.close():n.enqueue(s)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function Sg(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n?.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function C1(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const i=t.getReader(),s=i.cancel();i.releaseLock(),await s}const T1=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});const wg=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e?.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xa(t,e,n){return wg(),new File(t,e??"unknown_file",n)}function _1(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const I1=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";const Eg=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",k1=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Eg(t),A1=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function N1(t,e,n){if(wg(),t=await t,k1(t))return t instanceof File?t:Xa([await t.arrayBuffer()],t.name);if(A1(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Xa(await wu(s),e,n)}const i=await wu(t);if(e||(e=_1(t)),!n?.type){const s=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof s=="string"&&(n=Object.assign(Object.assign({},n),{type:s}))}return Xa(i,e,n)}async function wu(t){var e,n,i,s,l;let u=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)u.push(t);else if(Eg(t))u.push(t instanceof Blob?t:await t.arrayBuffer());else if(I1(t))try{for(var d=!0,m=tn(t),h;h=await m.next(),e=h.done,!e;d=!0){s=h.value,d=!1;const g=s;u.push(...await wu(g))}}catch(g){n={error:g}}finally{try{!d&&!e&&(i=m.return)&&await i.call(m)}finally{if(n)throw n.error}}else{const g=(l=t?.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${g?`; constructor: ${g}`:""}${R1(t)}`)}return u}function R1(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}class Cg{constructor(e){this._client=e}}Cg._key=[];function Tg(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Xh=Object.freeze(Object.create(null)),P1=(t=Tg)=>(function(n,...i){if(n.length===1)return n[0];let s=!1;const l=[],u=n.reduce((g,v,x)=>{var w,N,R;/[?#]/.test(v)&&(s=!0);const _=i[x];let M=(s?encodeURIComponent:t)(""+_);return x!==i.length&&(_==null||typeof _=="object"&&_.toString===((R=Object.getPrototypeOf((N=Object.getPrototypeOf((w=_.hasOwnProperty)!==null&&w!==void 0?w:Xh))!==null&&N!==void 0?N:Xh))===null||R===void 0?void 0:R.toString))&&(M=_+"",l.push({start:g.length+v.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),g+v+(x===i.length?"":M)},""),d=u.split(/[?#]/,1)[0],m=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=m.exec(d))!==null;)l.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(l.sort((g,v)=>g.start-v.start),l.length>0){let g=0;const v=l.reduce((x,w)=>{const N=" ".repeat(w.start-g),R="^".repeat(w.length);return g=w.start+w.length,x+N+R},"");throw new $t(`Path parameters result in path with invalid segments:
${l.map(x=>x.error).join(`
`)}
${u}
${v}`)}return u}),ws=P1(Tg);class _g extends Cg{create(e,n){var i;const{api_version:s=this._client.apiVersion}=e,l=Ds(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new $t("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new $t("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ws`/${s}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,n={},i){const{api_version:s=this._client.apiVersion}=n??{};return this._client.delete(ws`/${s}/interactions/${e}`,i)}cancel(e,n={},i){const{api_version:s=this._client.apiVersion}=n??{};return this._client.post(ws`/${s}/interactions/${e}/cancel`,i)}get(e,n={},i){var s;const l=n??{},{api_version:u=this._client.apiVersion}=l,d=Ds(l,["api_version"]);return this._client.get(ws`/${u}/interactions/${e}`,Object.assign(Object.assign({query:d},i),{stream:(s=n?.stream)!==null&&s!==void 0?s:!1}))}}_g._key=Object.freeze(["interactions"]);class Ig extends _g{}function M1(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let i=0;for(const s of t)n.set(s,i),i+=s.length;return n}let Es;function Ju(t){let e;return(Es??(e=new globalThis.TextEncoder,Es=e.encode.bind(e)))(t)}let Cs;function Zh(t){let e;return(Cs??(e=new globalThis.TextDecoder,Cs=e.decode.bind(e)))(t)}class $s{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ju(e):e;this.buffer=M1([this.buffer,n]);const i=[];let s;for(;(s=D1(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){i.push(Zh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,u=Zh(this.buffer.subarray(0,l));i.push(u),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}$s.NEWLINE_CHARS=new Set([`
`,"\r"]);$s.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function D1(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function L1(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}const Ls={off:0,error:200,warn:300,info:400,debug:500},jh=(t,e,n)=>{if(t){if(p1(Ls,t))return t;yt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Ls))}`)}};function Yi(){}function Ts(t,e,n){return!e||Ls[t]>Ls[n]?Yi:e[t].bind(e)}const U1={error:Yi,warn:Yi,info:Yi,debug:Yi};let em=new WeakMap;function yt(t){var e;const n=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return U1;const s=em.get(n);if(s&&s[0]===i)return s[1];const l={error:Ts("error",n,i),warn:Ts("warn",n,i),info:Ts("info",n,i),debug:Ts("debug",n,i)};return em.set(n,[i,l]),l}const fr=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);class Jr{constructor(e,n,i){this.iterator=e,this.controller=n,this.client=i}static fromSSEResponse(e,n,i){let s=!1;const l=i?yt(i):console;function u(){return en(this,arguments,function*(){var m,h,g,v;if(s)throw new $t("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let x=!1;try{try{for(var w=!0,N=tn(b1(e,n)),R;R=yield Te(N.next()),m=R.done,!m;w=!0){v=R.value,w=!1;const _=v;if(!x)if(_.data.startsWith("[DONE]")){x=!0;continue}else try{yield yield Te(JSON.parse(_.data))}catch(M){throw l.error("Could not parse message into JSON:",_.data),l.error("From chunk:",_.raw),M}}}catch(_){h={error:_}}finally{try{!w&&!m&&(g=N.return)&&(yield Te(g.call(N)))}finally{if(h)throw h.error}}x=!0}catch(_){if(yu(_))return yield Te(void 0);throw _}finally{x||n.abort()}})}return new Jr(u,n,i)}static fromReadableStream(e,n,i){let s=!1;function l(){return en(this,arguments,function*(){var m,h,g,v;const x=new $s,w=Sg(e);try{for(var N=!0,R=tn(w),_;_=yield Te(R.next()),m=_.done,!m;N=!0){v=_.value,N=!1;const M=v;for(const G of x.decode(M))yield yield Te(G)}}catch(M){h={error:M}}finally{try{!N&&!m&&(g=R.return)&&(yield Te(g.call(R)))}finally{if(h)throw h.error}}for(const M of x.flush())yield yield Te(M)})}function u(){return en(this,arguments,function*(){var m,h,g,v;if(s)throw new $t("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let x=!1;try{try{for(var w=!0,N=tn(l()),R;R=yield Te(N.next()),m=R.done,!m;w=!0){v=R.value,w=!1;const _=v;x||_&&(yield yield Te(JSON.parse(_)))}}catch(_){h={error:_}}finally{try{!w&&!m&&(g=N.return)&&(yield Te(g.call(N)))}finally{if(h)throw h.error}}x=!0}catch(_){if(yu(_))return yield Te(void 0);throw _}finally{x||n.abort()}})}return new Jr(u,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],i=this.iterator(),s=l=>({next:()=>{if(l.length===0){const u=i.next();e.push(u),n.push(u)}return l.shift()}});return[new Jr(()=>s(e),this.controller,this.client),new Jr(()=>s(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return xg({async start(){n=e[Symbol.asyncIterator]()},async pull(i){try{const{value:s,done:l}=await n.next();if(l)return i.close();const u=Ju(JSON.stringify(s)+`
`);i.enqueue(u)}catch(s){i.error(s)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function b1(t,e){return en(this,arguments,function*(){var i,s,l,u;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new $t("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new $t("Attempted to iterate over a response with no body");const d=new V1,m=new $s,h=Sg(t.body);try{for(var g=!0,v=tn(F1(h)),x;x=yield Te(v.next()),i=x.done,!i;g=!0){u=x.value,g=!1;const w=u;for(const N of m.decode(w)){const R=d.decode(N);R&&(yield yield Te(R))}}}catch(w){s={error:w}}finally{try{!g&&!i&&(l=v.return)&&(yield Te(l.call(v)))}finally{if(s)throw s.error}}for(const w of m.flush()){const N=d.decode(w);N&&(yield yield Te(N))}})}function F1(t){return en(this,arguments,function*(){var n,i,s,l;let u=new Uint8Array;try{for(var d=!0,m=tn(t),h;h=yield Te(m.next()),n=h.done,!n;d=!0){l=h.value,d=!1;const g=l;if(g==null)continue;const v=g instanceof ArrayBuffer?new Uint8Array(g):typeof g=="string"?Ju(g):g;let x=new Uint8Array(u.length+v.length);x.set(u),x.set(v,u.length),u=x;let w;for(;(w=L1(u))!==-1;)yield yield Te(u.slice(0,w)),u=u.slice(w)}}catch(g){i={error:g}}finally{try{!d&&!n&&(s=m.return)&&(yield Te(s.call(m)))}finally{if(i)throw i.error}}u.length>0&&(yield yield Te(u))})}class V1{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,i,s]=B1(e,":");return s.startsWith(" ")&&(s=s.substring(1)),n==="event"?this.event=s:n==="data"&&this.data.push(s),null}}function B1(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}async function G1(t,e){const{response:n,requestLogID:i,retryOfRequestLogID:s,startTime:l}=e,u=await(async()=>{var d;if(e.options.stream)return yt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Jr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const m=n.headers.get("content-type"),h=(d=m?.split(";")[0])===null||d===void 0?void 0:d.trim();return h?.includes("application/json")||h?.endsWith("+json")?await n.json():await n.text()})();return yt(t).debug(`[${i}] response parsed`,fr({retryOfRequestLogID:s,url:n.url,status:n.status,body:u,durationMs:Date.now()-l})),u}class Wu extends Promise{constructor(e,n,i=G1){super(s=>{s(null)}),this.responsePromise=n,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new Wu(this.client,this.responsePromise,async(n,i)=>e(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}const kg=Symbol("brand.privateNullableHeaders");function*H1(t){if(!t)return;if(kg in t){const{values:i,nulls:s}=t;yield*i.entries();for(const l of s)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():Kh(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let i of n){const s=i[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const l=Kh(i[1])?i[1]:[i[1]];let u=!1;for(const d of l)d!==void 0&&(e&&!u&&(u=!0,yield[s,null]),yield[s,d])}}const Ki=t=>{const e=new Headers,n=new Set;for(const i of t){const s=new Set;for(const[l,u]of H1(i)){const d=l.toLowerCase();s.has(d)||(e.delete(l),s.add(d)),u===null?(e.delete(l),n.add(d)):(e.append(l,u),n.delete(d))}}return{[kg]:!0,values:e,nulls:n}};const Za=t=>{var e,n,i,s,l,u;if(typeof globalThis.process<"u")return(i=(n=(e=pE)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(u=(l=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||l===void 0?void 0:l.call(s,t))===null||u===void 0?void 0:u.trim()};var Ag;class Js{constructor(e){var n,i,s,l,u,d,m,{baseURL:h=Za("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:g=(n=Za("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:v="v1beta"}=e,x=Ds(e,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:g,apiVersion:v},x),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(i=w.timeout)!==null&&i!==void 0?i:Js.DEFAULT_TIMEOUT,this.logger=(s=w.logger)!==null&&s!==void 0?s:console;const N="warn";this.logLevel=N,this.logLevel=(u=(l=jh(w.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:jh(Za("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&u!==void 0?u:N,this.fetchOptions=w.fetchOptions,this.maxRetries=(d=w.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(m=w.fetch)!==null&&m!==void 0?m:w1(),this.encoder=T1,this._options=w,this.apiKey=g,this.apiVersion=v,this.clientAdapter=w.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Ki([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Ki([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ki([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new $t(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Or}`}defaultIdempotencyKey(){return`stainless-node-retry-${l1()}`}makeStatusError(e,n,i,s){return vt.generate(e,n,i,s)}buildURL(e,n,i){const s=!this.baseURLOverridden()&&i||this.baseURL,l=u1(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),u=this.defaultQuery();return f1(u)||(n=Object.assign(Object.assign({},u),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:i}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,i){return this.request(Promise.resolve(i).then(s=>Object.assign({method:e,path:n},s)))}request(e,n=null){return new Wu(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,i){var s,l,u;const d=await e,m=(s=d.maxRetries)!==null&&s!==void 0?s:this.maxRetries;n==null&&(n=m),await this.prepareOptions(d);const{req:h,url:g,timeout:v}=await this.buildRequest(d,{retryCount:m-n});await this.prepareRequest(h,{url:g,options:d});const x="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=i===void 0?"":`, retryOf: ${i}`,N=Date.now();if(yt(this).debug(`[${x}] sending request`,fr({retryOfRequestLogID:i,method:d.method,url:g,options:d,headers:h.headers})),!((l=d.signal)===null||l===void 0)&&l.aborted)throw new xu;const R=new AbortController,_=await this.fetchWithTimeout(g,h,v,R).catch(vu),M=Date.now();if(_ instanceof globalThis.Error){const b=`retrying, ${n} attempts remaining`;if(!((u=d.signal)===null||u===void 0)&&u.aborted)throw new xu;const O=yu(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(n)return yt(this).info(`[${x}] connection ${O?"timed out":"failed"} - ${b}`),yt(this).debug(`[${x}] connection ${O?"timed out":"failed"} (${b})`,fr({retryOfRequestLogID:i,url:g,durationMs:M-N,message:_.message})),this.retryRequest(d,n,i??x);throw yt(this).info(`[${x}] connection ${O?"timed out":"failed"} - error; no more retries left`),yt(this).debug(`[${x}] connection ${O?"timed out":"failed"} (error; no more retries left)`,fr({retryOfRequestLogID:i,url:g,durationMs:M-N,message:_.message})),O?new cg:new Os({cause:_})}const G=`[${x}${w}] ${h.method} ${g} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${M-N}ms`;if(!_.ok){const b=await this.shouldRetry(_);if(n&&b){const K=`retrying, ${n} attempts remaining`;return await C1(_.body),yt(this).info(`${G} - ${K}`),yt(this).debug(`[${x}] response error (${K})`,fr({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:M-N})),this.retryRequest(d,n,i??x,_.headers)}const O=b?"error; no more retries left":"error; not retryable";yt(this).info(`${G} - ${O}`);const B=await _.text().catch(K=>vu(K).message),I=m1(B),$=I?void 0:B;throw yt(this).debug(`[${x}] response error (${O})`,fr({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,message:$,durationMs:Date.now()-N})),this.makeStatusError(_.status,I,$,_.headers)}return yt(this).info(G),yt(this).debug(`[${x}] response start`,fr({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:M-N})),{response:_,options:d,controller:R,requestLogID:x,retryOfRequestLogID:i,startTime:N}}async fetchWithTimeout(e,n,i,s){const l=n||{},{signal:u,method:d}=l,m=Ds(l,["signal","method"]);u&&u.addEventListener("abort",()=>s.abort());const h=setTimeout(()=>s.abort(),i),g=globalThis.ReadableStream&&m.body instanceof globalThis.ReadableStream||typeof m.body=="object"&&m.body!==null&&Symbol.asyncIterator in m.body,v=Object.assign(Object.assign(Object.assign({signal:s.signal},g?{duplex:"half"}:{}),{method:"GET"}),m);d&&(v.method=d.toUpperCase());try{return await this.fetch.call(void 0,e,v)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,i,s){var l;let u;const d=s?.get("retry-after-ms");if(d){const h=parseFloat(d);Number.isNaN(h)||(u=h)}const m=s?.get("retry-after");if(m&&!u){const h=parseFloat(m);Number.isNaN(h)?u=Date.parse(m)-Date.now():u=h*1e3}if(!(u&&0<=u&&u<60*1e3)){const h=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;u=this.calculateDefaultRetryTimeoutMillis(n,h)}return await g1(u),this.makeRequest(e,n-1,i)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,u=Math.min(.5*Math.pow(2,l),8),d=1-Math.random()*.25;return u*d*1e3}async buildRequest(e,{retryCount:n=0}={}){var i,s,l;const u=Object.assign({},e),{method:d,path:m,query:h,defaultBaseURL:g}=u,v=this.buildURL(m,h,g);"timeout"in u&&h1("timeout",u.timeout),u.timeout=(i=u.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:x,body:w}=this.buildBody({options:u}),N=await this.buildHeaders({options:e,method:d,bodyHeaders:x,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:N},u.signal&&{signal:u.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(l=u.fetchOptions)!==null&&l!==void 0?l:{}),url:v,timeout:u.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:i,retryCount:s}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const u=await this.authHeaders(e);let d=Ki([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),S1()),this._options.defaultHeaders,i,e.headers,u]);return this.validateHeaders(d),d.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=Ki([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:E1(e)}:this.encoder({body:e,headers:i})}}Js.DEFAULT_TIMEOUT=6e4;class it extends Js{constructor(){super(...arguments),this.interactions=new Ig(this)}}Ag=it;it.GeminiNextGenAPIClient=Ag;it.GeminiNextGenAPIClientError=$t;it.APIError=vt;it.APIConnectionError=Os;it.APIConnectionTimeoutError=cg;it.APIUserAbortError=xu;it.NotFoundError=hg;it.ConflictError=mg;it.RateLimitError=yg;it.BadRequestError=dg;it.AuthenticationError=fg;it.InternalServerError=vg;it.PermissionDeniedError=pg;it.UnprocessableEntityError=gg;it.toFile=N1;it.Interactions=Ig;function z1(t,e){const n={},i=c(t,["name"]);return i!=null&&f(n,["_url","name"],i),n}function q1(t,e){const n={},i=c(t,["name"]);return i!=null&&f(n,["_url","name"],i),n}function O1(t,e){const n={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(n,["sdkHttpResponse"],i),n}function $1(t,e){const n={},i=c(t,["sdkHttpResponse"]);return i!=null&&f(n,["sdkHttpResponse"],i),n}function J1(t,e,n){const i={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=c(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&f(e,["displayName"],s),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=c(t,["epochCount"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","epochCount"],l);const u=c(t,["learningRateMultiplier"]);if(u!=null&&f(i,["tuningTask","hyperparameters","learningRateMultiplier"],u),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=c(t,["batchSize"]);e!==void 0&&d!=null&&f(e,["tuningTask","hyperparameters","batchSize"],d);const m=c(t,["learningRate"]);if(e!==void 0&&m!=null&&f(e,["tuningTask","hyperparameters","learningRate"],m),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function W1(t,e,n){const i={};let s=c(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const w=c(t,["validationDataset"]);e!==void 0&&w!=null&&f(e,["supervisedTuningSpec"],tm(w))}else if(s==="PREFERENCE_TUNING"){const w=c(t,["validationDataset"]);e!==void 0&&w!=null&&f(e,["preferenceOptimizationSpec"],tm(w))}const l=c(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&f(e,["tunedModelDisplayName"],l);const u=c(t,["description"]);e!==void 0&&u!=null&&f(e,["description"],u);let d=c(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const w=c(t,["epochCount"]);e!==void 0&&w!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(d==="PREFERENCE_TUNING"){const w=c(t,["epochCount"]);e!==void 0&&w!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let m=c(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const w=c(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(m==="PREFERENCE_TUNING"){const w=c(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let h=c(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const w=c(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(h==="PREFERENCE_TUNING"){const w=c(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let g=c(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const w=c(t,["adapterSize"]);e!==void 0&&w!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(g==="PREFERENCE_TUNING"){const w=c(t,["adapterSize"]);e!==void 0&&w!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const v=c(t,["labels"]);e!==void 0&&v!=null&&f(e,["labels"],v);const x=c(t,["beta"]);return e!==void 0&&x!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],x),i}function K1(t,e){const n={},i=c(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const s=c(t,["preTunedModel"]);s!=null&&f(n,["preTunedModel"],s);const l=c(t,["trainingDataset"]);l!=null&&oA(l);const u=c(t,["config"]);return u!=null&&J1(u,n),n}function Y1(t,e){const n={},i=c(t,["baseModel"]);i!=null&&f(n,["baseModel"],i);const s=c(t,["preTunedModel"]);s!=null&&f(n,["preTunedModel"],s);const l=c(t,["trainingDataset"]);l!=null&&sA(l,n,e);const u=c(t,["config"]);return u!=null&&W1(u,n,e),n}function Q1(t,e){const n={},i=c(t,["name"]);return i!=null&&f(n,["_url","name"],i),n}function X1(t,e){const n={},i=c(t,["name"]);return i!=null&&f(n,["_url","name"],i),n}function Z1(t,e,n){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const u=c(t,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),i}function j1(t,e,n){const i={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const l=c(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const u=c(t,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),i}function eA(t,e){const n={},i=c(t,["config"]);return i!=null&&Z1(i,n),n}function tA(t,e){const n={},i=c(t,["config"]);return i!=null&&j1(i,n),n}function nA(t,e){const n={},i=c(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const l=c(t,["tunedModels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Ng(d))),f(n,["tuningJobs"],u)}return n}function rA(t,e){const n={},i=c(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const s=c(t,["nextPageToken"]);s!=null&&f(n,["nextPageToken"],s);const l=c(t,["tuningJobs"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>Eu(d))),f(n,["tuningJobs"],u)}return n}function iA(t,e){const n={},i=c(t,["name"]);i!=null&&f(n,["model"],i);const s=c(t,["name"]);return s!=null&&f(n,["endpoint"],s),n}function oA(t,e){const n={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=c(t,["examples"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),f(n,["examples","examples"],s)}return n}function sA(t,e,n){const i={};let s=c(n,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const u=c(t,["gcsUri"]);e!==void 0&&u!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(s==="PREFERENCE_TUNING"){const u=c(t,["gcsUri"]);e!==void 0&&u!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}let l=c(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const u=c(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],u)}else if(l==="PREFERENCE_TUNING"){const u=c(t,["vertexDatasetResource"]);e!==void 0&&u!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],u)}if(c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Ng(t,e){const n={},i=c(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const s=c(t,["name"]);s!=null&&f(n,["name"],s);const l=c(t,["state"]);l!=null&&f(n,["state"],$m(l));const u=c(t,["createTime"]);u!=null&&f(n,["createTime"],u);const d=c(t,["tuningTask","startTime"]);d!=null&&f(n,["startTime"],d);const m=c(t,["tuningTask","completeTime"]);m!=null&&f(n,["endTime"],m);const h=c(t,["updateTime"]);h!=null&&f(n,["updateTime"],h);const g=c(t,["description"]);g!=null&&f(n,["description"],g);const v=c(t,["baseModel"]);v!=null&&f(n,["baseModel"],v);const x=c(t,["_self"]);return x!=null&&f(n,["tunedModel"],iA(x)),n}function Eu(t,e){const n={},i=c(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const s=c(t,["name"]);s!=null&&f(n,["name"],s);const l=c(t,["state"]);l!=null&&f(n,["state"],$m(l));const u=c(t,["createTime"]);u!=null&&f(n,["createTime"],u);const d=c(t,["startTime"]);d!=null&&f(n,["startTime"],d);const m=c(t,["endTime"]);m!=null&&f(n,["endTime"],m);const h=c(t,["updateTime"]);h!=null&&f(n,["updateTime"],h);const g=c(t,["error"]);g!=null&&f(n,["error"],g);const v=c(t,["description"]);v!=null&&f(n,["description"],v);const x=c(t,["baseModel"]);x!=null&&f(n,["baseModel"],x);const w=c(t,["tunedModel"]);w!=null&&f(n,["tunedModel"],w);const N=c(t,["preTunedModel"]);N!=null&&f(n,["preTunedModel"],N);const R=c(t,["supervisedTuningSpec"]);R!=null&&f(n,["supervisedTuningSpec"],R);const _=c(t,["preferenceOptimizationSpec"]);_!=null&&f(n,["preferenceOptimizationSpec"],_);const M=c(t,["tuningDataStats"]);M!=null&&f(n,["tuningDataStats"],M);const G=c(t,["encryptionSpec"]);G!=null&&f(n,["encryptionSpec"],G);const b=c(t,["partnerModelTuningSpec"]);b!=null&&f(n,["partnerModelTuningSpec"],b);const O=c(t,["customBaseModel"]);O!=null&&f(n,["customBaseModel"],O);const B=c(t,["experiment"]);B!=null&&f(n,["experiment"],B);const I=c(t,["labels"]);I!=null&&f(n,["labels"],I);const $=c(t,["outputUri"]);$!=null&&f(n,["outputUri"],$);const le=c(t,["pipelineJob"]);le!=null&&f(n,["pipelineJob"],le);const K=c(t,["serviceAccount"]);K!=null&&f(n,["serviceAccount"],K);const re=c(t,["tunedModelDisplayName"]);re!=null&&f(n,["tunedModelDisplayName"],re);const te=c(t,["veoTuningSpec"]);return te!=null&&f(n,["veoTuningSpec"],te),n}function lA(t,e){const n={},i=c(t,["sdkHttpResponse"]);i!=null&&f(n,["sdkHttpResponse"],i);const s=c(t,["name"]);s!=null&&f(n,["name"],s);const l=c(t,["metadata"]);l!=null&&f(n,["metadata"],l);const u=c(t,["done"]);u!=null&&f(n,["done"],u);const d=c(t,["error"]);return d!=null&&f(n,["error"],d),n}function tm(t,e){const n={},i=c(t,["gcsUri"]);i!=null&&f(n,["validationDatasetUri"],i);const s=c(t,["vertexDatasetResource"]);return s!=null&&f(n,["validationDatasetUri"],s),n}class aA extends Tn{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new hr(Cn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const s={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(s.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:s});return l.baseModel=void 0,await this.tuneInternal(l)}else{const s=Object.assign({},n);return await this.tuneInternal(s)}else{const s=Object.assign({},n),l=await this.tuneMldevInternal(s);let u="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?u=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(u=l.name.split("/operations/")[0]),{name:u,state:cu.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=X1(e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>Eu(g))}else{const h=Q1(e);return d=oe("{name}",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>Ng(g))}}async listInternal(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=tA(e);return d=oe("tuningJobs",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=rA(g),x=new kh;return Object.assign(x,v),x})}else{const h=eA(e);return d=oe("tunedModels",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=nA(g),x=new kh;return Object.assign(x,v),x})}}async cancel(e){var n,i,s,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=q1(e);return d=oe("{name}:cancel",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=$1(g),x=new Ah;return Object.assign(x,v),x})}else{const h=z1(e);return d=oe("{name}:cancel",h._url),m=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(g=>g.json().then(v=>{const x=v;return x.sdkHttpResponse={headers:g.headers},x})),u.then(g=>{const v=O1(g),x=new Ah;return Object.assign(x,v),x})}}async tuneInternal(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI()){const d=Y1(e,e);return l=oe("tuningJobs",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:m.headers},g})),s.then(m=>Eu(m))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let s,l="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=K1(e);return l=oe("tunedModels",d._url),u=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json().then(h=>{const g=h;return g.sdkHttpResponse={headers:m.headers},g})),s.then(m=>lA(m))}}}class uA{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const cA=1024*1024*8,dA=3,fA=1e3,pA=2,Us="x-goog-upload-status";async function hA(t,e,n){var i;const s=await Rg(t,e,n),l=await s?.json();if(((i=s?.headers)===null||i===void 0?void 0:i[Us])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function mA(t,e,n){var i;const s=await Rg(t,e,n),l=await s?.json();if(((i=s?.headers)===null||i===void 0?void 0:i[Us])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const u=Bm(l),d=new Gu;return Object.assign(d,u),d}async function Rg(t,e,n){var i,s;let l=0,u=0,d=new du(new Response),m="upload";for(l=t.size;u<l;){const h=Math.min(cA,l-u),g=t.slice(u,u+h);u+h>=l&&(m+=", finalize");let v=0,x=fA;for(;v<dA&&(d=await n.request({path:"",body:g,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(u),"Content-Length":String(h)}}}),!(!((i=d?.headers)===null||i===void 0)&&i[Us]));)v++,await yA(x),x=x*pA;if(u+=h,((s=d?.headers)===null||s===void 0?void 0:s[Us])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function gA(t){return{size:t.size,type:t.type}}function yA(t){return new Promise(e=>setTimeout(e,t))}class vA{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hA(e,n,i)}async uploadToFileSearchStore(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await mA(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gA(e)}}class xA{create(e,n,i){return new SA(e,n,i)}}class SA{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const nm="x-goog-api-key";class wA{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(nm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(nm,this.apiKey)}}}const EA="gl-node/";class CA{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new it({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e?.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=yE(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const s=new wA(this.apiKey);this.apiClient=new gk({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:EA+"web",uploader:new vA,downloader:new uA}),this.models=new Uk(this.apiClient),this.live=new Nk(this.apiClient,s,new xA),this.batches=new JC(this.apiClient),this.chats=new kT(this.models,this.apiClient),this.caches=new TT(this.apiClient),this.files=new FT(this.apiClient),this.operations=new bk(this.apiClient),this.authTokens=new Zk(this.apiClient),this.tunings=new aA(this.apiClient),this.fileSearchStores=new s1(this.apiClient)}}class TA{ai;modelId="gemini-3-flash-preview";constructor(){const e="PLACEHOLDER_API_KEY";this.ai=new CA({apiKey:e})}async createChatStream(e,n){try{const i=e.filter(u=>!u.isStreaming),l=await this.ai.chats.create({model:this.modelId,history:i.map(u=>({role:u.role===eo.USER?"user":"model",parts:[{text:u.content}]})),config:{systemInstruction:"Kamu adalah ChatQu, asisten AI yang cerdas, ramah, dan membantu. Jawablah dengan ringkas, jelas, dan menggunakan Bahasa Indonesia yang baik namun santai. Kamu bisa membantu berbagai tugas seperti coding, menulis, atau sekadar mengobrol."}}).sendMessageStream({message:n});return(async function*(){for await(const u of l){const d=u.text;d&&(yield d)}})()}catch(i){throw console.error("Gemini API Error:",i),i}}}const _A=new TA,IA=()=>{const[t,e]=ve.useState(null),[n,i]=ve.useState("ai"),[s,l]=ve.useState([]),[u,d]=ve.useState(null),[m,h]=ve.useState([]),[g,v]=ve.useState(!1),[x,w]=ve.useState(!1),[N,R]=ve.useState(!1),[_,M]=ve.useState(!1),G=ve.useRef(null),b=ve.useRef(null),O=()=>{Ye.isOfflineMode&&Ye.isOfflineMode()&&R(!0)},B=async H=>{try{const X=await Ye.registerUser(H);e(X),O()}catch(X){console.error("Register Error:",X),alert("Gagal Daftar: "+X.message)}},I=async H=>{try{const X=await Ye.loginUser(H);X?(e(X),O()):alert("Login gagal. Periksa kembali data Anda.")}catch(X){console.error("Login error:",X);let T=X.message;T.includes("Failed to fetch")&&(T="Gagal menghubungi server backend."),alert("Gagal Masuk: "+T)}},$=async()=>{try{const H=await Ye.loginDemo();e(H),O()}catch{alert("Gagal masuk mode demo.")}},le=()=>{e(null),h([]),l([]),R(!1)},K=ve.useCallback(async()=>{if(!(!t||t.id==="admin-master"))try{const H=await Ye.getSessions(n,t.id);l(X=>JSON.stringify(X)!==JSON.stringify(H)?H:X),O()}catch(H){console.error("Failed to load sessions:",H)}},[n,t]);ve.useEffect(()=>(K(),d(null),h([]),b.current&&clearInterval(b.current),b.current=setInterval(K,5e3),()=>{b.current&&clearInterval(b.current)}),[K,n]);const re=ve.useCallback(async()=>{if(!u){h([]);return}try{const H=await Ye.getMessages(u);h(X=>X.length!==H.length||JSON.stringify(X)!==JSON.stringify(H)?H:X),O()}catch(H){console.error("Failed to load messages:",H)}},[u]);ve.useEffect(()=>(re(),G.current&&clearInterval(G.current),G.current=setInterval(re,1e3),()=>{G.current&&clearInterval(G.current)}),[re]);const te=H=>{i(H),w(!1)},ie=async()=>{t&&(n==="private"?(M(!0),w(!1)):n==="ai"&&(d(null),h([]),w(!1)))},ae=async H=>{if(t)try{const X=s.find(D=>D.type==="private"&&D.participants?.includes(H.id));if(X){d(X.id),M(!1);return}const T=await Ye.createSession("private",`${H.name}`,[t.id,H.id]);l(D=>[T,...D]),d(T.id),M(!1)}catch{alert("Gagal membuat chat")}},Y=async H=>{if(!t||g)return;let X=u;try{if(!X&&n==="ai"){const D=H.split(" ").slice(0,5).join(" "),q=await Ye.createSession("ai",D);X=q.id,l(k=>[q,...k]),d(X)}if(!X&&(n==="global"||n==="private")){alert("Silakan pilih ruang chat terlebih dahulu dari menu di sebelah kiri.");return}if(!X)return;const T={id:crypto.randomUUID(),role:eo.USER,content:H,timestamp:Date.now(),senderId:t.id,senderName:t.name};h(D=>[...D,T]),v(!0),await Ye.saveMessage(X,T),await re(),n==="ai"&&await ee(X,H),O()}catch(T){console.error(T),alert("Gagal mengirim pesan")}finally{v(!1)}},ee=async(H,X)=>{const T=crypto.randomUUID(),D={id:T,role:eo.MODEL,content:"",timestamp:Date.now(),isStreaming:!0,senderId:"model",senderName:"ChatQu"};h(q=>[...q,D]);try{const q=await _A.createChatStream(m,X);let k="";for await(const Ce of q)k+=Ce,h(me=>me.map(Ne=>Ne.id===T?{...Ne,content:k}:Ne));const pe={...D,content:k,isStreaming:!1};h(Ce=>Ce.map(me=>me.id===T?pe:me)),await Ye.saveMessage(H,pe)}catch{h(pe=>pe.filter(Ce=>Ce.id!==T));const k={...D,content:"Maaf, saya tidak bisa terhubung ke AI saat ini.",isStreaming:!1};h(pe=>[...pe,k]),await Ye.saveMessage(H,k)}},he=async(H,X)=>{if(X.stopPropagation(),confirm("Hapus percakapan?"))try{await Ye.deleteSession(H),l(T=>T.filter(D=>D.id!==H)),u===H&&d(null)}catch{alert("Gagal menghapus percakapan")}};if(!t)return C.jsx(lE,{onLogin:I,onRegister:B,onDemo:$});if(t.id==="admin-master")return C.jsx(fE,{onLogout:le});const xe=s.find(H=>H.id===u)?.title||(n==="global"?"Daftar Ruang Publik":n==="ai"?"Chat Baru":"Daftar Chat");return C.jsxs("div",{className:"flex h-screen overflow-hidden bg-slate-900",children:[C.jsx(F0,{currentUser:t,activeTab:n,sessions:s,currentSessionId:u,onTabChange:te,onSelectSession:H=>{d(H),w(!1)},onNewChat:ie,onDeleteSession:he,onLogout:le,isOpen:x,toggleSidebar:()=>w(!x)}),C.jsxs("main",{className:"flex-1 flex flex-col relative min-w-0",children:[N&&C.jsx("div",{className:"bg-amber-500 text-white text-xs px-2 py-1 text-center font-bold z-20",children:t.username==="demo_user"?"MODE DEMO PENGUNJUNG":"MODE OFFLINE"}),C.jsx(sE,{activeTab:n,messages:m,isLoading:g,currentUserId:t.id,chatTitle:xe,onSendMessage:Y,toggleSidebar:()=>w(!x),onRefresh:re}),_&&C.jsx(dE,{currentUserId:t.id,onClose:()=>M(!1),onStartChat:ae})]})]})},kA=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function AA(t){if("serviceWorker"in navigator){if(new URL(window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const n="./service-worker.js";kA?(rm(n),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):rm(n)})}}function NA(t,e){navigator.serviceWorker.register(t).then(n=>{n.onupdatefound=()=>{const i=n.installing;i!=null&&(i.onstatechange=()=>{i.state==="installed"&&(navigator.serviceWorker.controller?console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."):console.log("Content is cached for offline use."))})}}).catch(n=>{if(n.message&&n.message.includes("origin")&&(n.message.includes("scriptURL")||n.message.includes("serviceWorker"))){console.debug("SW: Skipped (redirect detected in preview environment).");return}console.error("Error during service worker registration:",n)})}function rm(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then(n=>{const i=n.headers.get("content-type");if(n.redirected||n.url&&new URL(n.url).origin!==window.location.origin){console.debug("SW: Redirect detected (cross-origin). Aborting registration.");return}n.status===404||i!=null&&i.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(s=>{s.unregister()}):NA(t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const Pg=document.getElementById("root");if(!Pg)throw new Error("Could not find root element to mount to");const RA=b0.createRoot(Pg);RA.render(C.jsx(N0.StrictMode,{children:C.jsx(IA,{})}));AA();
